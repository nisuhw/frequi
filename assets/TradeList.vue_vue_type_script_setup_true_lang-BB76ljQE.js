import{_ as ne,S as He,V as Re,t as Ne,H as Ue,I as We,y as je,F as Ke,aP as Ge,n as ve,j as pe,aT as qe,q as he,a2 as ue,bE as Ye,cZ as Z,T as Xe,R as te,c_ as be,c6 as V,by as Qe,c$ as Je,a5 as Ze,d0 as ge,a7 as ye,d1 as et,d2 as tt,a4 as at,aj as nt,aW as rt,d3 as it,d4 as ot}from"./installCanvasRenderer-Ccd6LHi5.js";import{ab as lt}from"./chartZoom-Cx7pVw3C.js";import{d as Y,aY as ke,a8 as we,u as re,r as E,bb as st,y as $,a as g,k as ie,h as T,e as k,w as Se,c as _,q as I,f as b,b as y,i as R,s as xe,bc as ee,t as F,g as X,j as N,bd as Ee,a2 as ut,a3 as dt,ai as ct,au as ft,ap as mt,be as vt,bf as pt,Q as K,aa as ht,p as bt,J as gt,m as Q,bg as Te,G as yt,N as kt,Y as wt,aV as St,F as j,v as xt,I as de,bh as Et}from"./index-DvLAGnun.js";import{s as Pe}from"./index-BTWjBZV7.js";import{s as Be}from"./index-DM2z3geS.js";import{s as Tt,a as Pt}from"./index-BNgjpS5Q.js";import{a as Bt,_ as _t}from"./InfoBox.vue_vue_type_script_setup_true_lang-BB-U0Ls6.js";import{s as Vt}from"./index-CCmZthug.js";var _e=function(t){ne(e,t);function e(){var a=t!==null&&t.apply(this,arguments)||this;return a.type=e.type,a.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],a.visualDrawType="stroke",a}return e.type="series.boxplot",e.dependencies=["xAxis","yAxis","grid"],e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},e}(He);Re(_e,lt,!0);var Ct=function(t){ne(e,t);function e(){var a=t!==null&&t.apply(this,arguments)||this;return a.type=e.type,a}return e.prototype.render=function(a,r,i){var n=a.getData(),o=this.group,s=this._data;this._data||o.removeAll();var d=a.get("layout")==="horizontal"?1:0;n.diff(s).add(function(m){if(n.hasValue(m)){var u=n.getItemLayout(m),l=ce(u,n,m,d,!0);n.setItemGraphicEl(m,l),o.add(l)}}).update(function(m,u){var l=s.getItemGraphicEl(u);if(!n.hasValue(m)){o.remove(l);return}var p=n.getItemLayout(m);l?(Ne(l),Ve(p,l,n,m)):l=ce(p,n,m,d),o.add(l),n.setItemGraphicEl(m,l)}).remove(function(m){var u=s.getItemGraphicEl(m);u&&o.remove(u)}).execute(),this._data=n},e.prototype.remove=function(a){var r=this.group,i=this._data;this._data=null,i&&i.eachItemGraphicEl(function(n){n&&r.remove(n)})},e.type="boxplot",e}(Ue),Dt=function(){function t(){}return t}(),Lt=function(t){ne(e,t);function e(a){var r=t.call(this,a)||this;return r.type="boxplotBoxPath",r}return e.prototype.getDefaultShape=function(){return new Dt},e.prototype.buildPath=function(a,r){var i=r.points,n=0;for(a.moveTo(i[n][0],i[n][1]),n++;n<4;n++)a.lineTo(i[n][0],i[n][1]);for(a.closePath();n<i.length;n++)a.moveTo(i[n][0],i[n][1]),n++,a.lineTo(i[n][0],i[n][1])},e}(Ge);function ce(t,e,a,r,i){var n=t.ends,o=new Lt({shape:{points:i?Mt(n,r,t):n}});return Ve(t,o,e,a,i),o}function Ve(t,e,a,r,i){var n=a.hostModel,o=We[i?"initProps":"updateProps"];o(e,{shape:{points:t.ends}},n,r),e.useStyle(a.getItemVisual(r,"style")),e.style.strokeNoScale=!0,e.z2=100;var s=a.getItemModel(r),d=s.getModel("emphasis");je(e,s),Ke(e,d.get("focus"),d.get("blurScope"),d.get("disabled"))}function Mt(t,e,a){return ve(t,function(r){return r=r.slice(),r[e]=a.initBaseline,r})}var G=pe;function Ft(t){var e=$t(t);G(e,function(a){var r=a.seriesModels;r.length&&(At(a),G(r,function(i,n){It(i,a.boxOffsetList[n],a.boxWidthList[n])}))})}function $t(t){var e=[],a=[];return t.eachSeriesByType("boxplot",function(r){var i=r.getBaseAxis(),n=qe(a,i);n<0&&(n=a.length,a[n]=i,e[n]={axis:i,seriesModels:[]}),e[n].seriesModels.push(r)}),e}function At(t){var e=t.axis,a=t.seriesModels,r=a.length,i=t.boxWidthList=[],n=t.boxOffsetList=[],o=[],s;if(e.type==="category")s=e.getBandWidth();else{var d=0;G(a,function(h){d=Math.max(d,h.getData().count())});var m=e.getExtent();s=Math.abs(m[1]-m[0])/d}G(a,function(h){var c=h.get("boxWidth");he(c)||(c=[c,c]),o.push([ue(c[0],s)||0,ue(c[1],s)||0])});var u=s*.8-2,l=u/r*.3,p=(u-l*(r-1))/r,w=p/2-u/2;G(a,function(h,c){n.push(w),w+=l+p,i.push(Math.min(Math.max(p,o[c][0]),o[c][1]))})}function It(t,e,a){var r=t.coordinateSystem,i=t.getData(),n=a/2,o=t.get("layout")==="horizontal"?0:1,s=1-o,d=["x","y"],m=i.mapDimension(d[o]),u=i.mapDimensionsAll(d[s]);if(m==null||u.length<5)return;for(var l=0;l<i.count();l++){var p=i.get(m,l),w=f(p,u[2],l),h=f(p,u[0],l),c=f(p,u[1],l),B=f(p,u[3],l),C=f(p,u[4],l),S=[];z(S,c,!1),z(S,B,!0),S.push(h,c,C,B),L(S,h),L(S,C),L(S,w),i.setItemLayout(l,{initBaseline:w[s],ends:S})}function f(O,H,U){var x=i.get(H,U),W=[];W[o]=O,W[s]=x;var v;return isNaN(O)||isNaN(x)?v=[NaN,NaN]:(v=r.dataToPoint(W),v[o]+=e),v}function z(O,H,U){var x=H.slice(),W=H.slice();x[o]+=n,W[o]-=n,U?O.push(x,W):O.push(W,x)}function L(O,H){var U=H.slice(),x=H.slice();U[o]-=n,x[o]+=n,O.push(U,x)}}function Ot(t,e){e=e||{};for(var a=[],r=[],i=e.boundIQR,n=i==="none"||i===0,o=0;o<t.length;o++){var s=Ye(t[o].slice()),d=Z(s,.25),m=Z(s,.5),u=Z(s,.75),l=s[0],p=s[s.length-1],w=(i??1.5)*(u-d),h=n?l:Math.max(l,d-w),c=n?p:Math.min(p,u+w),B=e.itemNameFormatter,C=Xe(B)?B({value:o}):te(B)?B.replace("{value}",o+""):o+"";a.push([C,h,d,m,u,c]);for(var S=0;S<s.length;S++){var f=s[S];if(f<h||f>c){var z=[C,f];r.push(z)}}}return{boxData:a,outliers:r}}var zt={type:"echarts:boxplot",transform:function(e){var a=e.upstream;if(a.sourceFormat!==be){var r="";V(r)}var i=Ot(a.getRawData(),e.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:i.boxData},{data:i.outliers}]}};function on(t){t.registerSeriesModel(_e),t.registerChartView(Ct),t.registerLayout(Ft),t.registerTransform(zt)}var fe={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},Ht=function(){function t(e){var a=this._condVal=te(e)?new RegExp(e):tt(e)?e:null;if(a==null){var r="";V(r)}}return t.prototype.evaluate=function(e){var a=typeof e;return te(a)?this._condVal.test(e):at(a)?this._condVal.test(e+""):!1},t}(),Rt=function(){function t(){}return t.prototype.evaluate=function(){return this.value},t}(),Nt=function(){function t(){}return t.prototype.evaluate=function(){for(var e=this.children,a=0;a<e.length;a++)if(!e[a].evaluate())return!1;return!0},t}(),Ut=function(){function t(){}return t.prototype.evaluate=function(){for(var e=this.children,a=0;a<e.length;a++)if(e[a].evaluate())return!0;return!1},t}(),Wt=function(){function t(){}return t.prototype.evaluate=function(){return!this.child.evaluate()},t}(),jt=function(){function t(){}return t.prototype.evaluate=function(){for(var e=!!this.valueParser,a=this.getValue,r=a(this.valueGetterParam),i=e?this.valueParser(r):null,n=0;n<this.subCondList.length;n++)if(!this.subCondList[n].evaluate(e?i:r))return!1;return!0},t}();function oe(t,e){if(t===!0||t===!1){var a=new Rt;return a.value=t,a}var r="";return Ce(t)||V(r),t.and?me("and",t,e):t.or?me("or",t,e):t.not?Kt(t,e):Gt(t,e)}function me(t,e,a){var r=e[t],i="";he(r)||V(i),r.length||V(i);var n=t==="and"?new Nt:new Ut;return n.children=ve(r,function(o){return oe(o,a)}),n.children.length||V(i),n}function Kt(t,e){var a=t.not,r="";Ce(a)||V(r);var i=new Wt;return i.child=oe(a,e),i.child||V(r),i}function Gt(t,e){for(var a="",r=e.prepareGetValue(t),i=[],n=Ze(t),o=t.parser,s=o?ge(o):null,d=0;d<n.length;d++){var m=n[d];if(!(m==="parser"||e.valueGetterAttrMap.get(m))){var u=ye(fe,m)?fe[m]:m,l=t[m],p=s?s(l):l,w=et(u,p)||u==="reg"&&new Ht(p);w||V(a),i.push(w)}}i.length||V(a);var h=new jt;return h.valueGetterParam=r,h.valueParser=s,h.getValue=e.getValue,h.subCondList=i,h}function Ce(t){return Qe(t)&&!Je(t)}var qt=function(){function t(e,a){this._cond=oe(e,a)}return t.prototype.evaluate=function(){return this._cond.evaluate()},t}();function Yt(t,e){return new qt(t,e)}var Xt={type:"echarts:filter",transform:function(t){for(var e=t.upstream,a,r=Yt(t.config,{valueGetterAttrMap:nt({dimension:!0}),prepareGetValue:function(s){var d="",m=s.dimension;ye(s,"dimension")||V(d);var u=e.getDimensionInfo(m);return u||V(d),{dimIdx:u.index}},getValue:function(s){return e.retrieveValueFromItem(a,s.dimIdx)}}),i=[],n=0,o=e.count();n<o;n++)a=e.getRawDataItem(n),r.evaluate()&&i.push(a);return{data:i}}},Qt={type:"echarts:sort",transform:function(t){var e=t.upstream,a=t.config,r="",i=rt(a);i.length||V(r);var n=[];pe(i,function(u){var l=u.dimension,p=u.order,w=u.parser,h=u.incomparable;if(l==null&&V(r),p!=="asc"&&p!=="desc"&&V(r),h&&h!=="min"&&h!=="max"){var c="";V(c)}if(p!=="asc"&&p!=="desc"){var B="";V(B)}var C=e.getDimensionInfo(l);C||V(r);var S=w?ge(w):null;w&&!S&&V(r),n.push({dimIdx:C.index,parser:S,comparator:new it(p,h)})});var o=e.sourceFormat;o!==be&&o!==ot&&V(r);for(var s=[],d=0,m=e.count();d<m;d++)s.push(e.getRawDataItem(d));return s.sort(function(u,l){for(var p=0;p<n.length;p++){var w=n[p],h=e.retrieveValueFromItem(u,w.dimIdx),c=e.retrieveValueFromItem(l,w.dimIdx);w.parser&&(h=w.parser(h),c=w.parser(c));var B=w.comparator.evaluate(h,c);if(B!==0)return B}return 0}),{data:s}}};function ln(t){t.registerTransform(Xt),t.registerTransform(Qt)}const Jt={key:0},Zt={for:"stake-input",class:"block font-medium mb-1"},ea={key:1},ta={key:2},aa={class:"flex justify-end gap-2"},na=Y({__name:"ForceEntryForm",props:ke({pair:{type:String,default:""},positionIncrease:{type:Boolean,default:!1}},{modelValue:{type:Boolean},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const e=t,a=we(t,"modelValue"),r=re(),i=E(),n=E(""),o=E(void 0),s=E(void 0),d=E(void 0),m=E(""),u=E(st.long),l=E("force_entry"),p=[{value:"market",text:"Market"},{value:"limit",text:"Limit"}],w=[{value:"long",text:"Long"},{value:"short",text:"Short"}],h=()=>i.value?.checkValidity(),c=async()=>{if(!h())return;const S={pair:n.value};o.value&&(S.price=Number(o.value)),m.value&&(S.ordertype=m.value),s.value&&(S.stakeamount=s.value),r.activeBot.botFeatures.forceEnterShort&&r.activeBot.shortAllowed&&(S.side=u.value),r.activeBot.botFeatures.forceEntryTag&&l.value&&(S.entry_tag=l.value),d.value&&(S.leverage=d.value),r.activeBot.forceentry(S),await Ee(),a.value=!1},B=()=>{console.log("resetForm"),n.value=e.pair,o.value=void 0,s.value=void 0,m.value=r.activeBot.botState?.order_types?.forcebuy||r.activeBot.botState?.order_types?.force_entry||r.activeBot.botState?.order_types?.buy||r.activeBot.botState?.order_types?.entry||"limit"},C=()=>{c()};return(S,f)=>{const z=Be,L=xe,O=Pe,H=X,U=ie;return g(),$(U,{visible:a.value,"onUpdate:visible":f[9]||(f[9]=x=>a.value=x),header:t.positionIncrease?`Increasing position for ${t.pair}`:"Force entering a trade",modal:"",onShow:B,onHide:B},{footer:T(()=>[k("div",aa,[y(H,{severity:"secondary",size:"small",onClick:f[8]||(f[8]=x=>a.value=!1)},{default:T(()=>f[16]||(f[16]=[N(" Cancel ")])),_:1,__:[16]}),y(H,{severity:"primary",size:"small",onClick:C},{default:T(()=>f[17]||(f[17]=[N(" Enter Position ")])),_:1,__:[17]})])]),default:T(()=>[k("form",{ref_key:"form",ref:i,class:"space-y-4 md:min-w-[32rem]",onSubmit:Se(c,["prevent"])},[b(r).activeBot.botFeatures.forceEnterShort&&b(r).activeBot.shortAllowed?(g(),_("div",Jt,[f[10]||(f[10]=k("label",{class:"block font-medium mb-1"},"Order direction (Long or Short)",-1)),y(z,{modelValue:b(u),"onUpdate:modelValue":f[0]||(f[0]=x=>R(u)?u.value=x:null),options:w,"allow-empty":!1,"option-label":"text","option-value":"value",size:"small",class:"w-full"},null,8,["modelValue"])])):I("",!0),k("div",null,[f[11]||(f[11]=k("label",{for:"pair-input",class:"block font-medium mb-1"},"Pair",-1)),y(L,{id:"pair-input",modelValue:b(n),"onUpdate:modelValue":f[1]||(f[1]=x=>R(n)?n.value=x:null),disabled:t.positionIncrease,required:"",class:"w-full",onKeydown:ee(C,["enter"]),onFocus:f[2]||(f[2]=x=>x.target.select())},null,8,["modelValue","disabled"])]),k("div",null,[f[12]||(f[12]=k("label",{for:"price-input",class:"block font-medium mb-1"},"Price [optional]",-1)),y(O,{id:"price-input",modelValue:b(o),"onUpdate:modelValue":f[3]||(f[3]=x=>R(o)?o.value=x:null),"show-buttons":"",min:0,"max-fraction-digits":8,step:.1,class:"w-full",onKeydown:ee(C,["enter"])},null,8,["modelValue"])]),k("div",null,[k("label",Zt,"* Stake-amount in "+F(b(r).activeBot.stakeCurrency)+" [optional]",1),y(O,{id:"stake-input",modelValue:b(s),"onUpdate:modelValue":f[4]||(f[4]=x=>R(s)?s.value=x:null),"show-buttons":"",min:0,step:b(r).activeBot.stakeCurrency==="USDT"?10:1,"max-fraction-digits":5,fluid:""},null,8,["modelValue","step"])]),b(r).activeBot.botFeatures.forceEnterShort&&b(r).activeBot.shortAllowed?(g(),_("div",ea,[f[13]||(f[13]=k("label",{for:"leverage-input",class:"block font-medium mb-1"},"Leverage to apply [optional]",-1)),y(O,{id:"leverage-input",modelValue:b(d),"onUpdate:modelValue":f[5]||(f[5]=x=>R(d)?d.value=x:null),"show-buttons":"",min:0,step:1,"max-fraction-digits":1,class:"w-full",onKeydown:ee(C,["enter"])},null,8,["modelValue"])])):I("",!0),k("div",null,[f[14]||(f[14]=k("label",{class:"block text-sm font-medium mb-1"},"OrderType",-1)),y(z,{modelValue:b(m),"onUpdate:modelValue":f[6]||(f[6]=x=>R(m)?m.value=x:null),options:p,"option-label":"text","option-value":"value",size:"small",class:"w-full"},null,8,["modelValue"])]),b(r).activeBot.botFeatures.forceEntryTag?(g(),_("div",ta,[f[15]||(f[15]=k("label",{for:"enterTag-input",class:"block text-sm font-medium mb-1"},"* Custom entry tag [optional]",-1)),y(L,{id:"enterTag-input",modelValue:b(l),"onUpdate:modelValue":f[7]||(f[7]=x=>R(l)?l.value=x:null),class:"w-full"},null,8,["modelValue"])])):I("",!0)],544)]),_:1},8,["visible","header"])}}});var ra=`
    .p-slider {
        display: block;
        position: relative;
        background: dt('slider.track.background');
        border-radius: dt('slider.track.border.radius');
    }

    .p-slider-handle {
        cursor: grab;
        touch-action: none;
        user-select: none;
        display: flex;
        justify-content: center;
        align-items: center;
        height: dt('slider.handle.height');
        width: dt('slider.handle.width');
        background: dt('slider.handle.background');
        border-radius: dt('slider.handle.border.radius');
        transition:
            background dt('slider.transition.duration'),
            color dt('slider.transition.duration'),
            border-color dt('slider.transition.duration'),
            box-shadow dt('slider.transition.duration'),
            outline-color dt('slider.transition.duration');
        outline-color: transparent;
    }

    .p-slider-handle::before {
        content: '';
        width: dt('slider.handle.content.width');
        height: dt('slider.handle.content.height');
        display: block;
        background: dt('slider.handle.content.background');
        border-radius: dt('slider.handle.content.border.radius');
        box-shadow: dt('slider.handle.content.shadow');
        transition: background dt('slider.transition.duration');
    }

    .p-slider:not(.p-disabled) .p-slider-handle:hover {
        background: dt('slider.handle.hover.background');
    }

    .p-slider:not(.p-disabled) .p-slider-handle:hover::before {
        background: dt('slider.handle.content.hover.background');
    }

    .p-slider-handle:focus-visible {
        box-shadow: dt('slider.handle.focus.ring.shadow');
        outline: dt('slider.handle.focus.ring.width') dt('slider.handle.focus.ring.style') dt('slider.handle.focus.ring.color');
        outline-offset: dt('slider.handle.focus.ring.offset');
    }

    .p-slider-range {
        display: block;
        background: dt('slider.range.background');
        border-radius: dt('slider.track.border.radius');
    }

    .p-slider.p-slider-horizontal {
        height: dt('slider.track.size');
    }

    .p-slider-horizontal .p-slider-range {
        inset-block-start: 0;
        inset-inline-start: 0;
        height: 100%;
    }

    .p-slider-horizontal .p-slider-handle {
        inset-block-start: 50%;
        margin-block-start: calc(-1 * calc(dt('slider.handle.height') / 2));
        margin-inline-start: calc(-1 * calc(dt('slider.handle.width') / 2));
    }

    .p-slider-vertical {
        min-height: 100px;
        width: dt('slider.track.size');
    }

    .p-slider-vertical .p-slider-handle {
        inset-inline-start: 50%;
        margin-inline-start: calc(-1 * calc(dt('slider.handle.width') / 2));
        margin-block-end: calc(-1 * calc(dt('slider.handle.height') / 2));
    }

    .p-slider-vertical .p-slider-range {
        inset-block-end: 0;
        inset-inline-start: 0;
        width: 100%;
    }
`,ia={handle:{position:"absolute"},range:{position:"absolute"}},oa={root:function(e){var a=e.instance,r=e.props;return["p-slider p-component",{"p-disabled":r.disabled,"p-invalid":a.$invalid,"p-slider-horizontal":r.orientation==="horizontal","p-slider-vertical":r.orientation==="vertical"}]},range:"p-slider-range",handle:"p-slider-handle"},la=ut.extend({name:"slider",style:ra,classes:oa,inlineStyles:ia}),sa={name:"BaseSlider",extends:dt,props:{min:{type:Number,default:0},max:{type:Number,default:100},orientation:{type:String,default:"horizontal"},step:{type:Number,default:null},range:{type:Boolean,default:!1},tabindex:{type:Number,default:0},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:la,provide:function(){return{$pcSlider:this,$parentInstance:this}}};function q(t){"@babel/helpers - typeof";return q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q(t)}function ua(t,e,a){return(e=da(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function da(t){var e=ca(t,"string");return q(e)=="symbol"?e:e+""}function ca(t,e){if(q(t)!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var r=a.call(t,e);if(q(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fa(t){return ha(t)||pa(t)||va(t)||ma()}function ma(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function va(t,e){if(t){if(typeof t=="string")return ae(t,e);var a={}.toString.call(t).slice(8,-1);return a==="Object"&&t.constructor&&(a=t.constructor.name),a==="Map"||a==="Set"?Array.from(t):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?ae(t,e):void 0}}function pa(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ha(t){if(Array.isArray(t))return ae(t)}function ae(t,e){(e==null||e>t.length)&&(e=t.length);for(var a=0,r=Array(e);a<e;a++)r[a]=t[a];return r}var De={name:"Slider",extends:sa,inheritAttrs:!1,emits:["change","slideend"],dragging:!1,handleIndex:null,initX:null,initY:null,barWidth:null,barHeight:null,dragListener:null,dragEndListener:null,beforeUnmount:function(){this.unbindDragListeners()},methods:{updateDomData:function(){var e=this.$el.getBoundingClientRect();this.initX=e.left+vt(),this.initY=e.top+pt(),this.barWidth=this.$el.offsetWidth,this.barHeight=this.$el.offsetHeight},setValue:function(e){var a,r=e.touches?e.touches[0].pageX:e.pageX,i=e.touches?e.touches[0].pageY:e.pageY;this.orientation==="horizontal"?mt(this.$el)?a=(this.initX+this.barWidth-r)*100/this.barWidth:a=(r-this.initX)*100/this.barWidth:a=(this.initY+this.barHeight-i)*100/this.barHeight;var n=(this.max-this.min)*(a/100)+this.min;if(this.step){var o=this.range?this.value[this.handleIndex]:this.value,s=n-o;s<0?n=o+Math.ceil(n/this.step-o/this.step)*this.step:s>0&&(n=o+Math.floor(n/this.step-o/this.step)*this.step)}else n=Math.floor(n);this.updateModel(e,n)},updateModel:function(e,a){var r=Math.round(a*100)/100,i;this.range?(i=this.value?fa(this.value):[],this.handleIndex==0?(r<this.min?r=this.min:r>=this.max&&(r=this.max),i[0]=r):(r>this.max?r=this.max:r<=this.min&&(r=this.min),i[1]=r)):(r<this.min?r=this.min:r>this.max&&(r=this.max),i=r),this.writeValue(i,e),this.$emit("change",i)},onDragStart:function(e,a){this.disabled||(this.$el.setAttribute("data-p-sliding",!0),this.dragging=!0,this.updateDomData(),this.range&&this.value[0]===this.max?this.handleIndex=0:this.handleIndex=a,e.currentTarget.focus())},onDrag:function(e){this.dragging&&this.setValue(e)},onDragEnd:function(e){this.dragging&&(this.dragging=!1,this.$el.setAttribute("data-p-sliding",!1),this.$emit("slideend",{originalEvent:e,value:this.value}))},onBarClick:function(e){this.disabled||ft(e.target,"data-pc-section")!=="handle"&&(this.updateDomData(),this.setValue(e))},onMouseDown:function(e,a){this.bindDragListeners(),this.onDragStart(e,a)},onKeyDown:function(e,a){switch(this.handleIndex=a,e.code){case"ArrowDown":case"ArrowLeft":this.decrementValue(e,a),e.preventDefault();break;case"ArrowUp":case"ArrowRight":this.incrementValue(e,a),e.preventDefault();break;case"PageDown":this.decrementValue(e,a,!0),e.preventDefault();break;case"PageUp":this.incrementValue(e,a,!0),e.preventDefault();break;case"Home":this.updateModel(e,this.min),e.preventDefault();break;case"End":this.updateModel(e,this.max),e.preventDefault();break}},onBlur:function(e,a){var r,i;(r=(i=this.formField).onBlur)===null||r===void 0||r.call(i,e)},decrementValue:function(e,a){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i;this.range?this.step?i=this.value[a]-this.step:i=this.value[a]-1:this.step?i=this.value-this.step:!this.step&&r?i=this.value-10:i=this.value-1,this.updateModel(e,i),e.preventDefault()},incrementValue:function(e,a){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i;this.range?this.step?i=this.value[a]+this.step:i=this.value[a]+1:this.step?i=this.value+this.step:!this.step&&r?i=this.value+10:i=this.value+1,this.updateModel(e,i),e.preventDefault()},bindDragListeners:function(){this.dragListener||(this.dragListener=this.onDrag.bind(this),document.addEventListener("mousemove",this.dragListener)),this.dragEndListener||(this.dragEndListener=this.onDragEnd.bind(this),document.addEventListener("mouseup",this.dragEndListener))},unbindDragListeners:function(){this.dragListener&&(document.removeEventListener("mousemove",this.dragListener),this.dragListener=null),this.dragEndListener&&(document.removeEventListener("mouseup",this.dragEndListener),this.dragEndListener=null)},rangeStyle:function(){if(this.range){var e=this.rangeEndPosition>this.rangeStartPosition?this.rangeEndPosition-this.rangeStartPosition:this.rangeStartPosition-this.rangeEndPosition,a=this.rangeEndPosition>this.rangeStartPosition?this.rangeStartPosition:this.rangeEndPosition;return this.horizontal?{"inset-inline-start":a+"%",width:e+"%"}:{bottom:a+"%",height:e+"%"}}else return this.horizontal?{width:this.handlePosition+"%"}:{height:this.handlePosition+"%"}},handleStyle:function(){return this.horizontal?{"inset-inline-start":this.handlePosition+"%"}:{bottom:this.handlePosition+"%"}},rangeStartHandleStyle:function(){return this.horizontal?{"inset-inline-start":this.rangeStartPosition+"%"}:{bottom:this.rangeStartPosition+"%"}},rangeEndHandleStyle:function(){return this.horizontal?{"inset-inline-start":this.rangeEndPosition+"%"}:{bottom:this.rangeEndPosition+"%"}}},computed:{value:function(){var e;if(this.range){var a,r,i,n;return[(a=(r=this.d_value)===null||r===void 0?void 0:r[0])!==null&&a!==void 0?a:this.min,(i=(n=this.d_value)===null||n===void 0?void 0:n[1])!==null&&i!==void 0?i:this.max]}return(e=this.d_value)!==null&&e!==void 0?e:this.min},horizontal:function(){return this.orientation==="horizontal"},vertical:function(){return this.orientation==="vertical"},handlePosition:function(){return this.value<this.min?0:this.value>this.max?100:(this.value-this.min)*100/(this.max-this.min)},rangeStartPosition:function(){return this.value&&this.value[0]!==void 0?this.value[0]<this.min?0:(this.value[0]-this.min)*100/(this.max-this.min):0},rangeEndPosition:function(){return this.value&&this.value.length===2&&this.value[1]!==void 0?this.value[1]>this.max?100:(this.value[1]-this.min)*100/(this.max-this.min):100},dataP:function(){return ct(ua({},this.orientation,this.orientation))}}},ba=["data-p"],ga=["data-p"],ya=["tabindex","aria-valuemin","aria-valuenow","aria-valuemax","aria-labelledby","aria-label","aria-orientation","data-p"],ka=["tabindex","aria-valuemin","aria-valuenow","aria-valuemax","aria-labelledby","aria-label","aria-orientation","data-p"],wa=["tabindex","aria-valuemin","aria-valuenow","aria-valuemax","aria-labelledby","aria-label","aria-orientation","data-p"];function Sa(t,e,a,r,i,n){return g(),_("div",K({class:t.cx("root"),onClick:e[18]||(e[18]=function(){return n.onBarClick&&n.onBarClick.apply(n,arguments)})},t.ptmi("root"),{"data-p-sliding":!1,"data-p":n.dataP}),[k("span",K({class:t.cx("range"),style:[t.sx("range"),n.rangeStyle()]},t.ptm("range"),{"data-p":n.dataP}),null,16,ga),t.range?I("",!0):(g(),_("span",K({key:0,class:t.cx("handle"),style:[t.sx("handle"),n.handleStyle()],onTouchstartPassive:e[0]||(e[0]=function(o){return n.onDragStart(o)}),onTouchmovePassive:e[1]||(e[1]=function(o){return n.onDrag(o)}),onTouchend:e[2]||(e[2]=function(o){return n.onDragEnd(o)}),onMousedown:e[3]||(e[3]=function(o){return n.onMouseDown(o)}),onKeydown:e[4]||(e[4]=function(o){return n.onKeyDown(o)}),onBlur:e[5]||(e[5]=function(o){return n.onBlur(o)}),tabindex:t.tabindex,role:"slider","aria-valuemin":t.min,"aria-valuenow":t.d_value,"aria-valuemax":t.max,"aria-labelledby":t.ariaLabelledby,"aria-label":t.ariaLabel,"aria-orientation":t.orientation},t.ptm("handle"),{"data-p":n.dataP}),null,16,ya)),t.range?(g(),_("span",K({key:1,class:t.cx("handle"),style:[t.sx("handle"),n.rangeStartHandleStyle()],onTouchstartPassive:e[6]||(e[6]=function(o){return n.onDragStart(o,0)}),onTouchmovePassive:e[7]||(e[7]=function(o){return n.onDrag(o)}),onTouchend:e[8]||(e[8]=function(o){return n.onDragEnd(o)}),onMousedown:e[9]||(e[9]=function(o){return n.onMouseDown(o,0)}),onKeydown:e[10]||(e[10]=function(o){return n.onKeyDown(o,0)}),onBlur:e[11]||(e[11]=function(o){return n.onBlur(o,0)}),tabindex:t.tabindex,role:"slider","aria-valuemin":t.min,"aria-valuenow":t.d_value?t.d_value[0]:null,"aria-valuemax":t.max,"aria-labelledby":t.ariaLabelledby,"aria-label":t.ariaLabel,"aria-orientation":t.orientation},t.ptm("startHandler"),{"data-p":n.dataP}),null,16,ka)):I("",!0),t.range?(g(),_("span",K({key:2,class:t.cx("handle"),style:[t.sx("handle"),n.rangeEndHandleStyle()],onTouchstartPassive:e[12]||(e[12]=function(o){return n.onDragStart(o,1)}),onTouchmovePassive:e[13]||(e[13]=function(o){return n.onDrag(o)}),onTouchend:e[14]||(e[14]=function(o){return n.onDragEnd(o)}),onMousedown:e[15]||(e[15]=function(o){return n.onMouseDown(o,1)}),onKeydown:e[16]||(e[16]=function(o){return n.onKeyDown(o,1)}),onBlur:e[17]||(e[17]=function(o){return n.onBlur(o,1)}),tabindex:t.tabindex,role:"slider","aria-valuemin":t.min,"aria-valuenow":t.d_value?t.d_value[1]:null,"aria-valuemax":t.max,"aria-labelledby":t.ariaLabelledby,"aria-label":t.ariaLabel,"aria-orientation":t.orientation},t.ptm("endHandler"),{"data-p":n.dataP}),null,16,wa)):I("",!0)],16,ba)}De.render=Sa;const xa={class:"mb-4"},Ea={class:"mb-2"},Ta={for:"stake-input",class:"block font-medium mb-1"},Pa={class:"text-sm italic ml-1"},Ba={class:"space-y-2"},_a={class:"flex justify-end gap-2"},Va=Y({__name:"ForceExitForm",props:ke({trade:{type:Object,required:!0},stakeCurrencyDecimals:{type:Number,required:!0}},{modelValue:{type:Boolean},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const e=t,a=we(t,"modelValue"),r=re(),i=E(),n=E(void 0),o=E("limit"),s=()=>i.value?.checkValidity();async function d(){if(!s())return;const h={tradeid:String(e.trade.trade_id)};o.value&&(h.ordertype=o.value),n.value&&(h.amount=n.value),await Ee(),r.activeBot.forceexit(h),a.value=!1}function m(){n.value=e.trade.amount,o.value=r.activeBot.botState?.order_types?.force_exit||r.activeBot.botState?.order_types?.exit||"limit"}function u(){d()}const l=ht(n,250,{maxWait:500}),p=bt(()=>l.value&&e.trade.current_rate?`~${gt(l.value*e.trade.current_rate,e.trade.quote_currency||"",e.stakeCurrencyDecimals)} (Estimated value) `:""),w=[{value:"market",text:"Market"},{value:"limit",text:"Limit"}];return(h,c)=>{const B=Pe,C=De,S=Be,f=X,z=ie;return g(),$(z,{visible:a.value,"onUpdate:visible":c[4]||(c[4]=L=>a.value=L),header:"Force exiting a trade",modal:"",onShow:m,onHide:m},{footer:T(()=>[k("div",_a,[y(f,{severity:"secondary",size:"small",onClick:c[3]||(c[3]=L=>a.value=!1)},{default:T(()=>c[7]||(c[7]=[N("Cancel")])),_:1,__:[7]}),y(f,{severity:"primary",size:"small",onClick:u},{default:T(()=>c[8]||(c[8]=[N("Exit Position")])),_:1,__:[8]})])]),default:T(()=>[k("form",{ref_key:"form",ref:i,class:"space-y-4 md:min-w-[32rem]",onSubmit:Se(d,["prevent"])},[k("div",xa,[k("p",Ea,[k("span",null,"Exiting Trade #"+F(t.trade.trade_id)+" "+F(t.trade.pair)+".",1),c[5]||(c[5]=k("br",null,null,-1)),k("span",null,"Currently owning "+F(t.trade.amount)+" "+F(t.trade.base_currency),1)])]),k("div",null,[k("label",Ta,[N(" Amount in "+F(t.trade.base_currency)+" [optional] ",1),k("span",Pa,F(p.value),1)]),k("div",Ba,[y(B,{id:"stake-input",modelValue:n.value,"onUpdate:modelValue":c[0]||(c[0]=L=>n.value=L),min:0,max:t.trade.amount,"use-grouping":!1,step:1e-6,"max-fraction-digits":8,class:"w-full","show-buttons":""},null,8,["modelValue","max"]),y(C,{modelValue:n.value,"onUpdate:modelValue":c[1]||(c[1]=L=>n.value=L),min:0,max:t.trade.amount,step:1e-6,class:"w-full"},null,8,["modelValue","max"])])]),k("div",null,[c[6]||(c[6]=k("label",{class:"block font-medium mb-1"},"*OrderType",-1)),y(S,{modelValue:o.value,"onUpdate:modelValue":c[2]||(c[2]=L=>o.value=L),options:w,"allow-empty":!1,"option-label":"text","option-value":"value",size:"small",class:"w-full"},null,8,["modelValue"])])],544)]),_:1},8,["visible"])}}}),Ca={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Da(t,e){return g(),_("svg",Ca,e[0]||(e[0]=[k("path",{fill:"currentColor",d:"M2 12c0 5 4 9 9 9c2.4 0 4.7-.9 6.4-2.6l-1.5-1.5c-1.3 1.4-3 2.1-4.9 2.1c-6.2 0-9.4-7.5-4.9-11.9S18 5.8 18 12h-3l4 4h.1l3.9-4h-3c0-5-4-9-9-9s-9 4-9 9m8 3h2v2h-2zm0-8h2v6h-2z"},null,-1)]))}const La=Q({name:"mdi-reload-alert",render:Da}),Ma={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Fa(t,e){return g(),_("svg",Ma,e[0]||(e[0]=[k("path",{fill:"currentColor",d:"M18 11h-3v3h-2v-3h-3V9h3V6h2v3h3m2-5v12H8V4zm0-2H8c-1.1 0-2 .9-2 2v12a2 2 0 0 0 2 2h12c1.11 0 2-.89 2-2V4a2 2 0 0 0-2-2M4 6H2v14a2 2 0 0 0 2 2h14v-2H4z"},null,-1)]))}const $a=Q({name:"mdi-plus-box-multiple-outline",render:Fa}),Aa={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Ia(t,e){return g(),_("svg",Aa,e[0]||(e[0]=[k("path",{fill:"currentColor",d:"M4 20h14v2H4a2 2 0 0 1-2-2V6h2zM20.22 2H7.78C6.8 2 6 2.8 6 3.78v12.44C6 17.2 6.8 18 7.78 18h12.44c.98 0 1.78-.8 1.78-1.78V3.78C22 2.8 21.2 2 20.22 2M19 13.6L17.6 15L14 11.4L10.4 15L9 13.6l3.6-3.6L9 6.4L10.4 5L14 8.6L17.6 5L19 6.4L15.4 10z"},null,-1)]))}const Oa=Q({name:"mdi-close-box-multiple",render:Ia}),za={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Ha(t,e){return g(),_("svg",za,e[0]||(e[0]=[k("path",{fill:"currentColor",d:"M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2m-3.4 14L12 13.4L8.4 17L7 15.6l3.6-3.6L7 8.4L8.4 7l3.6 3.6L15.6 7L17 8.4L13.4 12l3.6 3.6z"},null,-1)]))}const Ra=Q({name:"mdi-close-box",render:Ha}),Na={class:"flex flex-col gap-1"},Ua=Y({__name:"TradeActions",props:{botFeatures:{},trade:{},enableForceEntry:{type:Boolean,default:!1}},emits:["forceExit","forceExitPartial","cancelOpenOrder","reloadTrade","deleteTrade","forceEntry"],setup(t){return(e,a)=>{const r=Ra,i=X,n=Oa,o=Te,s=$a,d=La,m=yt;return g(),_("div",Na,[e.botFeatures.forceExitParams?I("",!0):(g(),$(i,{key:0,class:"justify-start!",size:"small",severity:"secondary",title:"Forceexit",label:"Forceexit",onClick:a[0]||(a[0]=u=>e.$emit("forceExit",e.trade))},{icon:T(()=>[y(r)]),_:1})),e.botFeatures.forceExitParams?(g(),$(i,{key:1,size:"small",class:"justify-start!",severity:"secondary",title:"Forceexit limit",label:"Forceexit limit",onClick:a[1]||(a[1]=u=>e.$emit("forceExit",e.trade,"limit"))},{icon:T(()=>[y(r)]),_:1})):I("",!0),e.botFeatures.forceExitParams?(g(),$(i,{key:2,class:"justify-start!",size:"small",severity:"secondary",title:"Forceexit market",label:"Forceexit market",onClick:a[2]||(a[2]=u=>e.$emit("forceExit",e.trade,"market"))},{icon:T(()=>[y(r)]),_:1})):I("",!0),e.botFeatures.forceEntryTag?(g(),$(i,{key:3,class:"justify-start!",size:"small",severity:"secondary",title:"Forceexit partial",label:"Forceexit partial",onClick:a[3]||(a[3]=u=>e.$emit("forceExitPartial",e.trade))},{icon:T(()=>[y(n)]),_:1})):I("",!0),e.botFeatures.cancelOpenOrders&&(e.trade.open_order_id||e.trade.has_open_orders)?(g(),$(i,{key:4,class:"justify-start!",size:"small",severity:"secondary",title:"Cancel open orders",label:"Cancel open orders",onClick:a[4]||(a[4]=u=>e.$emit("cancelOpenOrder",e.trade))},{icon:T(()=>[y(o)]),_:1})):I("",!0),e.enableForceEntry?(g(),$(i,{key:5,class:"justify-start!",size:"small",severity:"secondary",title:"Increase position",label:"Increase position",onClick:a[5]||(a[5]=u=>e.$emit("forceEntry",e.trade))},{icon:T(()=>[y(s)]),_:1})):I("",!0),e.botFeatures.reloadTrade?(g(),$(i,{key:6,class:"justify-start!",size:"small",severity:"secondary",title:"Reload",label:"Reload",onClick:a[6]||(a[6]=u=>e.$emit("reloadTrade",e.trade))},{icon:T(()=>[y(d)]),_:1})):I("",!0),y(i,{class:"justify-start!",size:"small",severity:"secondary",title:"Delete trade",label:"Delete trade",onClick:a[7]||(a[7]=u=>e.$emit("deleteTrade",e.trade))},{icon:T(()=>[y(m)]),_:1})])}}}),Wa={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function ja(t,e){return g(),_("svg",Wa,e[0]||(e[0]=[k("path",{fill:"currentColor",d:"M10 9a1 1 0 0 1 1-1a1 1 0 0 1 1 1v4.47l1.21.13l4.94 2.19c.53.24.85.77.85 1.35v4.36c-.03.82-.68 1.47-1.5 1.5H11c-.38 0-.74-.15-1-.43l-4.9-4.2l.74-.77c.19-.21.46-.32.74-.32h.22L10 19zm1-4a4 4 0 0 1 4 4c0 1.5-.8 2.77-2 3.46v-1.22c.61-.55 1-1.35 1-2.24a3 3 0 0 0-3-3a3 3 0 0 0-3 3c0 .89.39 1.69 1 2.24v1.22C7.8 11.77 7 10.5 7 9a4 4 0 0 1 4-4"},null,-1)]))}const Ka=Q({name:"mdi-gesture-tap",render:ja}),Ga=Y({__name:"TradeActionsPopover",props:{trade:{},id:{},botFeatures:{},enableForceEntry:{type:Boolean,default:!1}},emits:["forceExit","forceExitPartial","cancelOpenOrder","reloadTrade","deleteTrade","forceEntry"],setup(t,{emit:e}){const a=e,r=E(!1);function i(l,p=void 0){r.value=!1,a("forceExit",l,p)}function n(l){r.value=!1,a("forceExitPartial",l)}function o(l){r.value=!1,a("cancelOpenOrder",l)}function s(l){r.value=!1,a("reloadTrade",l)}function d(l){r.value=!1,a("deleteTrade",l)}function m(l){r.value=!1,a("forceEntry",l)}const u=E(null);return(l,p)=>{const w=Ka,h=X,c=Ua,B=Te;return g(),_("div",null,[y(h,{id:`btn-actions-${l.id}`,class:"btn-xs",size:"small",severity:"secondary",title:"Actions",onClick:b(u)?.toggle},{default:T(()=>[y(w)]),_:1},8,["id","onClick"]),y(b(Vt),{ref_key:"popover",ref:u,target:`btn-actions-${l.id}`,title:`Actions for ${l.trade.pair}`,triggers:"manual",placement:"left"},{default:T(()=>[y(c,{trade:l.trade,"bot-features":l.botFeatures,"enable-force-entry":l.enableForceEntry,onForceExit:i,onForceExitPartial:n,onDeleteTrade:p[0]||(p[0]=C=>d(l.trade)),onCancelOpenOrder:o,onReloadTrade:s,onForceEntry:m},null,8,["trade","bot-features","enable-force-entry"]),y(h,{class:"mt-1 w-full text-start",size:"small",severity:"secondary",label:"Close Actions menu",onClick:b(u)?.hide},{icon:T(()=>[y(B,{class:"me-1"})]),_:1},8,["onClick"])]),_:1},8,["target","title"])])}}}),qa={class:"h-full overflow-auto w-full"},Ya={class:"flex justify-end gap-2 p-2"},sn=Y({__name:"TradeList",props:{trades:{},title:{default:"Trades"},stakeCurrency:{default:""},activeTrades:{type:Boolean,default:!1},showFilter:{type:Boolean,default:!1},multiBotView:{type:Boolean,default:!1},emptyText:{default:"No Trades to show."}},setup(t){const e=t,a=re(),r=Et(),i=kt(),n=E(1),o=E(),s=E(""),d=E({}),m=e.activeTrades?200:15,u=E(),l=E(!1),p=E(!1),w=E(""),h=E(null),c=E({visible:!1,trade:{}});function B(v){return de(v,a.activeBot.stakeCurrencyDecimals)}const C=E([{field:"trade_id",header:"ID"},{field:"pair",header:"Pair"},{field:"amount",header:"Amount"},e.activeTrades?{field:"stake_amount",header:"Stake amount"}:{field:"max_stake_amount",header:"Total stake amount"},{field:"open_rate",header:"Open rate"},{field:e.activeTrades?"current_rate":"close_rate",header:e.activeTrades?"Current rate":"Close rate"},{field:"profit",header:e.activeTrades?"Current profit %":"Profit %"},{field:"open_timestamp",header:"Open date"},...e.activeTrades?[{field:"actions",header:""}]:[{field:"close_timestamp",header:"Close date"},{field:"exit_reason",header:"Close Reason"}]]);e.multiBotView&&C.value.unshift({field:"botName",header:"Bot"});const S=E(void 0);function f(v,P=void 0){d.value=v,h.value=1,w.value=`Really exit trade ${v.trade_id} (Pair ${v.pair}) using ${P} Order?`,S.value=P,i.confirmDialog===!0?p.value=!0:z()}function z(){if(h.value===0){const v={tradeid:String(d.value.trade_id),botId:d.value.botId};a.deleteTradeMulti(v).catch(P=>console.log(P.response))}if(h.value===1){const v={tradeid:String(d.value.trade_id),botId:d.value.botId};S.value&&(v.ordertype=S.value),a.forceSellMulti(v).then(P=>console.log(P)).catch(P=>console.log(P.response))}if(h.value===3){const v={tradeid:String(d.value.trade_id),botId:d.value.botId};a.cancelOpenOrderMulti(v)}S.value=void 0,p.value=!1}function L(v){w.value=`Really delete trade ${v.trade_id} (Pair ${v.pair})?`,h.value=0,d.value=v,p.value=!0}function O(v){d.value=v,l.value=!0}function H(v){w.value=`Cancel open order for trade ${v.trade_id} (Pair ${v.pair})?`,d.value=v,h.value=3,p.value=!0}function U(v){a.reloadTradeMulti({tradeid:String(v.trade_id),botId:v.botId})}function x(v){c.value.trade=v,c.value.visible=!0}const W=({data:v})=>{e.multiBotView&&a.selectedBot!==v.botId&&a.selectBot(v.botId),v&&v.trade_id!==a.activeBot.detailTradeId?(a.activeBot.setDetailTrade(v),e.multiBotView&&r.push({name:"Freqtrade Trading"})):a.activeBot.setDetailTrade(null)};return wt(()=>a.activeBot.detailTradeId,v=>{e.trades.findIndex(J=>J.trade_id===v)<0&&(o.value=void 0)}),(v,P)=>{const J=Ga,Le=Bt,le=_t,Me=Pt,Fe=xe,$e=Tt,Ae=Va,Ie=na,se=X,Oe=ie;return g(),_("div",qa,[y($e,{ref_key:"tradesTable",ref:u,selection:b(o),"onUpdate:selection":P[1]||(P[1]=D=>R(o)?o.value=D:null),value:v.trades.filter(D=>D.pair.toLowerCase().includes(b(s).toLowerCase())||D.exit_reason?.toLowerCase().includes(b(s).toLowerCase())||D.enter_tag?.toLowerCase().includes(b(s).toLowerCase())),rows:b(m),paginator:!v.activeTrades,first:(b(n)-1)*b(m),"selection-mode":"single",class:"text-center",size:"small",scrollable:!0,"scroll-height":"flex",onRowClick:W},St({empty:T(()=>[N(F(v.emptyText),1)]),default:T(()=>[(g(!0),_(j,null,xt(b(C),D=>(g(),$(Me,{key:D.field,field:D.field,header:D.header},{body:T(({data:M,field:A,index:ze})=>[A==="trade_id"?(g(),_(j,{key:0},[N(F(M.trade_id)+" "+F(b(a).activeBot.botFeatures.futures&&M.trading_mode!=="spot"?(M.trade_id?"| ":"")+(M.is_short?"Short":"Long"):""),1)],64)):A==="pair"?(g(),_(j,{key:1},[N(F(`${M.pair}${M.open_order_id||M.has_open_orders?"*":""}`),1)],64)):A==="actions"?(g(),$(J,{key:2,id:ze,"enable-force-entry":b(a).activeBot.botState.force_entry_enable,trade:M,"bot-features":b(a).activeBot.botFeatures,onDeleteTrade:Xa=>L(M),onForceExit:f,onForceExitPartial:O,onCancelOpenOrder:H,onReloadTrade:U,onForceEntry:x},null,8,["id","enable-force-entry","trade","bot-features","onDeleteTrade"])):A==="stake_amount"||A==="max_stake_amount"?(g(),_(j,{key:3},[N(F(B(M[A]))+" "+F(M.trading_mode!=="spot"?`(${M.leverage}x)`:""),1)],64)):A==="open_rate"||A==="current_rate"||A==="close_rate"?(g(),_(j,{key:4},[N(F(("formatPrice"in v?v.formatPrice:b(de))(M[A])),1)],64)):A==="profit"?(g(),$(Le,{key:5,trade:M},null,8,["trade"])):A==="open_timestamp"?(g(),$(le,{key:6,date:M.open_timestamp},null,8,["date"])):A==="close_timestamp"?(g(),$(le,{key:7,date:M.close_timestamp??0},null,8,["date"])):(g(),_(j,{key:8},[N(F(M[A]),1)],64))]),_:2},1032,["field","header"]))),128))]),_:2},[v.showFilter?{name:"header",fn:T(()=>[k("div",Ya,[y(Fe,{modelValue:b(s),"onUpdate:modelValue":P[0]||(P[0]=D=>R(s)?s.value=D:null),placeholder:"Filter",class:"w-64",size:"small"},null,8,["modelValue"])])]),key:"0"}:void 0]),1032,["selection","value","rows","paginator","first"]),v.activeTrades?(g(),$(Ae,{key:0,modelValue:b(l),"onUpdate:modelValue":P[2]||(P[2]=D=>R(l)?l.value=D:null),trade:b(d),"stake-currency-decimals":b(a).activeBot.botState.stake_currency_decimals??3},null,8,["modelValue","trade","stake-currency-decimals"])):I("",!0),y(Ie,{modelValue:b(c).visible,"onUpdate:modelValue":P[3]||(P[3]=D=>b(c).visible=D),pair:b(c).trade?.pair,"position-increase":""},null,8,["modelValue","pair"]),y(Oe,{visible:b(p),"onUpdate:visible":P[5]||(P[5]=D=>R(p)?p.value=D:null),modal:!0,header:"Exit trade"},{footer:T(()=>[y(se,{label:"Cancel",onClick:P[4]||(P[4]=D=>p.value=!1)}),y(se,{label:"Confirm",severity:"danger",onClick:z})]),default:T(()=>[k("p",null,F(b(w)),1)]),_:1},8,["visible"])])}}});export{Oa as _,$a as a,na as b,sn as c,on as d,ln as i};
//# sourceMappingURL=TradeList.vue_vue_type_script_setup_true_lang-BB76ljQE.js.map
