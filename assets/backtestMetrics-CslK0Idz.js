import{r as m,K as o,L as n,c2 as r,G as c,c3 as g,I as w}from"./index-ClGwpIlp.js";function y(a){return a.slice().sort((e,_)=>(e.profit_ratio??0)-(_.profit_ratio??0))}function $(a){const t=a[a.length-1];return t?`${t.pair} ${o(t.profit_ratio,2)}`:"N/A"}function h(a){const t=a[0];return t?`${t.pair} ${o(t.profit_ratio,2)}`:"N/A"}function f(a,t){return _=>`${w(_,a)} ${t}`}function S(a){const t=y(a.trades),e=$(t),_=h(t),s=a.results_per_pair[a.results_per_pair.length-1],i=f(a.stake_currency_decimals,a.stake_currency),p=a.trade_count_short&&a.trade_count_short>0?[{"___ ":"___"},{"Long / Short":`${a.trade_count_long} / ${a.trade_count_short}`},{"Total profit Long":`${o(a.profit_total_long||0)} | ${i(a.profit_total_long_abs)}`},{"Total profit Short":`${o(a.profit_total_short||0)} | ${i(a.profit_total_short_abs)}`}]:[];return[{"Total Profit":`${o(a.profit_total)} | ${i(a.profit_total_abs)}`},{CAGR:`${a.cagr?o(a.cagr):"N/A"}`},{Sortino:n(a.sortino,2)},{Sharpe:n(a.sharpe,2)},{Calmar:n(a.calmar,2)},{"System Quality Number (SQN)":n(a.sqn,2)},{[`Expectancy ${a.expectancy_ratio?"(ratio)":""}`]:`${a.expectancy?a.expectancy_ratio?`${n(a.expectancy,2)} (${n(a.expectancy_ratio,2)})`:n(a.expectancy,2):"N/A"}`},{"Profit factor":n(a.profit_factor,3)},{"Total trades / Daily Avg Trades":`${a.total_trades} / ${n(a.trades_per_day,2)}`},{"Best day":`${o(a.backtest_best_day,2)} | ${i(a.backtest_best_day_abs)}`},{"Worst day":`${o(a.backtest_worst_day,2)} | ${i(a.backtest_worst_day_abs)}`},{"Win/Draw/Loss":`${s?.wins} / ${s?.draws} / ${s?.losses} ${g(s?.winrate)?"(WR: "+o(a.results_per_pair[a.results_per_pair.length-1]?.winrate??0,2)+")":""}`},{"Days win/draw/loss":`${a.winning_days} / ${a.draw_days} / ${a.losing_days}`},{"Min. Duration winners":r(a.winner_holding_min_s)},{"Avg. Duration winners":r(a.winner_holding_avg_s)},{"Max. Duration winners":r(a.winner_holding_max_s)},{"Min. Duration Losers":r(a.loser_holding_min_s)},{"Avg. Duration Losers":r(a.loser_holding_avg_s)},{"Max. Duration Losers":r(a.loser_holding_max_s)},{"Max Consecutive Wins / Loss":a.max_consecutive_wins===void 0?"N/A":`${a.max_consecutive_wins} / ${a.max_consecutive_losses}`},{"Rejected entry signals":a.rejected_signals},{"Entry/Exit timeouts":`${a.timedout_entry_orders} / ${a.timedout_exit_orders}`},{"Canceled Trade Entries":a.canceled_trade_entries??"N/A"},{"Canceled Entry Orders":a.canceled_entry_orders??"N/A"},{"Replaced Entry Orders":a.replaced_entry_orders??"N/A"},...p,{___:"___"},{"Min balance":i(a.csum_min)},{"Max balance":i(a.csum_max)},{"Market change":o(a.market_change)},{"___  ":"___"},{"Max Drawdown (Account)":o(a.max_drawdown_account)},{"Max Drawdown ABS":i(a.max_drawdown_abs)},{"Drawdown duration":a.drawdown_duration??"N/A"},{"Profit at Drawdown start | end":`${i(a.max_drawdown_high)} | ${i(a.max_drawdown_low)}`},{"Drawdown start":c(a.drawdown_start_ts)},{"Drawdown end":c(a.drawdown_end_ts)},{"___   ":"___"},{"Best Pair":`${a.best_pair.key} ${o(a.best_pair.profit_total)}`},{"Worst Pair":`${a.worst_pair.key} ${o(a.worst_pair.profit_total)}`},{"Best single Trade":e},{"Worst single Trade":_}]}function d(a){return a.charAt(0).toUpperCase()+a.slice(1)}function x(a){return!a.trading_mode||!a.margin_mode?{}:{"Trading Mode":a.trading_mode==="spot"?d(a.trading_mode):`${d(a.margin_mode)} ${d(a.trading_mode)}`}}function v(a){const t=f(a.stake_currency_decimals,a.stake_currency),e=x(a);return[{"Backtesting from":c(a.backtest_start_ts)},{"Backtesting to":c(a.backtest_end_ts)},...Object.keys(e).length!==0?[e]:[],{"BT execution time":r(a.backtest_run_end_ts-a.backtest_run_start_ts)},{"Max open trades":a.max_open_trades},{Timeframe:a.timeframe},{"Timeframe Detail":a.timeframe_detail||"N/A"},{Timerange:a.timerange},{Stoploss:o(a.stoploss,2)},{"Trailing Stoploss":a.trailing_stop},{"Trail only when offset is reached":a.trailing_only_offset_is_reached},{"Trailing Stop positive":n(a.trailing_stop_positive)},{"Trailing stop positive offset":n(a.trailing_stop_positive_offset)},{"Custom Stoploss":a.use_custom_stoploss},{ROI:JSON.stringify(a.minimal_roi)},{"Use Exit Signal":a.use_exit_signal??a.use_sell_signal},{"Exit profit only":a.exit_profit_only??a.sell_profit_only},{"Exit profit offset":n(a.exit_profit_offset??a.sell_profit_offset)},{"Enable protections":a.enable_protections},{"Starting balance":t(a.starting_balance)},{"Final balance":t(a.final_balance)},{"Avg. stake amount":t(a.avg_stake_amount)},{"Total trade volume":t(a.total_volume)}]}const T=m([{field:"sqn",header:"SQN"},{field:"cagr",header:"Cagr"},{field:"calmar",header:"Calmar"},{field:"expectancy",header:"Expectancy"},{field:"profit_factor",header:"Profit Factor"},{field:"sharpe",header:"Sharpe"},{field:"sortino",header:"Sortino"},{field:"max_drawdown_account",header:"Max Drawdown",is_ratio:!0}]);export{T as a,v as b,S as g};
//# sourceMappingURL=backtestMetrics-CslK0Idz.js.map
