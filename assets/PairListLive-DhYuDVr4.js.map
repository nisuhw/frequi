{"version":3,"file":"PairListLive-DhYuDVr4.js","sources":["../../src/components/ftbot/PairListLive.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport type Popover from 'primevue/popover';\n\nconst newblacklistpair = ref('');\nconst blackListShow = ref(false);\nconst blacklistAddPopover = ref<InstanceType<typeof Popover>>();\nconst blacklistSelect = ref<number[]>([]);\nconst botStore = useBotStore();\n\nfunction initBlacklist() {\n  if (botStore.activeBot.whitelist.length === 0) {\n    botStore.activeBot.getWhitelist();\n  }\n  if (botStore.activeBot.blacklist.length === 0) {\n    botStore.activeBot.getBlacklist();\n  }\n}\n\nfunction addBlacklistPair() {\n  if (newblacklistpair.value) {\n    blackListShow.value = false;\n    blacklistAddPopover.value?.hide();\n\n    botStore.activeBot.addBlacklist({ blacklist: [newblacklistpair.value] });\n    newblacklistpair.value = '';\n  }\n}\n\nfunction showPopover(event: MouseEvent) {\n  blacklistAddPopover.value?.show(event);\n}\n\nfunction blacklistSelectClick(key: number) {\n  const index = blacklistSelect.value.indexOf(key);\n  if (index > -1) {\n    blacklistSelect.value.splice(index, 1);\n  } else {\n    blacklistSelect.value.push(key);\n  }\n}\n\nfunction deletePairs() {\n  if (blacklistSelect.value.length === 0) {\n    console.log('nothing to delete');\n    return;\n  }\n  // const pairlist = blacklistSelect.value;\n  const pairlist = botStore.activeBot.blacklist.filter(\n    (value, index) => blacklistSelect.value.indexOf(index) > -1,\n  );\n  console.log('Deleting pairs: ', pairlist);\n  botStore.activeBot.deleteBlacklist(pairlist);\n  blacklistSelect.value = [];\n}\nonMounted(() => {\n  initBlacklist();\n});\n</script>\n\n<template>\n  <div>\n    <div>\n      <h3 class=\"text-xl\">Whitelist Methods</h3>\n\n      <ul v-if=\"botStore.activeBot.pairlistMethods.length\" class=\"list wide\">\n        <li\n          v-for=\"(method, key) in botStore.activeBot.pairlistMethods\"\n          :key=\"key\"\n          class=\"pair bg-white text-black align-middle border border-secondary\"\n        >\n          {{ method }}\n        </li>\n      </ul>\n    </div>\n    <!-- Show Whitelist -->\n    <h3 class=\"text-lg font-bold\" :title=\"`${botStore.activeBot.whitelist.length} pairs`\">\n      Whitelist\n    </h3>\n    <ul v-if=\"botStore.activeBot.whitelist.length\" class=\"list\">\n      <li\n        v-for=\"(pair, key) in botStore.activeBot.whitelist\"\n        :key=\"key\"\n        class=\"pair bg-white text-black align-middle border border-secondary\"\n      >\n        {{ pair }}\n      </li>\n    </ul>\n    <p v-else>List Unavailable. Please Login and make sure server is running.</p>\n    <Divider />\n\n    <!-- Blacklsit -->\n    <div>\n      <div class=\"flex flex-row justify-center mb-1\">\n        <label\n          class=\"text-lg font-bold mb-2 w-full\"\n          title=\"Blacklist - Select (followed by a click on '-') to remove pairs\"\n        >\n          Blacklist\n        </label>\n        <div class=\"flex flex-cols items-center gap-1 pe-1\">\n          <Button\n            ref=\"blacklist-add-btn\"\n            severity=\"secondary\"\n            :class=\"botStore.activeBot.botFeatures.botBlacklistModify ? 'col-6' : ''\"\n            size=\"small\"\n            @click=\"showPopover\"\n          >\n            <template #icon>\n              <i-mdi-plus-box-outline />\n            </template>\n          </Button>\n          <Button\n            v-if=\"botStore.activeBot.botFeatures.botBlacklistModify\"\n            size=\"small\"\n            severity=\"secondary\"\n            title=\"Select pairs to delete pairs from your blacklist.\"\n            :disabled=\"blacklistSelect.length === 0\"\n            @click=\"deletePairs\"\n          >\n            <template #icon>\n              <i-mdi-delete />\n            </template>\n          </Button>\n        </div>\n      </div>\n      <Popover ref=\"blacklistAddPopover\" class=\"p-1\">\n        <form ref=\"form\" @submit.prevent=\"addBlacklistPair\">\n          <div class=\"space-y-1\">\n            <h4 class=\"font-bold mb-2\">Add Pair to Blacklist</h4>\n            <div class=\"space-x-2\">\n              <label for=\"pair-input\">Pair</label>\n              <InputText id=\"pair-input\" v-model=\"newblacklistpair\" required autofocus></InputText>\n            </div>\n            <Button\n              id=\"blacklist-submit\"\n              class=\"float-end mb-2\"\n              size=\"small\"\n              severity=\"primary\"\n              type=\"submit\"\n            >\n              Add\n            </Button>\n          </div>\n        </form>\n      </Popover>\n    </div>\n    <ul v-if=\"botStore.activeBot.blacklist.length\" class=\"list\">\n      <li\n        v-for=\"(pair, key) in botStore.activeBot.blacklist\"\n        :key=\"key\"\n        class=\"pair bg-black text-white text-ellipsis overflow-hidden\"\n        :title=\"pair\"\n        :class=\"blacklistSelect.indexOf(key) > -1 ? 'active' : ''\"\n        @click=\"blacklistSelectClick(key)\"\n      >\n        <span class=\"check\"><i-mdi-check-circle /></span>{{ pair }}\n      </li>\n    </ul>\n    <p v-else>BlackList Unavailable. Please Login and make sure server is running.</p>\n  </div>\n</template>\n\n<style scoped>\n@reference '../../styles/tailwind.css';\n\n.check {\n  /* Hidden checkbox on blacklist selection */\n  color: #41b883;\n  opacity: 0;\n  /* border-radius: 50%; */\n  z-index: 5;\n  width: 1.3em;\n  height: 1.3em;\n  top: -0.3em;\n  left: -0.3em;\n  position: absolute;\n  transition: opacity 0.2s;\n}\n\n.pair.active .check {\n  opacity: 1;\n}\n\n.list {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(110px, 1fr));\n  grid-gap: 0.5rem;\n  padding-bottom: 1rem;\n}\n.wide {\n  grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));\n}\n\n.pair {\n  @apply p-2 border rounded cursor-pointer relative border-surface-500;\n}\n</style>\n"],"names":["newblacklistpair","ref","blackListShow","blacklistAddPopover","blacklistSelect","botStore","useBotStore","initBlacklist","addBlacklistPair","showPopover","event","blacklistSelectClick","key","index","deletePairs","pairlist","value","onMounted","_createElementBlock","_createElementVNode","_cache","_unref","_openBlock","_hoisted_1","_Fragment","_renderList","method","_hoisted_2","_hoisted_3","pair","_createVNode","_component_Divider","_hoisted_5","_hoisted_6","_component_Button","_component_i_mdi_plus_box_outline","_createBlock","_component_i_mdi_delete","_component_Popover","_hoisted_7","_hoisted_8","_component_InputText","$event","_hoisted_9","_hoisted_11","_component_i_mdi_check_circle"],"mappings":"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"}