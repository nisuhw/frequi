{"version":3,"file":"CandleChartContainer.vue_vue_type_script_setup_true_lang-CRajfQnj.js","sources":["../../node_modules/.pnpm/@primeuix+styles@2.0.2/node_modules/@primeuix/styles/dist/textarea/index.mjs","../../node_modules/.pnpm/primevue@4.5.3_vue@3.5.25_typescript@5.8.3_/node_modules/primevue/textarea/style/index.mjs","../../node_modules/.pnpm/primevue@4.5.3_vue@3.5.25_typescript@5.8.3_/node_modules/primevue/textarea/index.mjs","../../src/components/charts/PlotIndicatorSelect.vue","../../node_modules/.pnpm/@primeuix+styles@2.0.2/node_modules/@primeuix/styles/dist/colorpicker/index.mjs","../../node_modules/.pnpm/primevue@4.5.3_vue@3.5.25_typescript@5.8.3_/node_modules/primevue/colorpicker/style/index.mjs","../../node_modules/.pnpm/primevue@4.5.3_vue@3.5.25_typescript@5.8.3_/node_modules/primevue/colorpicker/index.mjs","../../src/utils/randomColor.ts","../../src/components/charts/PlotIndicator.vue","../../node_modules/.pnpm/@primeuix+styles@2.0.2/node_modules/@primeuix/styles/dist/listbox/index.mjs","../../node_modules/.pnpm/primevue@4.5.3_vue@3.5.25_typescript@5.8.3_/node_modules/primevue/listbox/style/index.mjs","../../node_modules/.pnpm/primevue@4.5.3_vue@3.5.25_typescript@5.8.3_/node_modules/primevue/listbox/index.mjs","../../node_modules/.pnpm/deepmerge@4.3.1/node_modules/deepmerge/dist/cjs.js","../../src/composables/plotTemplates.ts","../../src/components/charts/PlotFromTemplate.vue","../../src/components/charts/PlotConfigSelect.vue","../../src/components/charts/PlotConfigurator.vue","../../src/utils/charts/areaPlotDataset.ts","../../src/utils/roundTimeframe.ts","../../src/composables/percentageTool.ts","../../src/utils/charts/heikinAshiDataset.ts","../../src/utils/formatters/pairFormat.ts","../../src/utils/charts/tradeChartData.ts","../../src/utils/charts/candleChartSeries.ts","../../src/components/charts/CandleChart.vue","../../src/components/charts/SingleCandleChartContainer.vue","../../src/components/charts/CandleChartContainer.vue"],"sourcesContent":["var style=\"\\n    .p-textarea {\\n        font-family: inherit;\\n        font-feature-settings: inherit;\\n        font-size: 1rem;\\n        color: dt('textarea.color');\\n        background: dt('textarea.background');\\n        padding-block: dt('textarea.padding.y');\\n        padding-inline: dt('textarea.padding.x');\\n        border: 1px solid dt('textarea.border.color');\\n        transition:\\n            background dt('textarea.transition.duration'),\\n            color dt('textarea.transition.duration'),\\n            border-color dt('textarea.transition.duration'),\\n            outline-color dt('textarea.transition.duration'),\\n            box-shadow dt('textarea.transition.duration');\\n        appearance: none;\\n        border-radius: dt('textarea.border.radius');\\n        outline-color: transparent;\\n        box-shadow: dt('textarea.shadow');\\n    }\\n\\n    .p-textarea:enabled:hover {\\n        border-color: dt('textarea.hover.border.color');\\n    }\\n\\n    .p-textarea:enabled:focus {\\n        border-color: dt('textarea.focus.border.color');\\n        box-shadow: dt('textarea.focus.ring.shadow');\\n        outline: dt('textarea.focus.ring.width') dt('textarea.focus.ring.style') dt('textarea.focus.ring.color');\\n        outline-offset: dt('textarea.focus.ring.offset');\\n    }\\n\\n    .p-textarea.p-invalid {\\n        border-color: dt('textarea.invalid.border.color');\\n    }\\n\\n    .p-textarea.p-variant-filled {\\n        background: dt('textarea.filled.background');\\n    }\\n\\n    .p-textarea.p-variant-filled:enabled:hover {\\n        background: dt('textarea.filled.hover.background');\\n    }\\n\\n    .p-textarea.p-variant-filled:enabled:focus {\\n        background: dt('textarea.filled.focus.background');\\n    }\\n\\n    .p-textarea:disabled {\\n        opacity: 1;\\n        background: dt('textarea.disabled.background');\\n        color: dt('textarea.disabled.color');\\n    }\\n\\n    .p-textarea::placeholder {\\n        color: dt('textarea.placeholder.color');\\n    }\\n\\n    .p-textarea.p-invalid::placeholder {\\n        color: dt('textarea.invalid.placeholder.color');\\n    }\\n\\n    .p-textarea-fluid {\\n        width: 100%;\\n    }\\n\\n    .p-textarea-resizable {\\n        overflow: hidden;\\n        resize: none;\\n    }\\n\\n    .p-textarea-sm {\\n        font-size: dt('textarea.sm.font.size');\\n        padding-block: dt('textarea.sm.padding.y');\\n        padding-inline: dt('textarea.sm.padding.x');\\n    }\\n\\n    .p-textarea-lg {\\n        font-size: dt('textarea.lg.font.size');\\n        padding-block: dt('textarea.lg.padding.y');\\n        padding-inline: dt('textarea.lg.padding.x');\\n    }\\n\";export{style};//# sourceMappingURL=index.mjs.map","import { style } from '@primeuix/styles/textarea';\nimport BaseStyle from '@primevue/core/base/style';\n\nvar classes = {\n  root: function root(_ref) {\n    var instance = _ref.instance,\n      props = _ref.props;\n    return ['p-textarea p-component', {\n      'p-filled': instance.$filled,\n      'p-textarea-resizable ': props.autoResize,\n      'p-textarea-sm p-inputfield-sm': props.size === 'small',\n      'p-textarea-lg p-inputfield-lg': props.size === 'large',\n      'p-invalid': instance.$invalid,\n      'p-variant-filled': instance.$variant === 'filled',\n      'p-textarea-fluid': instance.$fluid\n    }];\n  }\n};\nvar TextareaStyle = BaseStyle.extend({\n  name: 'textarea',\n  style: style,\n  classes: classes\n});\n\nexport { TextareaStyle as default };\n//# sourceMappingURL=index.mjs.map\n","import { cn } from '@primeuix/utils';\nimport { mergeProps, createElementBlock, openBlock } from 'vue';\nimport BaseInput from '@primevue/core/baseinput';\nimport TextareaStyle from 'primevue/textarea/style';\n\nvar script$1 = {\n  name: 'BaseTextarea',\n  \"extends\": BaseInput,\n  props: {\n    autoResize: Boolean\n  },\n  style: TextareaStyle,\n  provide: function provide() {\n    return {\n      $pcTextarea: this,\n      $parentInstance: this\n    };\n  }\n};\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: true, configurable: true, writable: true }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar script = {\n  name: 'Textarea',\n  \"extends\": script$1,\n  inheritAttrs: false,\n  observer: null,\n  mounted: function mounted() {\n    var _this = this;\n    if (this.autoResize) {\n      this.observer = new ResizeObserver(function () {\n        // Firefox has issues without the requestAnimationFrame - ResizeObserver loop completed with undelivered notifications.\n        requestAnimationFrame(function () {\n          _this.resize();\n        });\n      });\n      this.observer.observe(this.$el);\n    }\n  },\n  updated: function updated() {\n    if (this.autoResize) {\n      this.resize();\n    }\n  },\n  beforeUnmount: function beforeUnmount() {\n    if (this.observer) {\n      this.observer.disconnect();\n    }\n  },\n  methods: {\n    resize: function resize() {\n      if (!this.$el.offsetParent) return;\n      var currentHeight = this.$el.style.height;\n      var currentHeightValue = parseInt(currentHeight) || 0;\n      var initialScrollHeight = this.$el.scrollHeight;\n      var needsExpanding = !currentHeightValue || initialScrollHeight > currentHeightValue;\n      var needsShrinking = currentHeightValue && initialScrollHeight < currentHeightValue;\n      if (needsShrinking) {\n        this.$el.style.height = 'auto';\n        this.$el.style.height = \"\".concat(this.$el.scrollHeight, \"px\");\n      } else if (needsExpanding) {\n        this.$el.style.height = \"\".concat(initialScrollHeight, \"px\");\n      }\n    },\n    onInput: function onInput(event) {\n      if (this.autoResize) {\n        this.resize();\n      }\n      this.writeValue(event.target.value, event);\n    }\n  },\n  computed: {\n    attrs: function attrs() {\n      return mergeProps(this.ptmi('root', {\n        context: {\n          filled: this.$filled,\n          disabled: this.disabled\n        }\n      }), this.formField);\n    },\n    dataP: function dataP() {\n      return cn(_defineProperty({\n        invalid: this.$invalid,\n        fluid: this.$fluid,\n        filled: this.$variant === 'filled'\n      }, this.size, this.size));\n    }\n  }\n};\n\nvar _hoisted_1 = [\"value\", \"name\", \"disabled\", \"aria-invalid\", \"data-p\"];\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"textarea\", mergeProps({\n    \"class\": _ctx.cx('root'),\n    value: _ctx.d_value,\n    name: _ctx.name,\n    disabled: _ctx.disabled,\n    \"aria-invalid\": _ctx.invalid || undefined,\n    \"data-p\": $options.dataP,\n    onInput: _cache[0] || (_cache[0] = function () {\n      return $options.onInput && $options.onInput.apply($options, arguments);\n    })\n  }, $options.attrs), null, 16, _hoisted_1);\n}\n\nscript.render = render;\n\nexport { script as default };\n//# sourceMappingURL=index.mjs.map\n","<script setup lang=\"ts\">\nconst props = withDefaults(\n  defineProps<{\n    modelValue?: string;\n    columns: string[];\n    label: string;\n  }>(),\n  {\n    modelValue: '',\n  },\n);\nconst emit = defineEmits<{\n  'update:modelValue': [value: string];\n  indicatorSelected: [value: string];\n}>();\n\nconst selAvailableIndicator = ref('');\n\nfunction emitIndicator() {\n  emit('indicatorSelected', selAvailableIndicator.value);\n  emit('update:modelValue', selAvailableIndicator.value);\n}\nfunction abort() {\n  selAvailableIndicator.value = '';\n  emitIndicator();\n}\n\nonMounted(() => {\n  selAvailableIndicator.value = props.modelValue;\n});\n\nwatch(selAvailableIndicator, () => {\n  emitIndicator();\n});\n\nwatch(\n  () => props.modelValue,\n  (newValue) => {\n    selAvailableIndicator.value = newValue;\n  },\n);\n</script>\n\n<template>\n  <div class=\"flex flex-row\">\n    <div class=\"flex flex-col grow\">\n      <label for=\"selAvailableIndicator\" class=\"form-label\">{{ label }}</label>\n      <Select\n        v-model=\"selAvailableIndicator\"\n        :options=\"columns\"\n        size=\"small\"\n        :clearable=\"false\"\n        filter\n        auto-filter-focus\n      >\n      </Select>\n    </div>\n    <Button size=\"small\" title=\"Abort\" class=\"ms-1 mt-auto\" severity=\"secondary\" @click=\"abort\">\n      <template #icon>\n        <i-mdi-close />\n      </template>\n    </Button>\n  </div>\n</template>\n","var style=\"\\n    .p-colorpicker {\\n        display: inline-block;\\n        position: relative;\\n    }\\n\\n    .p-colorpicker-dragging {\\n        cursor: pointer;\\n    }\\n\\n    .p-colorpicker-preview {\\n        width: dt('colorpicker.preview.width');\\n        height: dt('colorpicker.preview.height');\\n        padding: 0;\\n        border: 0 none;\\n        border-radius: dt('colorpicker.preview.border.radius');\\n        transition:\\n            background dt('colorpicker.transition.duration'),\\n            color dt('colorpicker.transition.duration'),\\n            border-color dt('colorpicker.transition.duration'),\\n            outline-color dt('colorpicker.transition.duration'),\\n            box-shadow dt('colorpicker.transition.duration');\\n        outline-color: transparent;\\n        cursor: pointer;\\n    }\\n\\n    .p-colorpicker-preview:enabled:focus-visible {\\n        border-color: dt('colorpicker.preview.focus.border.color');\\n        box-shadow: dt('colorpicker.preview.focus.ring.shadow');\\n        outline: dt('colorpicker.preview.focus.ring.width') dt('colorpicker.preview.focus.ring.style') dt('colorpicker.preview.focus.ring.color');\\n        outline-offset: dt('colorpicker.preview.focus.ring.offset');\\n    }\\n\\n    .p-colorpicker-panel {\\n        background: dt('colorpicker.panel.background');\\n        border: 1px solid dt('colorpicker.panel.border.color');\\n        border-radius: dt('colorpicker.panel.border.radius');\\n        box-shadow: dt('colorpicker.panel.shadow');\\n        width: 193px;\\n        height: 166px;\\n        position: absolute;\\n        top: 0;\\n        left: 0;\\n    }\\n\\n    .p-colorpicker-panel-inline {\\n        box-shadow: none;\\n        position: static;\\n    }\\n\\n    .p-colorpicker-content {\\n        position: relative;\\n    }\\n\\n    .p-colorpicker-color-selector {\\n        width: 150px;\\n        height: 150px;\\n        inset-block-start: 8px;\\n        inset-inline-start: 8px;\\n        position: absolute;\\n    }\\n\\n    .p-colorpicker-color-background {\\n        width: 100%;\\n        height: 100%;\\n        background: linear-gradient(to top, #000 0%, rgba(0, 0, 0, 0) 100%), linear-gradient(to right, #fff 0%, rgba(255, 255, 255, 0) 100%);\\n    }\\n\\n    .p-colorpicker-color-handle {\\n        position: absolute;\\n        inset-block-start: 0px;\\n        inset-inline-start: 150px;\\n        border-radius: 100%;\\n        width: 10px;\\n        height: 10px;\\n        border-width: 1px;\\n        border-style: solid;\\n        margin: -5px 0 0 -5px;\\n        cursor: pointer;\\n        opacity: 0.85;\\n        border-color: dt('colorpicker.handle.color');\\n    }\\n\\n    .p-colorpicker-hue {\\n        width: 17px;\\n        height: 150px;\\n        inset-block-start: 8px;\\n        inset-inline-start: 167px;\\n        position: absolute;\\n        opacity: 0.85;\\n        background: linear-gradient(0deg, red 0, #ff0 17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, red);\\n    }\\n\\n    .p-colorpicker-hue-handle {\\n        position: absolute;\\n        inset-block-start: 150px;\\n        inset-inline-start: 0px;\\n        width: 21px;\\n        margin-inline-start: -2px;\\n        margin-block-start: -5px;\\n        height: 10px;\\n        border-width: 2px;\\n        border-style: solid;\\n        opacity: 0.85;\\n        cursor: pointer;\\n        border-color: dt('colorpicker.handle.color');\\n    }\\n\";export{style};//# sourceMappingURL=index.mjs.map","import { style } from '@primeuix/styles/colorpicker';\nimport BaseStyle from '@primevue/core/base/style';\n\nvar classes = {\n  root: 'p-colorpicker p-component',\n  preview: function preview(_ref) {\n    var props = _ref.props;\n    return ['p-colorpicker-preview', {\n      'p-disabled': props.disabled\n    }];\n  },\n  panel: function panel(_ref2) {\n    var instance = _ref2.instance,\n      props = _ref2.props;\n    return ['p-colorpicker-panel', {\n      'p-colorpicker-panel-inline': props.inline,\n      'p-disabled': props.disabled,\n      'p-invalid': instance.$invalid\n    }];\n  },\n  colorSelector: 'p-colorpicker-color-selector',\n  colorBackground: 'p-colorpicker-color-background',\n  colorHandle: 'p-colorpicker-color-handle',\n  hue: 'p-colorpicker-hue',\n  hueHandle: 'p-colorpicker-hue-handle'\n};\nvar ColorPickerStyle = BaseStyle.extend({\n  name: 'colorpicker',\n  style: style,\n  classes: classes\n});\n\nexport { ColorPickerStyle as default };\n//# sourceMappingURL=index.mjs.map\n","import { isTouchDevice, addClass, removeClass, relativePosition, absolutePosition } from '@primeuix/utils/dom';\nimport { ZIndex } from '@primeuix/utils/zindex';\nimport { ConnectedOverlayScrollHandler } from '@primevue/core/utils';\nimport OverlayEventBus from 'primevue/overlayeventbus';\nimport Portal from 'primevue/portal';\nimport BaseEditableHolder from '@primevue/core/baseeditableholder';\nimport ColorPickerStyle from 'primevue/colorpicker/style';\nimport { resolveComponent, createElementBlock, openBlock, mergeProps, createCommentVNode, createVNode, withCtx, Transition, createElementVNode } from 'vue';\n\nvar script$1 = {\n  name: 'BaseColorPicker',\n  \"extends\": BaseEditableHolder,\n  props: {\n    defaultColor: {\n      type: null,\n      \"default\": 'ff0000'\n    },\n    inline: {\n      type: Boolean,\n      \"default\": false\n    },\n    format: {\n      type: String,\n      \"default\": 'hex'\n    },\n    tabindex: {\n      type: String,\n      \"default\": null\n    },\n    autoZIndex: {\n      type: Boolean,\n      \"default\": true\n    },\n    baseZIndex: {\n      type: Number,\n      \"default\": 0\n    },\n    appendTo: {\n      type: [String, Object],\n      \"default\": 'body'\n    },\n    inputId: {\n      type: String,\n      \"default\": null\n    },\n    panelClass: null,\n    overlayClass: null\n  },\n  style: ColorPickerStyle,\n  provide: function provide() {\n    return {\n      $pcColorPicker: this,\n      $parentInstance: this\n    };\n  }\n};\n\nvar script = {\n  name: 'ColorPicker',\n  \"extends\": script$1,\n  inheritAttrs: false,\n  emits: ['change', 'show', 'hide'],\n  data: function data() {\n    return {\n      overlayVisible: false\n    };\n  },\n  hsbValue: null,\n  localHue: null,\n  outsideClickListener: null,\n  documentMouseMoveListener: null,\n  documentMouseUpListener: null,\n  scrollHandler: null,\n  resizeListener: null,\n  hueDragging: null,\n  colorDragging: null,\n  selfUpdate: null,\n  picker: null,\n  colorSelector: null,\n  colorHandle: null,\n  hueView: null,\n  hueHandle: null,\n  watch: {\n    modelValue: {\n      immediate: true,\n      handler: function handler(newValue) {\n        this.hsbValue = this.toHSB(newValue);\n        if (this.selfUpdate) this.selfUpdate = false;else this.updateUI();\n      }\n    }\n  },\n  beforeUnmount: function beforeUnmount() {\n    this.unbindOutsideClickListener();\n    this.unbindDragListeners();\n    this.unbindResizeListener();\n    if (this.scrollHandler) {\n      this.scrollHandler.destroy();\n      this.scrollHandler = null;\n    }\n    if (this.picker && this.autoZIndex) {\n      ZIndex.clear(this.picker);\n    }\n    this.clearRefs();\n  },\n  mounted: function mounted() {\n    this.updateUI();\n  },\n  methods: {\n    pickColor: function pickColor(event) {\n      var rect = this.colorSelector.getBoundingClientRect();\n      var top = rect.top + (window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0);\n      var left = rect.left + document.body.scrollLeft;\n      var saturation = Math.floor(100 * Math.max(0, Math.min(150, (event.pageX || event.changedTouches[0].pageX) - left)) / 150);\n      var brightness = Math.floor(100 * (150 - Math.max(0, Math.min(150, (event.pageY || event.changedTouches[0].pageY) - top))) / 150);\n      this.hsbValue = this.validateHSB({\n        h: this.localHue,\n        s: saturation,\n        b: brightness\n      });\n      this.selfUpdate = true;\n      this.updateColorHandle();\n      this.updateInput();\n      this.updateModel(event);\n    },\n    pickHue: function pickHue(event) {\n      var top = this.hueView.getBoundingClientRect().top + (window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0);\n      this.localHue = Math.floor(360 * (150 - Math.max(0, Math.min(150, (event.pageY || event.changedTouches[0].pageY) - top))) / 150);\n      this.hsbValue = this.validateHSB({\n        h: this.localHue,\n        s: this.hsbValue.s,\n        b: this.hsbValue.b\n      });\n      this.selfUpdate = true;\n      this.updateColorSelector();\n      this.updateHue();\n      this.updateModel(event);\n      this.updateInput();\n    },\n    updateModel: function updateModel(event) {\n      var value = this.d_value;\n      switch (this.format) {\n        case 'hex':\n          value = this.HSBtoHEX(this.hsbValue);\n          break;\n        case 'rgb':\n          value = this.HSBtoRGB(this.hsbValue);\n          break;\n        case 'hsb':\n          value = this.hsbValue;\n          break;\n      }\n      this.writeValue(value, event);\n      this.$emit('change', {\n        event: event,\n        value: value\n      });\n    },\n    updateColorSelector: function updateColorSelector() {\n      if (this.colorSelector) {\n        var hsbValue = this.validateHSB({\n          h: this.hsbValue.h,\n          s: 100,\n          b: 100\n        });\n        this.colorSelector.style.backgroundColor = '#' + this.HSBtoHEX(hsbValue);\n      }\n    },\n    updateColorHandle: function updateColorHandle() {\n      if (this.colorHandle) {\n        this.colorHandle.style.left = Math.floor(150 * this.hsbValue.s / 100) + 'px';\n        this.colorHandle.style.top = Math.floor(150 * (100 - this.hsbValue.b) / 100) + 'px';\n      }\n    },\n    updateHue: function updateHue() {\n      if (this.hueHandle) {\n        this.hueHandle.style.top = Math.floor(150 - 150 * this.hsbValue.h / 360) + 'px';\n      }\n    },\n    updateInput: function updateInput() {\n      if (this.$refs.input) {\n        this.$refs.input.style.backgroundColor = '#' + this.HSBtoHEX(this.hsbValue);\n      }\n    },\n    updateUI: function updateUI() {\n      this.updateHue();\n      this.updateColorHandle();\n      this.updateInput();\n      this.updateColorSelector();\n    },\n    validateHSB: function validateHSB(hsb) {\n      return {\n        h: Math.min(360, Math.max(0, hsb.h)),\n        s: Math.min(100, Math.max(0, hsb.s)),\n        b: Math.min(100, Math.max(0, hsb.b))\n      };\n    },\n    validateRGB: function validateRGB(rgb) {\n      return {\n        r: Math.min(255, Math.max(0, rgb.r)),\n        g: Math.min(255, Math.max(0, rgb.g)),\n        b: Math.min(255, Math.max(0, rgb.b))\n      };\n    },\n    validateHEX: function validateHEX(hex) {\n      var len = 6 - hex.length;\n      if (len > 0) {\n        var o = [];\n        for (var i = 0; i < len; i++) {\n          o.push('0');\n        }\n        o.push(hex);\n        hex = o.join('');\n      }\n      return hex;\n    },\n    HEXtoRGB: function HEXtoRGB(hex) {\n      var hexValue = parseInt(hex.indexOf('#') > -1 ? hex.substring(1) : hex, 16);\n      return {\n        r: hexValue >> 16,\n        g: (hexValue & 0x00ff00) >> 8,\n        b: hexValue & 0x0000ff\n      };\n    },\n    HEXtoHSB: function HEXtoHSB(hex) {\n      return this.RGBtoHSB(this.HEXtoRGB(hex));\n    },\n    RGBtoHSB: function RGBtoHSB(rgb) {\n      var hsb = {\n        h: 0,\n        s: 0,\n        b: 0\n      };\n      var min = Math.min(rgb.r, rgb.g, rgb.b);\n      var max = Math.max(rgb.r, rgb.g, rgb.b);\n      var delta = max - min;\n      hsb.b = max;\n      hsb.s = max !== 0 ? 255 * delta / max : 0;\n      if (hsb.s !== 0) {\n        if (rgb.r === max) {\n          hsb.h = (rgb.g - rgb.b) / delta;\n        } else if (rgb.g === max) {\n          hsb.h = 2 + (rgb.b - rgb.r) / delta;\n        } else {\n          hsb.h = 4 + (rgb.r - rgb.g) / delta;\n        }\n      } else {\n        hsb.h = -1;\n      }\n      hsb.h *= 60;\n      if (hsb.h < 0) {\n        hsb.h += 360;\n      }\n      hsb.s *= 100 / 255;\n      hsb.b *= 100 / 255;\n      return hsb;\n    },\n    HSBtoRGB: function HSBtoRGB(hsb) {\n      var rgb = {\n        r: null,\n        g: null,\n        b: null\n      };\n      var h = Math.round(hsb.h);\n      var s = Math.round(hsb.s * 255 / 100);\n      var v = Math.round(hsb.b * 255 / 100);\n      if (s === 0) {\n        rgb = {\n          r: v,\n          g: v,\n          b: v\n        };\n      } else {\n        var t1 = v;\n        var t2 = (255 - s) * v / 255;\n        var t3 = (t1 - t2) * (h % 60) / 60;\n        if (h === 360) h = 0;\n        if (h < 60) {\n          rgb.r = t1;\n          rgb.b = t2;\n          rgb.g = t2 + t3;\n        } else if (h < 120) {\n          rgb.g = t1;\n          rgb.b = t2;\n          rgb.r = t1 - t3;\n        } else if (h < 180) {\n          rgb.g = t1;\n          rgb.r = t2;\n          rgb.b = t2 + t3;\n        } else if (h < 240) {\n          rgb.b = t1;\n          rgb.r = t2;\n          rgb.g = t1 - t3;\n        } else if (h < 300) {\n          rgb.b = t1;\n          rgb.g = t2;\n          rgb.r = t2 + t3;\n        } else if (h < 360) {\n          rgb.r = t1;\n          rgb.g = t2;\n          rgb.b = t1 - t3;\n        } else {\n          rgb.r = 0;\n          rgb.g = 0;\n          rgb.b = 0;\n        }\n      }\n      return {\n        r: Math.round(rgb.r),\n        g: Math.round(rgb.g),\n        b: Math.round(rgb.b)\n      };\n    },\n    RGBtoHEX: function RGBtoHEX(rgb) {\n      var hex = [rgb.r.toString(16), rgb.g.toString(16), rgb.b.toString(16)];\n      for (var key in hex) {\n        if (hex[key].length === 1) {\n          hex[key] = '0' + hex[key];\n        }\n      }\n      return hex.join('');\n    },\n    HSBtoHEX: function HSBtoHEX(hsb) {\n      return this.RGBtoHEX(this.HSBtoRGB(hsb));\n    },\n    toHSB: function toHSB(value) {\n      var hsb;\n      if (value) {\n        switch (this.format) {\n          case 'hex':\n            hsb = this.HEXtoHSB(value);\n            break;\n          case 'rgb':\n            hsb = this.RGBtoHSB(value);\n            break;\n          case 'hsb':\n            hsb = value;\n            break;\n        }\n      } else {\n        hsb = this.HEXtoHSB(this.defaultColor);\n      }\n      if (hsb.s === 0 || hsb.b === 0) {\n        hsb.h = this.localHue;\n      } else {\n        this.localHue = hsb.h;\n      }\n      return hsb;\n    },\n    onOverlayEnter: function onOverlayEnter(el) {\n      this.updateUI();\n      this.alignOverlay();\n      this.bindOutsideClickListener();\n      this.bindScrollListener();\n      this.bindResizeListener();\n      if (this.autoZIndex) {\n        ZIndex.set('overlay', el, this.baseZIndex + this.$primevue.config.zIndex.overlay);\n      }\n\n      // Issue: #7508\n      this.$attrSelector && el.setAttribute(this.$attrSelector, '');\n      this.$emit('show');\n    },\n    onOverlayLeave: function onOverlayLeave() {\n      this.unbindOutsideClickListener();\n      this.unbindScrollListener();\n      this.unbindResizeListener();\n      this.clearRefs();\n      this.$emit('hide');\n    },\n    onOverlayAfterLeave: function onOverlayAfterLeave(el) {\n      if (this.autoZIndex) {\n        ZIndex.clear(el);\n      }\n    },\n    alignOverlay: function alignOverlay() {\n      if (this.appendTo === 'self') relativePosition(this.picker, this.$refs.input);else absolutePosition(this.picker, this.$refs.input);\n    },\n    onInputClick: function onInputClick() {\n      if (this.disabled) {\n        return;\n      }\n      this.overlayVisible = !this.overlayVisible;\n    },\n    onInputKeydown: function onInputKeydown(event) {\n      switch (event.code) {\n        case 'Space':\n          this.overlayVisible = !this.overlayVisible;\n          event.preventDefault();\n          break;\n        case 'Escape':\n        case 'Tab':\n          this.overlayVisible = false;\n          break;\n      }\n    },\n    onInputBlur: function onInputBlur(event) {\n      var _this$formField$onBlu, _this$formField;\n      (_this$formField$onBlu = (_this$formField = this.formField).onBlur) === null || _this$formField$onBlu === void 0 || _this$formField$onBlu.call(_this$formField);\n    },\n    onColorMousedown: function onColorMousedown(event) {\n      if (this.disabled) {\n        return;\n      }\n      this.bindDragListeners();\n      this.onColorDragStart(event);\n    },\n    onColorDragStart: function onColorDragStart(event) {\n      if (this.disabled) {\n        return;\n      }\n      this.colorDragging = true;\n      this.pickColor(event);\n      this.$el.setAttribute('p-colorpicker-dragging', 'true');\n      !this.isUnstyled && addClass(this.$el, 'p-colorpicker-dragging');\n      event.preventDefault();\n    },\n    onDrag: function onDrag(event) {\n      if (this.colorDragging) {\n        this.pickColor(event);\n        event.preventDefault();\n      }\n      if (this.hueDragging) {\n        this.pickHue(event);\n        event.preventDefault();\n      }\n    },\n    onDragEnd: function onDragEnd() {\n      this.colorDragging = false;\n      this.hueDragging = false;\n      this.$el.setAttribute('p-colorpicker-dragging', 'false');\n      !this.isUnstyled && removeClass(this.$el, 'p-colorpicker-dragging');\n      this.unbindDragListeners();\n    },\n    onHueMousedown: function onHueMousedown(event) {\n      if (this.disabled) {\n        return;\n      }\n      this.bindDragListeners();\n      this.onHueDragStart(event);\n    },\n    onHueDragStart: function onHueDragStart(event) {\n      if (this.disabled) {\n        return;\n      }\n      this.hueDragging = true;\n      this.pickHue(event);\n      !this.isUnstyled && addClass(this.$el, 'p-colorpicker-dragging');\n      event.preventDefault();\n    },\n    isInputClicked: function isInputClicked(event) {\n      return this.$refs.input && this.$refs.input.isSameNode(event.target);\n    },\n    bindDragListeners: function bindDragListeners() {\n      this.bindDocumentMouseMoveListener();\n      this.bindDocumentMouseUpListener();\n    },\n    unbindDragListeners: function unbindDragListeners() {\n      this.unbindDocumentMouseMoveListener();\n      this.unbindDocumentMouseUpListener();\n    },\n    bindOutsideClickListener: function bindOutsideClickListener() {\n      var _this = this;\n      if (!this.outsideClickListener) {\n        this.outsideClickListener = function (event) {\n          if (_this.overlayVisible && _this.picker && !_this.picker.contains(event.target) && !_this.isInputClicked(event)) {\n            _this.overlayVisible = false;\n          }\n        };\n        document.addEventListener('click', this.outsideClickListener, true);\n      }\n    },\n    unbindOutsideClickListener: function unbindOutsideClickListener() {\n      if (this.outsideClickListener) {\n        document.removeEventListener('click', this.outsideClickListener, true);\n        this.outsideClickListener = null;\n      }\n    },\n    bindScrollListener: function bindScrollListener() {\n      var _this2 = this;\n      if (!this.scrollHandler) {\n        this.scrollHandler = new ConnectedOverlayScrollHandler(this.$refs.container, function () {\n          if (_this2.overlayVisible) {\n            _this2.overlayVisible = false;\n          }\n        });\n      }\n      this.scrollHandler.bindScrollListener();\n    },\n    unbindScrollListener: function unbindScrollListener() {\n      if (this.scrollHandler) {\n        this.scrollHandler.unbindScrollListener();\n      }\n    },\n    bindResizeListener: function bindResizeListener() {\n      var _this3 = this;\n      if (!this.resizeListener) {\n        this.resizeListener = function () {\n          if (_this3.overlayVisible && !isTouchDevice()) {\n            _this3.overlayVisible = false;\n          }\n        };\n        window.addEventListener('resize', this.resizeListener);\n      }\n    },\n    unbindResizeListener: function unbindResizeListener() {\n      if (this.resizeListener) {\n        window.removeEventListener('resize', this.resizeListener);\n        this.resizeListener = null;\n      }\n    },\n    bindDocumentMouseMoveListener: function bindDocumentMouseMoveListener() {\n      if (!this.documentMouseMoveListener) {\n        this.documentMouseMoveListener = this.onDrag.bind(this);\n        document.addEventListener('mousemove', this.documentMouseMoveListener);\n      }\n    },\n    unbindDocumentMouseMoveListener: function unbindDocumentMouseMoveListener() {\n      if (this.documentMouseMoveListener) {\n        document.removeEventListener('mousemove', this.documentMouseMoveListener);\n        this.documentMouseMoveListener = null;\n      }\n    },\n    bindDocumentMouseUpListener: function bindDocumentMouseUpListener() {\n      if (!this.documentMouseUpListener) {\n        this.documentMouseUpListener = this.onDragEnd.bind(this);\n        document.addEventListener('mouseup', this.documentMouseUpListener);\n      }\n    },\n    unbindDocumentMouseUpListener: function unbindDocumentMouseUpListener() {\n      if (this.documentMouseUpListener) {\n        document.removeEventListener('mouseup', this.documentMouseUpListener);\n        this.documentMouseUpListener = null;\n      }\n    },\n    pickerRef: function pickerRef(el) {\n      this.picker = el;\n    },\n    colorSelectorRef: function colorSelectorRef(el) {\n      this.colorSelector = el;\n    },\n    colorHandleRef: function colorHandleRef(el) {\n      this.colorHandle = el;\n    },\n    hueViewRef: function hueViewRef(el) {\n      this.hueView = el;\n    },\n    hueHandleRef: function hueHandleRef(el) {\n      this.hueHandle = el;\n    },\n    clearRefs: function clearRefs() {\n      this.picker = null;\n      this.colorSelector = null;\n      this.colorHandle = null;\n      this.hueView = null;\n      this.hueHandle = null;\n    },\n    onOverlayClick: function onOverlayClick(event) {\n      OverlayEventBus.emit('overlay-click', {\n        originalEvent: event,\n        target: this.$el\n      });\n    }\n  },\n  components: {\n    Portal: Portal\n  }\n};\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), true).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: true, configurable: true, writable: true }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar _hoisted_1 = [\"id\", \"tabindex\", \"disabled\"];\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_Portal = resolveComponent(\"Portal\");\n  return openBlock(), createElementBlock(\"div\", mergeProps({\n    ref: \"container\",\n    \"class\": _ctx.cx('root')\n  }, _ctx.ptmi('root')), [!_ctx.inline ? (openBlock(), createElementBlock(\"input\", mergeProps({\n    key: 0,\n    ref: \"input\",\n    id: _ctx.inputId,\n    type: \"text\",\n    \"class\": _ctx.cx('preview'),\n    readonly: \"\",\n    tabindex: _ctx.tabindex,\n    disabled: _ctx.disabled,\n    onClick: _cache[0] || (_cache[0] = function () {\n      return $options.onInputClick && $options.onInputClick.apply($options, arguments);\n    }),\n    onKeydown: _cache[1] || (_cache[1] = function () {\n      return $options.onInputKeydown && $options.onInputKeydown.apply($options, arguments);\n    }),\n    onBlur: _cache[2] || (_cache[2] = function () {\n      return $options.onInputBlur && $options.onInputBlur.apply($options, arguments);\n    })\n  }, _ctx.ptm('preview')), null, 16, _hoisted_1)) : createCommentVNode(\"\", true), createVNode(_component_Portal, {\n    appendTo: _ctx.appendTo,\n    disabled: _ctx.inline\n  }, {\n    \"default\": withCtx(function () {\n      return [createVNode(Transition, mergeProps({\n        name: \"p-anchored-overlay\",\n        onEnter: $options.onOverlayEnter,\n        onLeave: $options.onOverlayLeave,\n        onAfterLeave: $options.onOverlayAfterLeave\n      }, _ctx.ptm('transition')), {\n        \"default\": withCtx(function () {\n          return [(_ctx.inline ? true : $data.overlayVisible) ? (openBlock(), createElementBlock(\"div\", mergeProps({\n            key: 0,\n            ref: $options.pickerRef,\n            \"class\": [_ctx.cx('panel'), _ctx.panelClass, _ctx.overlayClass],\n            onClick: _cache[11] || (_cache[11] = function () {\n              return $options.onOverlayClick && $options.onOverlayClick.apply($options, arguments);\n            })\n          }, _objectSpread(_objectSpread({}, _ctx.ptm('panel')), _ctx.ptm('overlay'))), [createElementVNode(\"div\", mergeProps({\n            \"class\": _ctx.cx('content')\n          }, _ctx.ptm('content')), [createElementVNode(\"div\", mergeProps({\n            ref: $options.colorSelectorRef,\n            \"class\": _ctx.cx('colorSelector'),\n            onMousedown: _cache[3] || (_cache[3] = function ($event) {\n              return $options.onColorMousedown($event);\n            }),\n            onTouchstart: _cache[4] || (_cache[4] = function ($event) {\n              return $options.onColorDragStart($event);\n            }),\n            onTouchmove: _cache[5] || (_cache[5] = function ($event) {\n              return $options.onDrag($event);\n            }),\n            onTouchend: _cache[6] || (_cache[6] = function ($event) {\n              return $options.onDragEnd();\n            })\n          }, _ctx.ptm('colorSelector')), [createElementVNode(\"div\", mergeProps({\n            \"class\": _ctx.cx('colorBackground')\n          }, _ctx.ptm('colorBackground')), [createElementVNode(\"div\", mergeProps({\n            ref: $options.colorHandleRef,\n            \"class\": _ctx.cx('colorHandle')\n          }, _ctx.ptm('colorHandle')), null, 16)], 16)], 16), createElementVNode(\"div\", mergeProps({\n            ref: $options.hueViewRef,\n            \"class\": _ctx.cx('hue'),\n            onMousedown: _cache[7] || (_cache[7] = function ($event) {\n              return $options.onHueMousedown($event);\n            }),\n            onTouchstart: _cache[8] || (_cache[8] = function ($event) {\n              return $options.onHueDragStart($event);\n            }),\n            onTouchmove: _cache[9] || (_cache[9] = function ($event) {\n              return $options.onDrag($event);\n            }),\n            onTouchend: _cache[10] || (_cache[10] = function ($event) {\n              return $options.onDragEnd();\n            })\n          }, _ctx.ptm('hue')), [createElementVNode(\"div\", mergeProps({\n            ref: $options.hueHandleRef,\n            \"class\": _ctx.cx('hueHandle')\n          }, _ctx.ptm('hueHandle')), null, 16)], 16)], 16)], 16)) : createCommentVNode(\"\", true)];\n        }),\n        _: 1\n      }, 16, [\"onEnter\", \"onLeave\", \"onAfterLeave\"])];\n    }),\n    _: 1\n  }, 8, [\"appendTo\", \"disabled\"])], 16);\n}\n\nscript.render = render;\n\nexport { script as default };\n//# sourceMappingURL=index.mjs.map\n","export function randomColor() {\n  return `#${Math.floor(Math.random() * 0xffffff)\n    .toString(16)\n    .padStart(6, '0')}`;\n}\n","<script setup lang=\"ts\">\nimport type { ChartTypeString, IndicatorConfig } from '@/types';\nimport { ChartType } from '@/types';\n\nconst props = withDefaults(\n  defineProps<{\n    modelValue: Record<string, IndicatorConfig>;\n    columns: string[];\n  }>(),\n  {},\n);\n\nconst emit = defineEmits<{ 'update:modelValue': [value: IndicatorConfig] }>();\n\nconst selColor_ = ref(randomColor());\nconst selColor = computed({\n  get: () => selColor_.value,\n  set: (val) => {\n    if (\n      !val.startsWith('#') &&\n      (val.length === 3 || val.length === 6) &&\n      /^[0-9a-fA-F]+$/.test(val)\n    ) {\n      val = `#${val}`;\n    }\n    selColor_.value = val;\n  },\n});\nconst graphType = ref<ChartTypeString>(ChartType.line);\nconst availableGraphTypes = ref<ChartTypeString[]>(Object.keys(ChartType) as ChartTypeString[]);\nconst selAvailableIndicator = ref('');\nconst cancelled = ref(false);\nconst fillTo = ref('');\nconst scatterSymbolSize = ref(3);\n\nfunction newColor() {\n  selColor.value = randomColor();\n}\n\nconst combinedIndicator = computed<IndicatorConfig>(() => {\n  if (cancelled.value || !selAvailableIndicator.value) {\n    return {};\n  }\n  const val: IndicatorConfig = {\n    color: selColor.value,\n    type: graphType.value,\n  };\n  if (fillTo.value && graphType.value === ChartType.line) {\n    val.fill_to = fillTo.value;\n  }\n  if (graphType.value == ChartType.scatter) {\n    val.scatterSymbolSize = scatterSymbolSize.value;\n  }\n  return {\n    [selAvailableIndicator.value]: val,\n  };\n});\n\nfunction emitIndicator() {\n  emit('update:modelValue', combinedIndicator.value);\n}\n\nwatch(\n  () => props.modelValue,\n  () => {\n    const [firstIndicator] = Object.keys(props.modelValue);\n    if (firstIndicator) {\n      selAvailableIndicator.value = firstIndicator;\n    }\n    cancelled.value = false;\n    if (selAvailableIndicator.value && props.modelValue) {\n      const xx = props.modelValue[selAvailableIndicator.value];\n      if (!xx) return;\n      selColor.value = xx.color || randomColor();\n      graphType.value = xx.type || ChartType.line;\n      fillTo.value = xx.fill_to || '';\n    }\n  },\n  {\n    immediate: true,\n  },\n);\n\nwatchDebounced(\n  [selColor, graphType, fillTo, scatterSymbolSize],\n  () => {\n    emitIndicator();\n  },\n  {\n    debounce: 200,\n  },\n);\n</script>\n\n<template>\n  <div>\n    <div class=\"flex flex-col lg:flex-row justify-between mt-1\">\n      <div class=\"flex flex-col w-full\">\n        <label for=\"plotTypeSelector\" class=\"form-label\">Type</label>\n        <Select\n          id=\"plotTypeSelector\"\n          v-model=\"graphType\"\n          class=\"text-left\"\n          size=\"small\"\n          :options=\"availableGraphTypes\"\n        >\n        </Select>\n      </div>\n      <div class=\"flex flex-col w-full\">\n        <label for=\"selAvailableIndicator\" class=\"colsel\">Color</label>\n        <InputGroup>\n          <InputGroupAddon class=\"p-0!\">\n            <ColorPicker v-model=\"selColor\" type=\"color\" class=\"m-auto\"></ColorPicker>\n          </InputGroupAddon>\n          <InputText id=\"colsel\" v-model=\"selColor\" size=\"small\" class=\"grow\"> </InputText>\n          <InputGroupAddon>\n            <Button severity=\"primary\" size=\"small\" @click=\"newColor\">\n              <template #icon>\n                <i-mdi-dice-multiple />\n              </template>\n            </Button>\n          </InputGroupAddon>\n        </InputGroup>\n      </div>\n    </div>\n    <PlotIndicatorSelect\n      v-if=\"graphType === ChartType.line\"\n      v-model=\"fillTo\"\n      :columns=\"columns\"\n      class=\"mt-1\"\n      label=\"Area chart - Fill to (leave empty for line chart)\"\n    />\n    <div v-if=\"graphType === ChartType.scatter\" class=\"flex flex-col mt-2 gap-1 items-center\">\n      <label for=\"scatterSymbolSize\" class=\"text-nowrap\">Scatter symbol size</label>\n      <InputNumber\n        id=\"scatterSymbolSize\"\n        v-model=\"scatterSymbolSize\"\n        :min=\"0\"\n        show-buttons\n        size=\"small\"\n        button-layout=\"horizontal\"\n        class=\"text-center w-full\"\n      />\n    </div>\n  </div>\n</template>\n","var style=\"\\n    .p-listbox {\\n        display: block;\\n        background: dt('listbox.background');\\n        color: dt('listbox.color');\\n        border: 1px solid dt('listbox.border.color');\\n        border-radius: dt('listbox.border.radius');\\n        transition:\\n            background dt('listbox.transition.duration'),\\n            color dt('listbox.transition.duration'),\\n            border-color dt('listbox.transition.duration'),\\n            box-shadow dt('listbox.transition.duration'),\\n            outline-color dt('listbox.transition.duration');\\n        outline-color: transparent;\\n        box-shadow: dt('listbox.shadow');\\n    }\\n\\n    .p-listbox.p-disabled {\\n        opacity: 1;\\n        background: dt('listbox.disabled.background');\\n        color: dt('listbox.disabled.color');\\n    }\\n\\n    .p-listbox.p-disabled .p-listbox-option {\\n        color: dt('listbox.disabled.color');\\n    }\\n\\n    .p-listbox.p-invalid {\\n        border-color: dt('listbox.invalid.border.color');\\n    }\\n\\n    .p-listbox-header {\\n        padding: dt('listbox.list.header.padding');\\n    }\\n\\n    .p-listbox-filter {\\n        width: 100%;\\n    }\\n\\n    .p-listbox-list-container {\\n        overflow: auto;\\n    }\\n\\n    .p-listbox-list {\\n        list-style-type: none;\\n        margin: 0;\\n        padding: dt('listbox.list.padding');\\n        outline: 0 none;\\n        display: flex;\\n        flex-direction: column;\\n        gap: dt('listbox.list.gap');\\n    }\\n\\n    .p-listbox-option {\\n        display: flex;\\n        align-items: center;\\n        cursor: pointer;\\n        position: relative;\\n        overflow: hidden;\\n        padding: dt('listbox.option.padding');\\n        border: 0 none;\\n        border-radius: dt('listbox.option.border.radius');\\n        color: dt('listbox.option.color');\\n        transition:\\n            background dt('listbox.transition.duration'),\\n            color dt('listbox.transition.duration'),\\n            border-color dt('listbox.transition.duration'),\\n            box-shadow dt('listbox.transition.duration'),\\n            outline-color dt('listbox.transition.duration');\\n    }\\n\\n    .p-listbox-striped li:nth-child(even of .p-listbox-option) {\\n        background: dt('listbox.option.striped.background');\\n    }\\n\\n    .p-listbox .p-listbox-list .p-listbox-option.p-listbox-option-selected {\\n        background: dt('listbox.option.selected.background');\\n        color: dt('listbox.option.selected.color');\\n    }\\n\\n    .p-listbox:not(.p-disabled) .p-listbox-option.p-listbox-option-selected.p-focus {\\n        background: dt('listbox.option.selected.focus.background');\\n        color: dt('listbox.option.selected.focus.color');\\n    }\\n\\n    .p-listbox:not(.p-disabled) .p-listbox-option:not(.p-listbox-option-selected):not(.p-disabled).p-focus {\\n        background: dt('listbox.option.focus.background');\\n        color: dt('listbox.option.focus.color');\\n    }\\n\\n    .p-listbox:not(.p-disabled) .p-listbox-option:not(.p-listbox-option-selected):not(.p-disabled):hover {\\n        background: dt('listbox.option.focus.background');\\n        color: dt('listbox.option.focus.color');\\n    }\\n\\n    .p-listbox-option-blank-icon {\\n        flex-shrink: 0;\\n    }\\n\\n    .p-listbox-option-check-icon {\\n        position: relative;\\n        flex-shrink: 0;\\n        margin-inline-start: dt('listbox.checkmark.gutter.start');\\n        margin-inline-end: dt('listbox.checkmark.gutter.end');\\n        color: dt('listbox.checkmark.color');\\n    }\\n\\n    .p-listbox-option-group {\\n        margin: 0;\\n        padding: dt('listbox.option.group.padding');\\n        color: dt('listbox.option.group.color');\\n        background: dt('listbox.option.group.background');\\n        font-weight: dt('listbox.option.group.font.weight');\\n    }\\n\\n    .p-listbox-empty-message {\\n        padding: dt('listbox.empty.message.padding');\\n    }\\n\\n    .p-listbox-fluid {\\n        width: 100%;\\n    }\\n\";export{style};//# sourceMappingURL=index.mjs.map","import { style } from '@primeuix/styles/listbox';\nimport BaseStyle from '@primevue/core/base/style';\n\nvar classes = {\n  root: function root(_ref) {\n    var instance = _ref.instance,\n      props = _ref.props;\n    return ['p-listbox p-component', {\n      'p-listbox-striped': props.striped,\n      'p-disabled': props.disabled,\n      'p-listbox-fluid': props.fluid,\n      'p-invalid': instance.$invalid\n    }];\n  },\n  header: 'p-listbox-header',\n  pcFilter: 'p-listbox-filter',\n  listContainer: 'p-listbox-list-container',\n  list: 'p-listbox-list',\n  optionGroup: 'p-listbox-option-group',\n  option: function option(_ref2) {\n    var instance = _ref2.instance,\n      props = _ref2.props,\n      _option = _ref2.option,\n      index = _ref2.index,\n      getItemOptions = _ref2.getItemOptions;\n    return ['p-listbox-option', {\n      'p-listbox-option-selected': instance.isSelected(_option) && props.highlightOnSelect,\n      'p-focus': instance.focusedOptionIndex === instance.getOptionIndex(index, getItemOptions),\n      'p-disabled': instance.isOptionDisabled(_option)\n    }];\n  },\n  optionCheckIcon: 'p-listbox-option-check-icon',\n  optionBlankIcon: 'p-listbox-option-blank-icon',\n  emptyMessage: 'p-listbox-empty-message'\n};\nvar ListboxStyle = BaseStyle.extend({\n  name: 'listbox',\n  style: style,\n  classes: classes\n});\n\nexport { ListboxStyle as default };\n//# sourceMappingURL=index.mjs.map\n","import { cn } from '@primeuix/utils';\nimport { findSingle, getFirstFocusableElement, focus, isElement } from '@primeuix/utils/dom';\nimport { isNotEmpty, equals, findLastIndex, isPrintableCharacter, resolveFieldData } from '@primeuix/utils/object';\nimport { FilterService } from '@primevue/core/api';\nimport BlankIcon from '@primevue/icons/blank';\nimport CheckIcon from '@primevue/icons/check';\nimport SearchIcon from '@primevue/icons/search';\nimport IconField from 'primevue/iconfield';\nimport InputIcon from 'primevue/inputicon';\nimport InputText from 'primevue/inputtext';\nimport Ripple from 'primevue/ripple';\nimport VirtualScroller from 'primevue/virtualscroller';\nimport BaseEditableHolder from '@primevue/core/baseeditableholder';\nimport ListboxStyle from 'primevue/listbox/style';\nimport { resolveComponent, resolveDirective, createElementBlock, openBlock, mergeProps, createElementVNode, createCommentVNode, renderSlot, createVNode, withCtx, normalizeClass, createBlock, normalizeProps, toDisplayString, createSlots, Fragment, renderList, withDirectives, createTextVNode } from 'vue';\n\nvar script$1 = {\n  name: 'BaseListbox',\n  \"extends\": BaseEditableHolder,\n  props: {\n    options: Array,\n    optionLabel: null,\n    optionValue: null,\n    optionDisabled: null,\n    optionGroupLabel: null,\n    optionGroupChildren: null,\n    listStyle: null,\n    scrollHeight: {\n      type: String,\n      \"default\": '14rem'\n    },\n    dataKey: null,\n    multiple: {\n      type: Boolean,\n      \"default\": false\n    },\n    metaKeySelection: {\n      type: Boolean,\n      \"default\": false\n    },\n    filter: Boolean,\n    filterPlaceholder: String,\n    filterLocale: String,\n    filterMatchMode: {\n      type: String,\n      \"default\": 'contains'\n    },\n    filterFields: {\n      type: Array,\n      \"default\": null\n    },\n    virtualScrollerOptions: {\n      type: Object,\n      \"default\": null\n    },\n    autoOptionFocus: {\n      type: Boolean,\n      \"default\": true\n    },\n    selectOnFocus: {\n      type: Boolean,\n      \"default\": false\n    },\n    focusOnHover: {\n      type: Boolean,\n      \"default\": true\n    },\n    highlightOnSelect: {\n      type: Boolean,\n      \"default\": true\n    },\n    checkmark: {\n      type: Boolean,\n      \"default\": false\n    },\n    filterMessage: {\n      type: String,\n      \"default\": null\n    },\n    selectionMessage: {\n      type: String,\n      \"default\": null\n    },\n    emptySelectionMessage: {\n      type: String,\n      \"default\": null\n    },\n    emptyFilterMessage: {\n      type: String,\n      \"default\": null\n    },\n    emptyMessage: {\n      type: String,\n      \"default\": null\n    },\n    filterIcon: {\n      type: String,\n      \"default\": undefined\n    },\n    striped: {\n      type: Boolean,\n      \"default\": false\n    },\n    tabindex: {\n      type: Number,\n      \"default\": 0\n    },\n    fluid: {\n      type: Boolean,\n      \"default\": null\n    },\n    ariaLabel: {\n      type: String,\n      \"default\": null\n    },\n    ariaLabelledby: {\n      type: String,\n      \"default\": null\n    }\n  },\n  style: ListboxStyle,\n  provide: function provide() {\n    return {\n      $pcListbox: this,\n      $parentInstance: this\n    };\n  }\n};\n\nfunction _toConsumableArray(r) { return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _iterableToArray(r) { if (\"undefined\" != typeof Symbol && null != r[Symbol.iterator] || null != r[\"@@iterator\"]) return Array.from(r); }\nfunction _arrayWithoutHoles(r) { if (Array.isArray(r)) return _arrayLikeToArray(r); }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nvar script = {\n  name: 'Listbox',\n  \"extends\": script$1,\n  inheritAttrs: false,\n  emits: ['change', 'focus', 'blur', 'filter', 'item-dblclick', 'option-dblclick'],\n  list: null,\n  virtualScroller: null,\n  optionTouched: false,\n  startRangeIndex: -1,\n  searchTimeout: null,\n  searchValue: '',\n  data: function data() {\n    return {\n      filterValue: null,\n      focused: false,\n      focusedOptionIndex: -1\n    };\n  },\n  watch: {\n    options: function options() {\n      this.autoUpdateModel();\n    }\n  },\n  mounted: function mounted() {\n    this.autoUpdateModel();\n  },\n  methods: {\n    getOptionIndex: function getOptionIndex(index, fn) {\n      return this.virtualScrollerDisabled ? index : fn && fn(index)['index'];\n    },\n    getOptionLabel: function getOptionLabel(option) {\n      return this.optionLabel ? resolveFieldData(option, this.optionLabel) : typeof option === 'string' || typeof option === 'number' || typeof option === 'boolean' ? option : null;\n    },\n    getOptionValue: function getOptionValue(option) {\n      return this.optionValue ? resolveFieldData(option, this.optionValue) : option;\n    },\n    getOptionRenderKey: function getOptionRenderKey(option, index) {\n      return (this.dataKey ? resolveFieldData(option, this.dataKey) : this.getOptionLabel(option)) + '_' + index;\n    },\n    getPTOptions: function getPTOptions(option, itemOptions, index, key) {\n      return this.ptm(key, {\n        context: {\n          selected: this.isSelected(option),\n          focused: this.focusedOptionIndex === this.getOptionIndex(index, itemOptions),\n          disabled: this.isOptionDisabled(option)\n        }\n      });\n    },\n    isOptionDisabled: function isOptionDisabled(option) {\n      return this.optionDisabled ? resolveFieldData(option, this.optionDisabled) : false;\n    },\n    isOptionGroup: function isOptionGroup(option) {\n      return this.optionGroupLabel && option.optionGroup && option.group;\n    },\n    getOptionGroupLabel: function getOptionGroupLabel(optionGroup) {\n      return resolveFieldData(optionGroup, this.optionGroupLabel);\n    },\n    getOptionGroupChildren: function getOptionGroupChildren(optionGroup) {\n      return resolveFieldData(optionGroup, this.optionGroupChildren);\n    },\n    getAriaPosInset: function getAriaPosInset(index) {\n      var _this = this;\n      return (this.optionGroupLabel ? index - this.visibleOptions.slice(0, index).filter(function (option) {\n        return _this.isOptionGroup(option);\n      }).length : index) + 1;\n    },\n    onFirstHiddenFocus: function onFirstHiddenFocus() {\n      focus(this.list);\n      var firstFocusableEl = getFirstFocusableElement(this.$el, ':not([data-p-hidden-focusable=\"true\"])');\n      this.$refs.lastHiddenFocusableElement.tabIndex = isElement(firstFocusableEl) ? undefined : -1;\n      this.$refs.firstHiddenFocusableElement.tabIndex = -1;\n    },\n    onLastHiddenFocus: function onLastHiddenFocus(event) {\n      var relatedTarget = event.relatedTarget;\n      if (relatedTarget === this.list) {\n        var firstFocusableEl = getFirstFocusableElement(this.$el, ':not([data-p-hidden-focusable=\"true\"])');\n        focus(firstFocusableEl);\n        this.$refs.firstHiddenFocusableElement.tabIndex = undefined;\n      } else {\n        focus(this.$refs.firstHiddenFocusableElement);\n      }\n      this.$refs.lastHiddenFocusableElement.tabIndex = -1;\n    },\n    onFocusout: function onFocusout(event) {\n      if (!this.$el.contains(event.relatedTarget) && this.$refs.lastHiddenFocusableElement && this.$refs.firstHiddenFocusableElement) {\n        this.$refs.lastHiddenFocusableElement.tabIndex = this.$refs.firstHiddenFocusableElement.tabIndex = undefined;\n      }\n    },\n    onListFocus: function onListFocus(event) {\n      this.focused = true;\n      this.focusedOptionIndex = this.focusedOptionIndex !== -1 ? this.focusedOptionIndex : this.autoOptionFocus ? this.findFirstFocusedOptionIndex() : this.findSelectedOptionIndex();\n      this.autoUpdateModel();\n      this.scrollInView(this.focusedOptionIndex);\n      this.$emit('focus', event);\n    },\n    onListBlur: function onListBlur(event) {\n      this.focused = false;\n      this.focusedOptionIndex = this.startRangeIndex = -1;\n      this.searchValue = '';\n      this.$emit('blur', event);\n    },\n    onListKeyDown: function onListKeyDown(event) {\n      var _this2 = this;\n      var metaKey = event.metaKey || event.ctrlKey;\n      switch (event.code) {\n        case 'ArrowDown':\n          this.onArrowDownKey(event);\n          break;\n        case 'ArrowUp':\n          this.onArrowUpKey(event);\n          break;\n        case 'Home':\n          this.onHomeKey(event);\n          break;\n        case 'End':\n          this.onEndKey(event);\n          break;\n        case 'PageDown':\n          this.onPageDownKey(event);\n          break;\n        case 'PageUp':\n          this.onPageUpKey(event);\n          break;\n        case 'Enter':\n        case 'NumpadEnter':\n        case 'Space':\n          this.onSpaceKey(event);\n          break;\n        case 'Tab':\n          //NOOP\n          break;\n        case 'ShiftLeft':\n        case 'ShiftRight':\n          this.onShiftKey(event);\n          break;\n        default:\n          if (this.multiple && event.code === 'KeyA' && metaKey) {\n            var value = this.visibleOptions.filter(function (option) {\n              return _this2.isValidOption(option);\n            }).map(function (option) {\n              return _this2.getOptionValue(option);\n            });\n            this.updateModel(event, value);\n            event.preventDefault();\n            break;\n          }\n          if (!metaKey && isPrintableCharacter(event.key)) {\n            this.searchOptions(event, event.key);\n            event.preventDefault();\n          }\n          break;\n      }\n    },\n    onOptionSelect: function onOptionSelect(event, option) {\n      var index = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : -1;\n      if (this.disabled || this.isOptionDisabled(option)) {\n        return;\n      }\n      this.multiple ? this.onOptionSelectMultiple(event, option) : this.onOptionSelectSingle(event, option);\n      this.optionTouched = false;\n      index !== -1 && (this.focusedOptionIndex = index);\n    },\n    onOptionMouseDown: function onOptionMouseDown(event, index) {\n      this.changeFocusedOptionIndex(event, index);\n    },\n    onOptionMouseMove: function onOptionMouseMove(event, index) {\n      if (this.focusOnHover && this.focused) {\n        this.changeFocusedOptionIndex(event, index);\n      }\n    },\n    onOptionTouchEnd: function onOptionTouchEnd() {\n      if (this.disabled) {\n        return;\n      }\n      this.optionTouched = true;\n    },\n    onOptionDblClick: function onOptionDblClick(event, item) {\n      this.$emit('item-dblclick', {\n        originalEvent: event,\n        value: item\n      });\n      this.$emit('option-dblclick', {\n        originalEvent: event,\n        value: item\n      });\n    },\n    onOptionSelectSingle: function onOptionSelectSingle(event, option) {\n      var selected = this.isSelected(option);\n      var valueChanged = false;\n      var value = null;\n      var metaSelection = this.optionTouched ? false : this.metaKeySelection;\n      if (metaSelection) {\n        var metaKey = event && (event.metaKey || event.ctrlKey);\n        if (selected) {\n          if (metaKey) {\n            value = null;\n            valueChanged = true;\n          }\n        } else {\n          value = this.getOptionValue(option);\n          valueChanged = true;\n        }\n      } else {\n        value = selected ? null : this.getOptionValue(option);\n        valueChanged = true;\n      }\n      if (valueChanged) {\n        this.updateModel(event, value);\n      }\n    },\n    onOptionSelectMultiple: function onOptionSelectMultiple(event, option) {\n      var selected = this.isSelected(option);\n      var value = null;\n      var metaSelection = this.optionTouched ? false : this.metaKeySelection;\n      if (metaSelection) {\n        var metaKey = event.metaKey || event.ctrlKey;\n        if (selected) {\n          value = metaKey ? this.removeOption(option) : [this.getOptionValue(option)];\n        } else {\n          value = metaKey ? this.d_value || [] : [];\n          value = [].concat(_toConsumableArray(value), [this.getOptionValue(option)]);\n        }\n      } else {\n        value = selected ? this.removeOption(option) : [].concat(_toConsumableArray(this.d_value || []), [this.getOptionValue(option)]);\n      }\n      this.updateModel(event, value);\n    },\n    onOptionSelectRange: function onOptionSelectRange(event) {\n      var _this3 = this;\n      var start = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : -1;\n      var end = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : -1;\n      start === -1 && (start = this.findNearestSelectedOptionIndex(end, true));\n      end === -1 && (end = this.findNearestSelectedOptionIndex(start));\n      if (start !== -1 && end !== -1) {\n        var rangeStart = Math.min(start, end);\n        var rangeEnd = Math.max(start, end);\n        var value = this.visibleOptions.slice(rangeStart, rangeEnd + 1).filter(function (option) {\n          return _this3.isValidOption(option);\n        }).map(function (option) {\n          return _this3.getOptionValue(option);\n        });\n        this.updateModel(event, value);\n      }\n    },\n    onFilterChange: function onFilterChange(event) {\n      this.$emit('filter', {\n        originalEvent: event,\n        value: event.target.value,\n        filterValue: this.visibleOptions\n      });\n      this.focusedOptionIndex = this.startRangeIndex = -1;\n    },\n    onFilterKeyDown: function onFilterKeyDown(event) {\n      switch (event.code) {\n        case 'ArrowDown':\n          this.onArrowDownKey(event);\n          break;\n        case 'ArrowUp':\n          this.onArrowUpKey(event);\n          break;\n        case 'ArrowLeft':\n        case 'ArrowRight':\n          this.onArrowLeftKey(event, true);\n          break;\n        case 'Home':\n          this.onHomeKey(event, true);\n          break;\n        case 'End':\n          this.onEndKey(event, true);\n          break;\n        case 'Enter':\n        case 'NumpadEnter':\n          this.onEnterKey(event);\n          break;\n        case 'ShiftLeft':\n        case 'ShiftRight':\n          this.onShiftKey(event);\n          break;\n      }\n    },\n    onArrowDownKey: function onArrowDownKey(event) {\n      var optionIndex = this.focusedOptionIndex !== -1 ? this.findNextOptionIndex(this.focusedOptionIndex) : this.findFirstFocusedOptionIndex();\n      if (this.multiple && event.shiftKey) {\n        this.onOptionSelectRange(event, this.startRangeIndex, optionIndex);\n      }\n      this.changeFocusedOptionIndex(event, optionIndex);\n      event.preventDefault();\n    },\n    onArrowUpKey: function onArrowUpKey(event) {\n      var optionIndex = this.focusedOptionIndex !== -1 ? this.findPrevOptionIndex(this.focusedOptionIndex) : this.findLastFocusedOptionIndex();\n      if (this.multiple && event.shiftKey) {\n        this.onOptionSelectRange(event, optionIndex, this.startRangeIndex);\n      }\n      this.changeFocusedOptionIndex(event, optionIndex);\n      event.preventDefault();\n    },\n    onArrowLeftKey: function onArrowLeftKey(event) {\n      var pressedInInputText = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      pressedInInputText && (this.focusedOptionIndex = -1);\n    },\n    onHomeKey: function onHomeKey(event) {\n      var pressedInInputText = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      if (pressedInInputText) {\n        var target = event.currentTarget;\n        if (event.shiftKey) {\n          target.setSelectionRange(0, event.target.selectionStart);\n        } else {\n          target.setSelectionRange(0, 0);\n          this.focusedOptionIndex = -1;\n        }\n      } else {\n        var metaKey = event.metaKey || event.ctrlKey;\n        var optionIndex = this.findFirstOptionIndex();\n        if (this.multiple && event.shiftKey && metaKey) {\n          this.onOptionSelectRange(event, optionIndex, this.startRangeIndex);\n        }\n        this.changeFocusedOptionIndex(event, optionIndex);\n      }\n      event.preventDefault();\n    },\n    onEndKey: function onEndKey(event) {\n      var pressedInInputText = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      if (pressedInInputText) {\n        var target = event.currentTarget;\n        if (event.shiftKey) {\n          target.setSelectionRange(event.target.selectionStart, target.value.length);\n        } else {\n          var len = target.value.length;\n          target.setSelectionRange(len, len);\n          this.focusedOptionIndex = -1;\n        }\n      } else {\n        var metaKey = event.metaKey || event.ctrlKey;\n        var optionIndex = this.findLastOptionIndex();\n        if (this.multiple && event.shiftKey && metaKey) {\n          this.onOptionSelectRange(event, this.startRangeIndex, optionIndex);\n        }\n        this.changeFocusedOptionIndex(event, optionIndex);\n      }\n      event.preventDefault();\n    },\n    onPageUpKey: function onPageUpKey(event) {\n      this.scrollInView(0);\n      event.preventDefault();\n    },\n    onPageDownKey: function onPageDownKey(event) {\n      this.scrollInView(this.visibleOptions.length - 1);\n      event.preventDefault();\n    },\n    onEnterKey: function onEnterKey(event) {\n      if (this.focusedOptionIndex !== -1) {\n        if (this.multiple && event.shiftKey) this.onOptionSelectRange(event, this.focusedOptionIndex);else this.onOptionSelect(event, this.visibleOptions[this.focusedOptionIndex]);\n      }\n    },\n    onSpaceKey: function onSpaceKey(event) {\n      event.preventDefault();\n      this.onEnterKey(event);\n    },\n    onShiftKey: function onShiftKey() {\n      this.startRangeIndex = this.focusedOptionIndex;\n    },\n    isOptionMatched: function isOptionMatched(option) {\n      var _this$getOptionLabel;\n      return this.isValidOption(option) && typeof this.getOptionLabel(option) === 'string' && ((_this$getOptionLabel = this.getOptionLabel(option)) === null || _this$getOptionLabel === void 0 ? void 0 : _this$getOptionLabel.toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale)));\n    },\n    isValidOption: function isValidOption(option) {\n      return isNotEmpty(option) && !(this.isOptionDisabled(option) || this.isOptionGroup(option));\n    },\n    isValidSelectedOption: function isValidSelectedOption(option) {\n      return this.isValidOption(option) && this.isSelected(option);\n    },\n    isEquals: function isEquals(value1, value2) {\n      return equals(value1, value2, this.equalityKey);\n    },\n    isSelected: function isSelected(option) {\n      var _this4 = this;\n      var optionValue = this.getOptionValue(option);\n      if (this.multiple) return (this.d_value || []).some(function (value) {\n        return _this4.isEquals(value, optionValue);\n      });else return this.isEquals(this.d_value, optionValue);\n    },\n    findFirstOptionIndex: function findFirstOptionIndex() {\n      var _this5 = this;\n      return this.visibleOptions.findIndex(function (option) {\n        return _this5.isValidOption(option);\n      });\n    },\n    findLastOptionIndex: function findLastOptionIndex() {\n      var _this6 = this;\n      return findLastIndex(this.visibleOptions, function (option) {\n        return _this6.isValidOption(option);\n      });\n    },\n    findNextOptionIndex: function findNextOptionIndex(index) {\n      var _this7 = this;\n      var matchedOptionIndex = index < this.visibleOptions.length - 1 ? this.visibleOptions.slice(index + 1).findIndex(function (option) {\n        return _this7.isValidOption(option);\n      }) : -1;\n      return matchedOptionIndex > -1 ? matchedOptionIndex + index + 1 : index;\n    },\n    findPrevOptionIndex: function findPrevOptionIndex(index) {\n      var _this8 = this;\n      var matchedOptionIndex = index > 0 ? findLastIndex(this.visibleOptions.slice(0, index), function (option) {\n        return _this8.isValidOption(option);\n      }) : -1;\n      return matchedOptionIndex > -1 ? matchedOptionIndex : index;\n    },\n    findSelectedOptionIndex: function findSelectedOptionIndex() {\n      var _this9 = this;\n      if (this.$filled) {\n        if (this.multiple) {\n          var _loop = function _loop() {\n              var value = _this9.d_value[index];\n              var matchedOptionIndex = _this9.visibleOptions.findIndex(function (option) {\n                return _this9.isValidSelectedOption(option) && _this9.isEquals(value, _this9.getOptionValue(option));\n              });\n              if (matchedOptionIndex > -1) return {\n                v: matchedOptionIndex\n              };\n            },\n            _ret;\n          for (var index = this.d_value.length - 1; index >= 0; index--) {\n            _ret = _loop();\n            if (_ret) return _ret.v;\n          }\n        } else {\n          return this.visibleOptions.findIndex(function (option) {\n            return _this9.isValidSelectedOption(option);\n          });\n        }\n      }\n      return -1;\n    },\n    findFirstSelectedOptionIndex: function findFirstSelectedOptionIndex() {\n      var _this0 = this;\n      return this.$filled ? this.visibleOptions.findIndex(function (option) {\n        return _this0.isValidSelectedOption(option);\n      }) : -1;\n    },\n    findLastSelectedOptionIndex: function findLastSelectedOptionIndex() {\n      var _this1 = this;\n      return this.$filled ? findLastIndex(this.visibleOptions, function (option) {\n        return _this1.isValidSelectedOption(option);\n      }) : -1;\n    },\n    findNextSelectedOptionIndex: function findNextSelectedOptionIndex(index) {\n      var _this10 = this;\n      var matchedOptionIndex = this.$filled && index < this.visibleOptions.length - 1 ? this.visibleOptions.slice(index + 1).findIndex(function (option) {\n        return _this10.isValidSelectedOption(option);\n      }) : -1;\n      return matchedOptionIndex > -1 ? matchedOptionIndex + index + 1 : -1;\n    },\n    findPrevSelectedOptionIndex: function findPrevSelectedOptionIndex(index) {\n      var _this11 = this;\n      var matchedOptionIndex = this.$filled && index > 0 ? findLastIndex(this.visibleOptions.slice(0, index), function (option) {\n        return _this11.isValidSelectedOption(option);\n      }) : -1;\n      return matchedOptionIndex > -1 ? matchedOptionIndex : -1;\n    },\n    findNearestSelectedOptionIndex: function findNearestSelectedOptionIndex(index) {\n      var firstCheckUp = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var matchedOptionIndex = -1;\n      if (this.$filled) {\n        if (firstCheckUp) {\n          matchedOptionIndex = this.findPrevSelectedOptionIndex(index);\n          matchedOptionIndex = matchedOptionIndex === -1 ? this.findNextSelectedOptionIndex(index) : matchedOptionIndex;\n        } else {\n          matchedOptionIndex = this.findNextSelectedOptionIndex(index);\n          matchedOptionIndex = matchedOptionIndex === -1 ? this.findPrevSelectedOptionIndex(index) : matchedOptionIndex;\n        }\n      }\n      return matchedOptionIndex > -1 ? matchedOptionIndex : index;\n    },\n    findFirstFocusedOptionIndex: function findFirstFocusedOptionIndex() {\n      var selectedIndex = this.findFirstSelectedOptionIndex();\n      return selectedIndex < 0 ? this.findFirstOptionIndex() : selectedIndex;\n    },\n    findLastFocusedOptionIndex: function findLastFocusedOptionIndex() {\n      var selectedIndex = this.findLastSelectedOptionIndex();\n      return selectedIndex < 0 ? this.findLastOptionIndex() : selectedIndex;\n    },\n    searchOptions: function searchOptions(event, _char) {\n      var _this12 = this;\n      this.searchValue = (this.searchValue || '') + _char;\n      var optionIndex = -1;\n      if (isNotEmpty(this.searchValue)) {\n        if (this.focusedOptionIndex !== -1) {\n          optionIndex = this.visibleOptions.slice(this.focusedOptionIndex).findIndex(function (option) {\n            return _this12.isOptionMatched(option);\n          });\n          optionIndex = optionIndex === -1 ? this.visibleOptions.slice(0, this.focusedOptionIndex).findIndex(function (option) {\n            return _this12.isOptionMatched(option);\n          }) : optionIndex + this.focusedOptionIndex;\n        } else {\n          optionIndex = this.visibleOptions.findIndex(function (option) {\n            return _this12.isOptionMatched(option);\n          });\n        }\n        if (optionIndex === -1 && this.focusedOptionIndex === -1) {\n          optionIndex = this.findFirstFocusedOptionIndex();\n        }\n        if (optionIndex !== -1) {\n          this.changeFocusedOptionIndex(event, optionIndex);\n        }\n      }\n      if (this.searchTimeout) {\n        clearTimeout(this.searchTimeout);\n      }\n      this.searchTimeout = setTimeout(function () {\n        _this12.searchValue = '';\n        _this12.searchTimeout = null;\n      }, 500);\n    },\n    removeOption: function removeOption(option) {\n      var _this13 = this;\n      return this.d_value.filter(function (val) {\n        return !equals(val, _this13.getOptionValue(option), _this13.equalityKey);\n      });\n    },\n    changeFocusedOptionIndex: function changeFocusedOptionIndex(event, index) {\n      if (this.focusedOptionIndex !== index) {\n        this.focusedOptionIndex = index;\n        this.scrollInView();\n        if (this.selectOnFocus && !this.multiple) {\n          this.onOptionSelect(event, this.visibleOptions[index]);\n        }\n      }\n    },\n    scrollInView: function scrollInView() {\n      var _this14 = this;\n      var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : -1;\n      this.$nextTick(function () {\n        var id = index !== -1 ? \"\".concat(_this14.$id, \"_\").concat(index) : _this14.focusedOptionId;\n        var element = findSingle(_this14.list, \"li[id=\\\"\".concat(id, \"\\\"]\"));\n        if (element) {\n          element.scrollIntoView && element.scrollIntoView({\n            block: 'nearest',\n            inline: 'nearest',\n            behavior: 'smooth'\n          });\n        } else if (!_this14.virtualScrollerDisabled) {\n          _this14.virtualScroller && _this14.virtualScroller.scrollToIndex(index !== -1 ? index : _this14.focusedOptionIndex);\n        }\n      });\n    },\n    autoUpdateModel: function autoUpdateModel() {\n      if (this.selectOnFocus && this.autoOptionFocus && !this.$filled && !this.multiple && this.focused) {\n        this.focusedOptionIndex = this.findFirstFocusedOptionIndex();\n        this.onOptionSelect(null, this.visibleOptions[this.focusedOptionIndex]);\n      }\n    },\n    updateModel: function updateModel(event, value) {\n      this.writeValue(value, event);\n      this.$emit('change', {\n        originalEvent: event,\n        value: value\n      });\n    },\n    listRef: function listRef(el, contentRef) {\n      this.list = el;\n      contentRef && contentRef(el); // For VirtualScroller\n    },\n    virtualScrollerRef: function virtualScrollerRef(el) {\n      this.virtualScroller = el;\n    }\n  },\n  computed: {\n    optionsListFlat: function optionsListFlat() {\n      return this.filterValue ? FilterService.filter(this.options, this.searchFields, this.filterValue, this.filterMatchMode, this.filterLocale) : this.options;\n    },\n    optionsListGroup: function optionsListGroup() {\n      var _this15 = this;\n      var filteredOptions = [];\n      (this.options || []).forEach(function (optionGroup) {\n        var optionGroupChildren = _this15.getOptionGroupChildren(optionGroup) || [];\n        var filteredChildren = _this15.filterValue ? FilterService.filter(optionGroupChildren, _this15.searchFields, _this15.filterValue, _this15.filterMatchMode, _this15.filterLocale) : optionGroupChildren;\n        if (filteredChildren !== null && filteredChildren !== void 0 && filteredChildren.length) {\n          filteredOptions.push.apply(filteredOptions, [{\n            optionGroup: optionGroup,\n            group: true\n          }].concat(_toConsumableArray(filteredChildren)));\n        }\n      });\n      return filteredOptions;\n    },\n    visibleOptions: function visibleOptions() {\n      return this.optionGroupLabel ? this.optionsListGroup : this.optionsListFlat;\n    },\n    // @deprecated use $filled instead\n    hasSelectedOption: function hasSelectedOption() {\n      return isNotEmpty(this.d_value);\n    },\n    equalityKey: function equalityKey() {\n      return this.optionValue ? null : this.dataKey;\n    },\n    searchFields: function searchFields() {\n      return this.filterFields || [this.optionLabel];\n    },\n    filterResultMessageText: function filterResultMessageText() {\n      return isNotEmpty(this.visibleOptions) ? this.filterMessageText.replaceAll('{0}', this.visibleOptions.length) : this.emptyFilterMessageText;\n    },\n    filterMessageText: function filterMessageText() {\n      return this.filterMessage || this.$primevue.config.locale.searchMessage || '';\n    },\n    emptyFilterMessageText: function emptyFilterMessageText() {\n      return this.emptyFilterMessage || this.$primevue.config.locale.emptySearchMessage || this.$primevue.config.locale.emptyFilterMessage || '';\n    },\n    emptyMessageText: function emptyMessageText() {\n      return this.emptyMessage || this.$primevue.config.locale.emptyMessage || '';\n    },\n    selectionMessageText: function selectionMessageText() {\n      return this.selectionMessage || this.$primevue.config.locale.selectionMessage || '';\n    },\n    emptySelectionMessageText: function emptySelectionMessageText() {\n      return this.emptySelectionMessage || this.$primevue.config.locale.emptySelectionMessage || '';\n    },\n    selectedMessageText: function selectedMessageText() {\n      return this.$filled ? this.selectionMessageText.replaceAll('{0}', this.multiple ? this.d_value.length : '1') : this.emptySelectionMessageText;\n    },\n    focusedOptionId: function focusedOptionId() {\n      return this.focusedOptionIndex !== -1 ? \"\".concat(this.$id, \"_\").concat(this.focusedOptionIndex) : null;\n    },\n    ariaSetSize: function ariaSetSize() {\n      var _this16 = this;\n      return this.visibleOptions.filter(function (option) {\n        return !_this16.isOptionGroup(option);\n      }).length;\n    },\n    virtualScrollerDisabled: function virtualScrollerDisabled() {\n      return !this.virtualScrollerOptions;\n    },\n    containerDataP: function containerDataP() {\n      return cn({\n        invalid: this.$invalid,\n        disabled: this.disabled\n      });\n    }\n  },\n  directives: {\n    ripple: Ripple\n  },\n  components: {\n    InputText: InputText,\n    VirtualScroller: VirtualScroller,\n    InputIcon: InputIcon,\n    IconField: IconField,\n    SearchIcon: SearchIcon,\n    CheckIcon: CheckIcon,\n    BlankIcon: BlankIcon\n  }\n};\n\nvar _hoisted_1 = [\"id\", \"data-p\"];\nvar _hoisted_2 = [\"tabindex\"];\nvar _hoisted_3 = [\"id\", \"aria-multiselectable\", \"aria-label\", \"aria-labelledby\", \"aria-activedescendant\", \"aria-disabled\"];\nvar _hoisted_4 = [\"id\"];\nvar _hoisted_5 = [\"id\", \"aria-label\", \"aria-selected\", \"aria-disabled\", \"aria-setsize\", \"aria-posinset\", \"onClick\", \"onMousedown\", \"onMousemove\", \"onDblclick\", \"data-p-selected\", \"data-p-focused\", \"data-p-disabled\"];\nvar _hoisted_6 = [\"tabindex\"];\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_InputText = resolveComponent(\"InputText\");\n  var _component_SearchIcon = resolveComponent(\"SearchIcon\");\n  var _component_InputIcon = resolveComponent(\"InputIcon\");\n  var _component_IconField = resolveComponent(\"IconField\");\n  var _component_CheckIcon = resolveComponent(\"CheckIcon\");\n  var _component_BlankIcon = resolveComponent(\"BlankIcon\");\n  var _component_VirtualScroller = resolveComponent(\"VirtualScroller\");\n  var _directive_ripple = resolveDirective(\"ripple\");\n  return openBlock(), createElementBlock(\"div\", mergeProps({\n    id: _ctx.$id,\n    \"class\": _ctx.cx('root'),\n    onFocusout: _cache[7] || (_cache[7] = function () {\n      return $options.onFocusout && $options.onFocusout.apply($options, arguments);\n    }),\n    \"data-p\": $options.containerDataP\n  }, _ctx.ptmi('root')), [createElementVNode(\"span\", mergeProps({\n    ref: \"firstHiddenFocusableElement\",\n    role: \"presentation\",\n    \"aria-hidden\": \"true\",\n    \"class\": \"p-hidden-accessible p-hidden-focusable\",\n    tabindex: !_ctx.disabled ? _ctx.tabindex : -1,\n    onFocus: _cache[0] || (_cache[0] = function () {\n      return $options.onFirstHiddenFocus && $options.onFirstHiddenFocus.apply($options, arguments);\n    })\n  }, _ctx.ptm('hiddenFirstFocusableEl'), {\n    \"data-p-hidden-accessible\": true,\n    \"data-p-hidden-focusable\": true\n  }), null, 16, _hoisted_2), _ctx.$slots.header ? (openBlock(), createElementBlock(\"div\", mergeProps({\n    key: 0,\n    \"class\": _ctx.cx('header')\n  }, _ctx.ptm('header')), [renderSlot(_ctx.$slots, \"header\", {\n    value: _ctx.d_value,\n    options: $options.visibleOptions\n  })], 16)) : createCommentVNode(\"\", true), _ctx.filter ? (openBlock(), createElementBlock(\"div\", mergeProps({\n    key: 1,\n    \"class\": _ctx.cx('header')\n  }, _ctx.ptm('header')), [createVNode(_component_IconField, {\n    unstyled: _ctx.unstyled,\n    pt: _ctx.ptm('pcFilterContainer')\n  }, {\n    \"default\": withCtx(function () {\n      return [createVNode(_component_InputText, {\n        modelValue: $data.filterValue,\n        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = function ($event) {\n          return $data.filterValue = $event;\n        }),\n        type: \"text\",\n        \"class\": normalizeClass(_ctx.cx('pcFilter')),\n        placeholder: _ctx.filterPlaceholder,\n        role: \"searchbox\",\n        autocomplete: \"off\",\n        disabled: _ctx.disabled,\n        unstyled: _ctx.unstyled,\n        \"aria-owns\": _ctx.$id + '_list',\n        \"aria-activedescendant\": $options.focusedOptionId,\n        tabindex: !_ctx.disabled && !$data.focused ? _ctx.tabindex : -1,\n        onInput: $options.onFilterChange,\n        onKeydown: $options.onFilterKeyDown,\n        pt: _ctx.ptm('pcFilter')\n      }, null, 8, [\"modelValue\", \"class\", \"placeholder\", \"disabled\", \"unstyled\", \"aria-owns\", \"aria-activedescendant\", \"tabindex\", \"onInput\", \"onKeydown\", \"pt\"]), createVNode(_component_InputIcon, {\n        unstyled: _ctx.unstyled,\n        pt: _ctx.ptm('pcFilterIconContainer')\n      }, {\n        \"default\": withCtx(function () {\n          return [renderSlot(_ctx.$slots, \"filtericon\", {}, function () {\n            return [_ctx.filterIcon ? (openBlock(), createElementBlock(\"span\", mergeProps({\n              key: 0,\n              \"class\": _ctx.filterIcon\n            }, _ctx.ptm('filterIcon')), null, 16)) : (openBlock(), createBlock(_component_SearchIcon, normalizeProps(mergeProps({\n              key: 1\n            }, _ctx.ptm('filterIcon'))), null, 16))];\n          })];\n        }),\n        _: 3\n      }, 8, [\"unstyled\", \"pt\"])];\n    }),\n    _: 3\n  }, 8, [\"unstyled\", \"pt\"]), createElementVNode(\"span\", mergeProps({\n    role: \"status\",\n    \"aria-live\": \"polite\",\n    \"class\": \"p-hidden-accessible\"\n  }, _ctx.ptm('hiddenFilterResult'), {\n    \"data-p-hidden-accessible\": true\n  }), toDisplayString($options.filterResultMessageText), 17)], 16)) : createCommentVNode(\"\", true), createElementVNode(\"div\", mergeProps({\n    \"class\": _ctx.cx('listContainer'),\n    style: [{\n      'max-height': $options.virtualScrollerDisabled ? _ctx.scrollHeight : ''\n    }, _ctx.listStyle]\n  }, _ctx.ptm('listContainer')), [createVNode(_component_VirtualScroller, mergeProps({\n    ref: $options.virtualScrollerRef\n  }, _ctx.virtualScrollerOptions, {\n    items: $options.visibleOptions,\n    style: [{\n      height: _ctx.scrollHeight\n    }, _ctx.listStyle],\n    tabindex: -1,\n    disabled: $options.virtualScrollerDisabled,\n    pt: _ctx.ptm('virtualScroller')\n  }), createSlots({\n    content: withCtx(function (_ref) {\n      var styleClass = _ref.styleClass,\n        contentRef = _ref.contentRef,\n        items = _ref.items,\n        getItemOptions = _ref.getItemOptions,\n        contentStyle = _ref.contentStyle,\n        itemSize = _ref.itemSize;\n      return [createElementVNode(\"ul\", mergeProps({\n        ref: function ref(el) {\n          return $options.listRef(el, contentRef);\n        },\n        id: _ctx.$id + '_list',\n        \"class\": [_ctx.cx('list'), styleClass],\n        style: contentStyle,\n        tabindex: -1,\n        role: \"listbox\",\n        \"aria-multiselectable\": _ctx.multiple,\n        \"aria-label\": _ctx.ariaLabel,\n        \"aria-labelledby\": _ctx.ariaLabelledby,\n        \"aria-activedescendant\": $data.focused ? $options.focusedOptionId : undefined,\n        \"aria-disabled\": _ctx.disabled,\n        onFocus: _cache[3] || (_cache[3] = function () {\n          return $options.onListFocus && $options.onListFocus.apply($options, arguments);\n        }),\n        onBlur: _cache[4] || (_cache[4] = function () {\n          return $options.onListBlur && $options.onListBlur.apply($options, arguments);\n        }),\n        onKeydown: _cache[5] || (_cache[5] = function () {\n          return $options.onListKeyDown && $options.onListKeyDown.apply($options, arguments);\n        })\n      }, _ctx.ptm('list')), [(openBlock(true), createElementBlock(Fragment, null, renderList(items, function (option, i) {\n        return openBlock(), createElementBlock(Fragment, {\n          key: $options.getOptionRenderKey(option, $options.getOptionIndex(i, getItemOptions))\n        }, [$options.isOptionGroup(option) ? (openBlock(), createElementBlock(\"li\", mergeProps({\n          key: 0,\n          id: _ctx.$id + '_' + $options.getOptionIndex(i, getItemOptions),\n          style: {\n            height: itemSize ? itemSize + 'px' : undefined\n          },\n          \"class\": _ctx.cx('optionGroup'),\n          role: \"option\"\n        }, {\n          ref_for: true\n        }, _ctx.ptm('optionGroup')), [renderSlot(_ctx.$slots, \"optiongroup\", {\n          option: option.optionGroup,\n          index: $options.getOptionIndex(i, getItemOptions)\n        }, function () {\n          return [createTextVNode(toDisplayString($options.getOptionGroupLabel(option.optionGroup)), 1)];\n        })], 16, _hoisted_4)) : withDirectives((openBlock(), createElementBlock(\"li\", mergeProps({\n          key: 1,\n          id: _ctx.$id + '_' + $options.getOptionIndex(i, getItemOptions),\n          style: {\n            height: itemSize ? itemSize + 'px' : undefined\n          },\n          \"class\": _ctx.cx('option', {\n            option: option,\n            index: i,\n            getItemOptions: getItemOptions\n          }),\n          role: \"option\",\n          \"aria-label\": $options.getOptionLabel(option),\n          \"aria-selected\": $options.isSelected(option),\n          \"aria-disabled\": $options.isOptionDisabled(option),\n          \"aria-setsize\": $options.ariaSetSize,\n          \"aria-posinset\": $options.getAriaPosInset($options.getOptionIndex(i, getItemOptions)),\n          onClick: function onClick($event) {\n            return $options.onOptionSelect($event, option, $options.getOptionIndex(i, getItemOptions));\n          },\n          onMousedown: function onMousedown($event) {\n            return $options.onOptionMouseDown($event, $options.getOptionIndex(i, getItemOptions));\n          },\n          onMousemove: function onMousemove($event) {\n            return $options.onOptionMouseMove($event, $options.getOptionIndex(i, getItemOptions));\n          },\n          onTouchend: _cache[2] || (_cache[2] = function ($event) {\n            return $options.onOptionTouchEnd();\n          }),\n          onDblclick: function onDblclick($event) {\n            return $options.onOptionDblClick($event, option);\n          }\n        }, {\n          ref_for: true\n        }, $options.getPTOptions(option, getItemOptions, i, 'option'), {\n          \"data-p-selected\": !_ctx.checkmark && $options.isSelected(option),\n          \"data-p-focused\": $data.focusedOptionIndex === $options.getOptionIndex(i, getItemOptions),\n          \"data-p-disabled\": $options.isOptionDisabled(option)\n        }), [_ctx.checkmark ? (openBlock(), createElementBlock(Fragment, {\n          key: 0\n        }, [$options.isSelected(option) ? (openBlock(), createBlock(_component_CheckIcon, mergeProps({\n          key: 0,\n          \"class\": _ctx.cx('optionCheckIcon')\n        }, {\n          ref_for: true\n        }, _ctx.ptm('optionCheckIcon')), null, 16, [\"class\"])) : (openBlock(), createBlock(_component_BlankIcon, mergeProps({\n          key: 1,\n          \"class\": _ctx.cx('optionBlankIcon')\n        }, {\n          ref_for: true\n        }, _ctx.ptm('optionBlankIcon')), null, 16, [\"class\"]))], 64)) : createCommentVNode(\"\", true), renderSlot(_ctx.$slots, \"option\", {\n          option: option,\n          selected: $options.isSelected(option),\n          index: $options.getOptionIndex(i, getItemOptions)\n        }, function () {\n          return [createTextVNode(toDisplayString($options.getOptionLabel(option)), 1)];\n        })], 16, _hoisted_5)), [[_directive_ripple]])], 64);\n      }), 128)), $data.filterValue && (!items || items && items.length === 0) ? (openBlock(), createElementBlock(\"li\", mergeProps({\n        key: 0,\n        \"class\": _ctx.cx('emptyMessage'),\n        role: \"option\"\n      }, _ctx.ptm('emptyMessage')), [renderSlot(_ctx.$slots, \"emptyfilter\", {}, function () {\n        return [createTextVNode(toDisplayString($options.emptyFilterMessageText), 1)];\n      })], 16)) : !_ctx.options || _ctx.options && _ctx.options.length === 0 ? (openBlock(), createElementBlock(\"li\", mergeProps({\n        key: 1,\n        \"class\": _ctx.cx('emptyMessage'),\n        role: \"option\"\n      }, _ctx.ptm('emptyMessage')), [renderSlot(_ctx.$slots, \"empty\", {}, function () {\n        return [createTextVNode(toDisplayString($options.emptyMessageText), 1)];\n      })], 16)) : createCommentVNode(\"\", true)], 16, _hoisted_3)];\n    }),\n    _: 2\n  }, [_ctx.$slots.loader ? {\n    name: \"loader\",\n    fn: withCtx(function (_ref2) {\n      var options = _ref2.options;\n      return [renderSlot(_ctx.$slots, \"loader\", {\n        options: options\n      })];\n    }),\n    key: \"0\"\n  } : undefined]), 1040, [\"items\", \"style\", \"disabled\", \"pt\"])], 16), renderSlot(_ctx.$slots, \"footer\", {\n    value: _ctx.d_value,\n    options: $options.visibleOptions\n  }), !_ctx.options || _ctx.options && _ctx.options.length === 0 ? (openBlock(), createElementBlock(\"span\", mergeProps({\n    key: 2,\n    role: \"status\",\n    \"aria-live\": \"polite\",\n    \"class\": \"p-hidden-accessible\"\n  }, _ctx.ptm('hiddenEmptyMessage'), {\n    \"data-p-hidden-accessible\": true\n  }), toDisplayString($options.emptyMessageText), 17)) : createCommentVNode(\"\", true), createElementVNode(\"span\", mergeProps({\n    role: \"status\",\n    \"aria-live\": \"polite\",\n    \"class\": \"p-hidden-accessible\"\n  }, _ctx.ptm('hiddenSelectedMessage'), {\n    \"data-p-hidden-accessible\": true\n  }), toDisplayString($options.selectedMessageText), 17), createElementVNode(\"span\", mergeProps({\n    ref: \"lastHiddenFocusableElement\",\n    role: \"presentation\",\n    \"aria-hidden\": \"true\",\n    \"class\": \"p-hidden-accessible p-hidden-focusable\",\n    tabindex: !_ctx.disabled ? _ctx.tabindex : -1,\n    onFocus: _cache[6] || (_cache[6] = function () {\n      return $options.onLastHiddenFocus && $options.onLastHiddenFocus.apply($options, arguments);\n    })\n  }, _ctx.ptm('hiddenLastFocusableEl'), {\n    \"data-p-hidden-accessible\": true,\n    \"data-p-hidden-focusable\": true\n  }), null, 16, _hoisted_6)], 16, _hoisted_1);\n}\n\nscript.render = render;\n\nexport { script as default };\n//# sourceMappingURL=index.mjs.map\n","'use strict';\n\nvar isMergeableObject = function isMergeableObject(value) {\n\treturn isNonNullObject(value)\n\t\t&& !isSpecial(value)\n};\n\nfunction isNonNullObject(value) {\n\treturn !!value && typeof value === 'object'\n}\n\nfunction isSpecial(value) {\n\tvar stringValue = Object.prototype.toString.call(value);\n\n\treturn stringValue === '[object RegExp]'\n\t\t|| stringValue === '[object Date]'\n\t\t|| isReactElement(value)\n}\n\n// see https://github.com/facebook/react/blob/b5ac963fb791d1298e7f396236383bc955f916c1/src/isomorphic/classic/element/ReactElement.js#L21-L25\nvar canUseSymbol = typeof Symbol === 'function' && Symbol.for;\nvar REACT_ELEMENT_TYPE = canUseSymbol ? Symbol.for('react.element') : 0xeac7;\n\nfunction isReactElement(value) {\n\treturn value.$$typeof === REACT_ELEMENT_TYPE\n}\n\nfunction emptyTarget(val) {\n\treturn Array.isArray(val) ? [] : {}\n}\n\nfunction cloneUnlessOtherwiseSpecified(value, options) {\n\treturn (options.clone !== false && options.isMergeableObject(value))\n\t\t? deepmerge(emptyTarget(value), value, options)\n\t\t: value\n}\n\nfunction defaultArrayMerge(target, source, options) {\n\treturn target.concat(source).map(function(element) {\n\t\treturn cloneUnlessOtherwiseSpecified(element, options)\n\t})\n}\n\nfunction getMergeFunction(key, options) {\n\tif (!options.customMerge) {\n\t\treturn deepmerge\n\t}\n\tvar customMerge = options.customMerge(key);\n\treturn typeof customMerge === 'function' ? customMerge : deepmerge\n}\n\nfunction getEnumerableOwnPropertySymbols(target) {\n\treturn Object.getOwnPropertySymbols\n\t\t? Object.getOwnPropertySymbols(target).filter(function(symbol) {\n\t\t\treturn Object.propertyIsEnumerable.call(target, symbol)\n\t\t})\n\t\t: []\n}\n\nfunction getKeys(target) {\n\treturn Object.keys(target).concat(getEnumerableOwnPropertySymbols(target))\n}\n\nfunction propertyIsOnObject(object, property) {\n\ttry {\n\t\treturn property in object\n\t} catch(_) {\n\t\treturn false\n\t}\n}\n\n// Protects from prototype poisoning and unexpected merging up the prototype chain.\nfunction propertyIsUnsafe(target, key) {\n\treturn propertyIsOnObject(target, key) // Properties are safe to merge if they don't exist in the target yet,\n\t\t&& !(Object.hasOwnProperty.call(target, key) // unsafe if they exist up the prototype chain,\n\t\t\t&& Object.propertyIsEnumerable.call(target, key)) // and also unsafe if they're nonenumerable.\n}\n\nfunction mergeObject(target, source, options) {\n\tvar destination = {};\n\tif (options.isMergeableObject(target)) {\n\t\tgetKeys(target).forEach(function(key) {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(target[key], options);\n\t\t});\n\t}\n\tgetKeys(source).forEach(function(key) {\n\t\tif (propertyIsUnsafe(target, key)) {\n\t\t\treturn\n\t\t}\n\n\t\tif (propertyIsOnObject(target, key) && options.isMergeableObject(source[key])) {\n\t\t\tdestination[key] = getMergeFunction(key, options)(target[key], source[key], options);\n\t\t} else {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(source[key], options);\n\t\t}\n\t});\n\treturn destination\n}\n\nfunction deepmerge(target, source, options) {\n\toptions = options || {};\n\toptions.arrayMerge = options.arrayMerge || defaultArrayMerge;\n\toptions.isMergeableObject = options.isMergeableObject || isMergeableObject;\n\t// cloneUnlessOtherwiseSpecified is added to `options` so that custom arrayMerge()\n\t// implementations can use it. The caller may not replace it.\n\toptions.cloneUnlessOtherwiseSpecified = cloneUnlessOtherwiseSpecified;\n\n\tvar sourceIsArray = Array.isArray(source);\n\tvar targetIsArray = Array.isArray(target);\n\tvar sourceAndTargetTypesMatch = sourceIsArray === targetIsArray;\n\n\tif (!sourceAndTargetTypesMatch) {\n\t\treturn cloneUnlessOtherwiseSpecified(source, options)\n\t} else if (sourceIsArray) {\n\t\treturn options.arrayMerge(target, source, options)\n\t} else {\n\t\treturn mergeObject(target, source, options)\n\t}\n}\n\ndeepmerge.all = function deepmergeAll(array, options) {\n\tif (!Array.isArray(array)) {\n\t\tthrow new Error('first argument should be an array')\n\t}\n\n\treturn array.reduce(function(prev, next) {\n\t\treturn deepmerge(prev, next, options)\n\t}, {})\n};\n\nvar deepmerge_1 = deepmerge;\n\nmodule.exports = deepmerge_1;\n","import type { IndicatorConfig, PlotConfig, PlotConfigTemplate } from '@/types';\n\nconst plotTemplates = ref<PlotConfigTemplate>({\n  BollingerBands: {\n    main_plot: {\n      bb_upperband: {\n        color: '#008af4',\n        type: 'line',\n        fill_to: 'bb_lowerband',\n      },\n      bb_lowerband: {\n        color: '#008af4',\n        type: 'line',\n      },\n    },\n  },\n  RSI: {\n    subplots: {\n      RSI: {\n        rsi: {\n          color: '#ff8000',\n          type: 'line',\n        },\n      },\n    },\n  },\n  MACD: {\n    subplots: {\n      MACD: {\n        macdsignal: {\n          color: '#ff8000',\n          type: 'line',\n        },\n        macd: {\n          color: '#1370f4',\n          type: 'line',\n        },\n      },\n    },\n  },\n});\n\nfunction replaceTemplateColumns(template: Partial<PlotConfig>, nameMap: Record<string, string>) {\n  // Replace the keys of all elements in main_plot\n  const newTemplate = deepClone(template);\n  if (!nameMap) {\n    return newTemplate;\n  }\n  const newMainPlot: Record<string, IndicatorConfig> = {};\n  for (const key in template.main_plot) {\n    const newKey = nameMap[key] || key;\n    // TODO: typecheck / don't force the type\n    newMainPlot[newKey] = template.main_plot[key]!;\n    if (newMainPlot[newKey].fill_to !== undefined) {\n      newMainPlot[newKey].fill_to =\n        nameMap[newMainPlot[newKey].fill_to] || newMainPlot[newKey].fill_to;\n    }\n  }\n  if ('main_plot' in template) {\n    newTemplate.main_plot = newMainPlot;\n  }\n\n  // Replace the keys of all elements in subplots\n  const newSubplots: Record<string, Record<string, IndicatorConfig>> = {};\n  for (const subplotKey in template.subplots) {\n    const newSubplot: Record<string, IndicatorConfig> = {};\n    for (const key in template.subplots[subplotKey]) {\n      const newKey = nameMap[key] || key;\n      // TODO: typecheck / don't force the type\n      newSubplot[newKey] = template.subplots[subplotKey][key]!;\n      if (newSubplot[newKey].fill_to !== undefined) {\n        newSubplot[newKey].fill_to =\n          nameMap[newSubplot[newKey].fill_to] || newSubplot[newKey].fill_to;\n      }\n    }\n    newSubplots[subplotKey] = newSubplot;\n  }\n  if ('subplots' in template) {\n    newTemplate.subplots = newSubplots;\n  }\n  return newTemplate;\n}\n\nexport function usePlotTemplates() {\n  function getTemplateContent(templateName: string) {\n    return plotTemplates.value[templateName] || {};\n  }\n\n  function applyPlotTemplate(\n    templateName: string,\n    currentConfig: PlotConfig,\n    nameMap: Record<string, string> = {},\n  ) {\n    const template = getTemplateContent(templateName);\n    if (!template) {\n      return currentConfig;\n    }\n    const newTemplate = replaceTemplateColumns(template, nameMap);\n    return deepMerge(currentConfig, newTemplate);\n  }\n\n  return {\n    plotTemplates,\n    applyPlotTemplate,\n    getTemplateContent,\n    replaceTemplateColumns,\n    plotTemplateNames: computed(() => Object.keys(plotTemplates.value)),\n  };\n}\n","<script setup lang=\"ts\">\nconst visible = defineModel<boolean>('visible');\ndefineProps<{\n  columns: string[];\n}>();\n\nconst { plotTemplateNames, applyPlotTemplate, getTemplateContent } = usePlotTemplates();\nconst plotStore = usePlotConfigStore();\n\nfunction fromTemplateApply() {\n  if (selTemplateName.value) {\n    plotStore.editablePlotConfig = {\n      ...applyPlotTemplate(selTemplateName.value, plotStore.editablePlotConfig, indicatorMap.value),\n    };\n    visible.value = false;\n  }\n}\n\nfunction clickStartUseTemplate() {\n  showIndicatorMapping.value = !showIndicatorMapping.value;\n\n  indicatorMap.value = plotConfigColumns(getTemplateContent(selTemplateName.value)).reduce(\n    (acc, indicator) => {\n      acc[indicator] = indicator;\n      return acc;\n    },\n    {},\n  );\n}\n\nconst selTemplateName = ref<string>('');\nwatch(\n  () => visible.value,\n  (v) => {\n    if (v) {\n      selTemplateName.value = '';\n      showIndicatorMapping.value = false;\n    }\n  },\n);\n\nconst indicatorMap = ref<Record<string, string>>({});\nconst showIndicatorMapping = ref(false);\n</script>\n\n<template>\n  <div v-if=\"visible\" class=\"pt-1\">\n    <div v-if=\"!showIndicatorMapping\" class=\"w-full\">\n      <label for=\"selectTemplate\">Select Template</label>\n      <ListBox\n        id=\"selectTemplate\"\n        v-model=\"selTemplateName\"\n        :options=\"plotTemplateNames\"\n        :select-size=\"4\"\n      >\n      </ListBox>\n    </div>\n    <div v-else>\n      <h5 class=\"mt-1 text-center text-md mb-1\">Re-map indicators</h5>\n      <div\n        v-for=\"indicator in Object.keys(indicatorMap)\"\n        :key=\"indicator\"\n        class=\"flex gap-2 align-center\"\n      >\n        <label :for=\"`indicator-${indicator}`\" class=\"grow w-full\">{{ indicator }}</label>\n        <Select\n          :id=\"`indicator-${indicator}`\"\n          v-model=\"indicatorMap[indicator]\"\n          class=\"grow w-full\"\n          size=\"small\"\n          :options=\"columns\"\n        >\n        </Select>\n      </div>\n    </div>\n    <div class=\"mt-2 flex gap-1 justify-end\">\n      <Button size=\"small\" title=\"Abort\" severity=\"secondary\" @click=\"visible = false\">\n        <i-mdi-close />\n      </Button>\n      <Button\n        v-if=\"!showIndicatorMapping\"\n        :disabled=\"!selTemplateName\"\n        size=\"small\"\n        style=\"width: 33%\"\n        title=\"Use template\"\n        label=\" Use Template\"\n        severity=\"primary\"\n        @click=\"clickStartUseTemplate\"\n      >\n        <template #icon>\n          <i-mdi-check class=\"me-1\" />\n        </template>\n      </Button>\n      <Button\n        v-if=\"showIndicatorMapping\"\n        :disabled=\"!selTemplateName\"\n        size=\"small\"\n        style=\"width: 33%\"\n        title=\"Apply template\"\n        severity=\"primary\"\n        @click=\"fromTemplateApply\"\n      >\n        <template #icon>\n          <i-mdi-check class=\"me-1\" />\n        </template>\n        Apply Template\n      </Button>\n    </div>\n  </div>\n</template>\n","<script setup lang=\"ts\">\nwithDefaults(\n  defineProps<{\n    allowEdit?: boolean;\n    editableName?: string;\n  }>(),\n  {\n    allowEdit: false,\n    editableName: 'plot configuration',\n  },\n);\nconst plotStore = usePlotConfigStore();\n</script>\n\n<template>\n  <EditValue\n    v-model=\"plotStore.plotConfigName\"\n    :allow-edit=\"allowEdit\"\n    :allow-add=\"allowEdit\"\n    :allow-duplicate=\"allowEdit\"\n    editable-name=\"plot configuration\"\n    @rename=\"plotStore.renamePlotConfig\"\n    @delete=\"plotStore.deletePlotConfig\"\n    @new=\"plotStore.newPlotConfig\"\n    @duplicate=\"plotStore.duplicatePlotConfig\"\n  >\n    <Select\n      id=\"plotConfigSelect\"\n      v-model=\"plotStore.plotConfigName\"\n      :options=\"plotStore.availablePlotConfigNames\"\n      class=\"w-full text-left\"\n      size=\"small\"\n      @update:model-value=\"plotStore.plotConfigChanged\"\n    >\n    </Select>\n  </EditValue>\n</template>\n","<script setup lang=\"ts\">\nimport type { IndicatorConfig, PlotConfig } from '@/types';\n\nconst props = withDefaults(\n  defineProps<{\n    columns: string[];\n    isVisible?: boolean;\n  }>(),\n  {\n    isVisible: false,\n  },\n);\n\nconst plotStore = usePlotConfigStore();\nconst botStore = useBotStore();\n\nconst plotConfigNameLoc = ref('default');\nconst selIndicatorName = ref('');\nconst addNewIndicator = ref(false);\nconst showConfig = ref(false);\nconst selSubPlot = ref('main_plot');\nconst tempPlotConfig = ref<PlotConfig>();\nconst tempPlotConfigValid = ref(true);\n\nconst isMainPlot = computed(() => {\n  return selSubPlot.value === 'main_plot';\n});\n\nconst currentPlotConfig = computed(() => {\n  if (isMainPlot.value) {\n    return plotStore.editablePlotConfig.main_plot;\n  }\n\n  return plotStore.editablePlotConfig.subplots[selSubPlot.value];\n});\nconst subplots = computed((): string[] => {\n  // Subplot keys (for selection window)\n  return ['main_plot', ...Object.keys(plotStore.editablePlotConfig.subplots)];\n});\nconst usedColumns = computed((): { text: string; value: string }[] => {\n  let usedCols: string[] = [];\n  if (isMainPlot.value) {\n    usedCols = Object.keys(plotStore.editablePlotConfig.main_plot);\n  }\n  const selSubPlot_ = plotStore.editablePlotConfig.subplots[selSubPlot.value];\n  if (selSubPlot_) {\n    usedCols = Object.keys(selSubPlot_);\n  }\n  return usedCols.map((col) => ({\n    value: col,\n    text: !props.columns.includes(col) ? `${col} <-- not available in this chart` : col,\n  }));\n});\n\nfunction addIndicator(newIndicator: Record<string, IndicatorConfig>) {\n  console.log('Adding indicator', newIndicator);\n  // const { plotConfig.value } = this;\n  const name = Object.keys(newIndicator)[0];\n  if (!name) return;\n\n  const indicator = newIndicator[name];\n  if (isMainPlot.value) {\n    // console.log(`Adding ${name} to MainPlot`);\n    plotStore.editablePlotConfig.main_plot[name] = { ...indicator };\n  } else {\n    // console.log(`Adding ${name} to ${selSubPlot.value}`);\n    plotStore.editablePlotConfig.subplots[selSubPlot.value]![name] = { ...indicator };\n  }\n\n  plotStore.editablePlotConfig = { ...plotStore.editablePlotConfig };\n  // Reset random color\n  addNewIndicator.value = false;\n}\n\nconst selIndicator = computed<Record<string, IndicatorConfig>>({\n  get() {\n    if (addNewIndicator.value) {\n      return {};\n    }\n    if (selIndicatorName.value) {\n      const currentIndicator = currentPlotConfig.value?.[selIndicatorName.value];\n      if (currentIndicator) {\n        return {\n          [selIndicatorName.value]: currentIndicator,\n        };\n      }\n    }\n    return {};\n  },\n  set(newValue: Record<string, IndicatorConfig>) {\n    const name = Object.keys(newValue)[0];\n    // this.currentPlotConfig[this.selIndicatorName] = { ...newValue[name] };\n    // this.emitPlotConfig();\n    if (name && newValue) {\n      addIndicator(newValue);\n    } else {\n      addNewIndicator.value = false;\n    }\n  },\n});\n\nconst plotConfigJson = computed({\n  get() {\n    return JSON.stringify(plotStore.editablePlotConfig, null, 2);\n  },\n  set(newValue: string) {\n    try {\n      tempPlotConfig.value = JSON.parse(newValue);\n      // TODO: Should Validate schema validity (should be PlotConfig type...)\n      tempPlotConfigValid.value = true;\n    } catch (err) {\n      tempPlotConfigValid.value = false;\n    }\n  },\n});\n\nfunction removeIndicator() {\n  if (isMainPlot.value) {\n    console.log(`Removing ${selIndicatorName.value} from MainPlot`);\n    delete plotStore.editablePlotConfig.main_plot[selIndicatorName.value];\n  } else {\n    console.log(`Removing ${selIndicatorName.value} from ${selSubPlot.value}`);\n    delete plotStore.editablePlotConfig.subplots[selSubPlot.value]?.[selIndicatorName.value];\n  }\n\n  plotStore.editablePlotConfig = { ...plotStore.editablePlotConfig };\n  selIndicatorName.value = '';\n}\n\nfunction clickAddNewIndicator() {\n  addNewIndicator.value = !addNewIndicator.value;\n  selIndicatorName.value = '';\n}\n\nfunction addSubplot(newSubplotName: string) {\n  plotStore.editablePlotConfig.subplots = {\n    ...plotStore.editablePlotConfig.subplots,\n    [newSubplotName]: {},\n  };\n  selSubPlot.value = newSubplotName;\n}\n\nfunction deleteSubplot(subplotName: string) {\n  delete plotStore.editablePlotConfig.subplots[subplotName];\n  // Reassign to trigger reactivity\n  plotStore.editablePlotConfig = { ...plotStore.editablePlotConfig };\n  selSubPlot.value = subplots.value[subplots.value.length - 1] ?? 'main_plot';\n}\n\nfunction renameSubplot(oldName: string, newName: string) {\n  const oldSubPlot = plotStore.editablePlotConfig.subplots[oldName];\n  if (oldSubPlot) {\n    plotStore.editablePlotConfig.subplots[newName] = oldSubPlot;\n  }\n  selSubPlot.value = newName;\n  delete plotStore.editablePlotConfig.subplots[oldName];\n}\n\nfunction loadPlotConfig() {\n  // Reset from store\n  const existingConf = plotStore.customPlotConfigs[plotStore.plotConfigName];\n  if (existingConf) {\n    plotStore.editablePlotConfig = deepClone(existingConf);\n  }\n}\n\nfunction loadConfigFromString() {\n  if (tempPlotConfig.value !== undefined && tempPlotConfigValid.value) {\n    plotStore.editablePlotConfig = tempPlotConfig.value;\n  }\n}\n\n// function clearConfig() {\n//   // Use empty config\n//   plotStore.editablePlotConfig = { ...EMPTY_PLOTCONFIG };\n// }\n\nasync function loadPlotConfigFromStrategy() {\n  if (botStore.activeBot.isWebserverMode && !botStore.activeBot.strategy.strategy) {\n    showAlert(`No strategy selected, can't load plot config.`);\n    return;\n  }\n  try {\n    const strategyPlotConfig = await botStore.activeBot.getStrategyPlotConfig();\n    if (strategyPlotConfig) {\n      plotStore.editablePlotConfig = strategyPlotConfig;\n    }\n  } catch (error) {\n    //\n    showAlert('Failed to load Plot configuration from Strategy.');\n  }\n}\n\nfunction savePlotConfig() {\n  plotStore.saveCustomPlotConfig(plotConfigNameLoc.value, plotStore.editablePlotConfig);\n}\n\nfunction addNewIndicatorSelected(indicator?: string) {\n  addNewIndicator.value = false;\n\n  if (indicator) {\n    addIndicator({\n      [indicator]: {\n        color: randomColor(),\n      },\n    });\n    selIndicatorName.value = indicator;\n  }\n}\n\nwatch(selSubPlot, () => {\n  // Deselect Indicator when switching selected plot\n  selIndicatorName.value = '';\n});\n\nwatch(\n  () => plotStore.plotConfigName,\n  () => {\n    selIndicatorName.value = '';\n    // selSubPlot.value = '';\n    plotConfigNameLoc.value = plotStore.plotConfigName;\n  },\n);\n\nwatch(\n  () => props.isVisible,\n  () => {\n    if (props.isVisible) {\n      // Deep clone and assign to editable\n      plotStore.editablePlotConfig = deepClone(plotStore.plotConfig);\n      plotStore.isEditing = true;\n      plotConfigNameLoc.value = plotStore.plotConfigName;\n    } else {\n      plotStore.isEditing = false;\n    }\n  },\n  {\n    immediate: true,\n  },\n);\nconst fromPlotTemplateVisible = ref(false);\n\nconst showTagsInTooltips = computed({\n  get() {\n    return plotStore.editablePlotConfig.options?.showTags ?? true;\n  },\n  set(value: boolean) {\n    if (!plotStore.editablePlotConfig.options) {\n      plotStore.editablePlotConfig.options = {};\n    }\n    plotStore.editablePlotConfig.options.showTags = value;\n  },\n});\nconst markAreaZIndex = computed({\n  get() {\n    return plotStore.editablePlotConfig.options?.markAreaZIndex ?? 1;\n  },\n  set(value: number) {\n    if (!plotStore.editablePlotConfig.options) {\n      plotStore.editablePlotConfig.options = {};\n    }\n    plotStore.editablePlotConfig.options.markAreaZIndex = value;\n  },\n});\n</script>\n\n<template>\n  <div v-if=\"columns\">\n    <label for=\"idPlotConfigName\">Plot config name</label>\n    <PlotConfigSelect allow-edit></PlotConfigSelect>\n    <Divider />\n    <BaseCheckbox v-model=\"showTagsInTooltips\" class=\"mb-1\">Show Tags in Tooltips</BaseCheckbox>\n    <div class=\"grid grid-cols-2 items-center gap-2 w-full\">\n      <label>Mark Area Z-Index <br /><small>(defaults to 1 - Candlechart is at Z=2)</small></label>\n\n      <InputNumber v-model=\"markAreaZIndex\" class=\"mb-1\" size=\"small\" />\n    </div>\n    <Divider />\n\n    <label for=\"fieldSel\" class=\"mb\">Target Plot</label>\n    <EditValue\n      v-model=\"selSubPlot\"\n      :allow-edit=\"!isMainPlot\"\n      allow-add\n      editable-name=\"plot configuration\"\n      align-vertical\n      @new=\"addSubplot\"\n      @delete=\"deleteSubplot\"\n      @rename=\"renameSubplot\"\n    >\n      <ListBox\n        id=\"fieldSel\"\n        v-model=\"selSubPlot\"\n        :options=\"subplots\"\n        size=\"small\"\n        :pt=\"{\n          listContainer: {\n            class: 'h-30',\n          },\n        }\"\n      >\n      </ListBox>\n    </EditValue>\n    <Divider />\n    <div>\n      <label for=\"selectedIndicators\">Indicators in this plot</label>\n      <ListBox\n        id=\"selectedIndicators\"\n        v-model=\"selIndicatorName\"\n        size=\"small\"\n        empty-message=\"No indicators selected\"\n        option-label=\"text\"\n        option-value=\"value\"\n        :disabled=\"addNewIndicator\"\n        :options=\"usedColumns\"\n        :pt=\"{\n          listContainer: {\n            class: 'h-30',\n          },\n        }\"\n      >\n      </ListBox>\n    </div>\n    <div class=\"flex flex-row mt-1 gap-1\">\n      <Button\n        severity=\"secondary\"\n        title=\"Remove indicator to plot\"\n        size=\"small\"\n        :disabled=\"!selIndicatorName\"\n        class=\"col\"\n        @click=\"removeIndicator\"\n      >\n        Remove indicator\n      </Button>\n      <Button\n        severity=\"secondary\"\n        title=\"Load indicator config from template\"\n        size=\"small\"\n        @click=\"fromPlotTemplateVisible = !fromPlotTemplateVisible\"\n      >\n        Indicator from template\n      </Button>\n      <Button\n        severity=\"primary\"\n        title=\"Add indicator to plot\"\n        size=\"small\"\n        class=\"col\"\n        :disabled=\"addNewIndicator\"\n        @click=\"clickAddNewIndicator\"\n      >\n        Add new indicator\n      </Button>\n    </div>\n\n    <PlotIndicatorSelect\n      v-if=\"addNewIndicator\"\n      :columns=\"columns\"\n      class=\"mt-1\"\n      label=\"Select indicator to add\"\n      @indicator-selected=\"addNewIndicatorSelected\"\n    />\n\n    <PlotFromTemplate v-model:visible=\"fromPlotTemplateVisible\" :columns=\"columns\" />\n\n    <PlotIndicator\n      v-if=\"selIndicatorName && !fromPlotTemplateVisible\"\n      v-model=\"selIndicator\"\n      class=\"mt-1\"\n      :columns=\"columns\"\n    />\n    <Divider />\n\n    <div class=\"flex flex-row gap-1\">\n      <Button\n        severity=\"secondary\"\n        size=\"small\"\n        :disabled=\"addNewIndicator\"\n        title=\"Reset to last saved configuration\"\n        @click=\"loadPlotConfig\"\n        >Reset</Button\n      >\n\n      <!--\n        Does Resetting a config to \"nothing\" make sense, or can this be done via \"delete / create\"?\n        <Button\n        class=\"ms-1 \"\n        severity=\"secondary\"\n        size=\"small\"\n        :disabled=\"addNewIndicator\"\n        title=\"Start with empty configuration\"\n        @click=\"clearConfig\"\n        >Reset</Button\n      > -->\n      <Button\n        :disabled=\"\n          (botStore.activeBot.isWebserverMode &&\n            !botStore.activeBot.botFeatures.plotConfigFromServer) ||\n          !botStore.activeBot.isBotOnline ||\n          addNewIndicator\n        \"\n        severity=\"secondary\"\n        size=\"small\"\n        @click=\"loadPlotConfigFromStrategy\"\n      >\n        From strategy\n      </Button>\n      <Button\n        id=\"showButton\"\n        severity=\"secondary\"\n        size=\"small\"\n        :disabled=\"addNewIndicator\"\n        title=\"Show configuration for easy transfer to a strategy\"\n        @click=\"showConfig = !showConfig\"\n        >{{ showConfig ? 'Hide' : 'Show' }}</Button\n      >\n\n      <Button\n        severity=\"primary\"\n        size=\"small\"\n        data-toggle=\"tooltip\"\n        :disabled=\"addNewIndicator\"\n        title=\"Save configuration\"\n        @click=\"savePlotConfig\"\n        >Save</Button\n      >\n    </div>\n    <Button\n      v-if=\"showConfig\"\n      class=\"ms-1 mt-1\"\n      severity=\"secondary\"\n      size=\"small\"\n      title=\"Load configuration from text box below\"\n      @click=\"loadConfigFromString\"\n      >Load from String</Button\n    >\n    <div v-if=\"showConfig\" class=\"w-full ms-1 mt-2\">\n      <Textarea\n        id=\"TextArea\"\n        v-model=\"plotConfigJson\"\n        class=\"w-full min-h-[250px]\"\n        size=\"small\"\n        :state=\"tempPlotConfigValid\"\n      >\n      </Textarea>\n    </div>\n  </div>\n</template>\n\n<style scoped lang=\"css\">\n.form-group {\n  margin-bottom: 0.5rem;\n}\n\nhr {\n  margin-bottom: 0.5rem;\n  margin-top: 0.5rem;\n}\n</style>\n","import type { PlotConfig } from '@/types';\n\n/**\n * Calculate diff over 2 dataset columns and adds it to the end of the dataset\n * modifies the incomming dataset array inplace!\n */\nexport function calculateDiff(\n  columns: string[],\n  data: number[][],\n  colFrom: string,\n  colTo: string,\n): number[][] {\n  const fromIdx = columns.indexOf(colFrom);\n  const toIdx = columns.indexOf(colTo);\n  const hasBothColumns = fromIdx > 0 && toIdx > 0;\n  if (hasBothColumns) {\n    columns.push(`${colFrom}-${colTo}`);\n  }\n  return data.map((original) => {\n    // Prevent mutation of original data\n    const candle = original.slice();\n    if (hasBothColumns) {\n      const diff =\n        candle === null || candle[toIdx] === null || candle[fromIdx] === null\n          ? null\n          : candle[toIdx]! - candle[fromIdx]!;\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      // @ts-expect-error\n      candle.push(diff);\n    }\n    return candle;\n  });\n}\n\nexport function getDiffColumnsFromPlotConfig(plotConfig: PlotConfig): string[][] {\n  const result: string[][] = [];\n  if ('main_plot' in plotConfig) {\n    Object.entries(plotConfig.main_plot).forEach(([key, value]) => {\n      if (value.fill_to) {\n        result.push([key, value.fill_to]);\n      }\n    });\n  }\n  if ('subplots' in plotConfig) {\n    Object.values(plotConfig.subplots).forEach((subplots) => {\n      Object.entries(subplots).forEach(([key, value]) => {\n        if (value.fill_to) {\n          result.push([key, value.fill_to]);\n        }\n      });\n    });\n  }\n  return result;\n}\n","export const ROUND_UP = 2;\nexport const ROUND_DOWN = 3;\n/** Rounds to the closer candle starting time */\nexport const ROUND_CLOSER = 4;\n\n/**\n *\n * @param timeframeMs timeframe in milliseconds\n * @param timestamp timestamp in milliseconds\n * @param direction Direction (see ROUND_* constants)\n * @returns timestamp in ms rounded to the timeframe\n */\nexport default function (timeframeMs: number, timestamp: number, direction: number = ROUND_DOWN) {\n  const offset = timestamp % timeframeMs;\n  let up = direction === ROUND_UP;\n  if (direction === ROUND_CLOSER) {\n    up = offset > timeframeMs / 2;\n  }\n  return timestamp - offset + (up ? timeframeMs : 0);\n}\n","import type { ElementEvent } from 'echarts';\nimport humanizeDuration from 'humanize-duration';\nimport type ECharts from 'vue-echarts';\nimport type { Ref } from 'vue';\n\nexport function usePercentageTool(\n  chartRef: Ref<InstanceType<typeof ECharts> | undefined>,\n  theme: Ref<string>,\n  timeframe_ms: Ref<number>,\n) {\n  const inputListener = useKeyModifier('Shift', { events: ['keydown', 'keyup'] });\n\n  const color = computed(() => (theme.value === 'dark' ? 'white' : 'black'));\n\n  const startPos = ref({ x: 0, y: 0 });\n  const drawLimitPerSecond = 144;\n  const canDraw = ref(true);\n  const active = ref(false);\n  const closing = ref(false);\n  const boxHeight = 35;\n  const boxWidth = 170;\n\n  function roundTF(timestamp: number) {\n    return roundTimeframe(timeframe_ms.value, timestamp, ROUND_CLOSER);\n  }\n\n  function mouseMove(e: ElementEvent) {\n    if (canDraw.value && !closing.value) draw(e.offsetX, e.offsetY);\n  }\n\n  function mouseDown(e: ElementEvent) {\n    if (!active.value) {\n      const startValues = chartRef.value?.convertFromPixel({ seriesIndex: 0 }, [\n        e.offsetX,\n        e.offsetY,\n      ]) ?? [0, 0];\n      startValues[0] = roundTF(Number(startValues[0]));\n      const startnew = chartRef.value?.convertToPixel({ seriesIndex: 0 }, startValues) ?? [0, 0];\n\n      startPos.value = { x: startnew[0]!, y: startnew[1]! };\n\n      chartRef.value?.chart?.getZr().on('mousemove', mouseMove);\n      drawStart();\n    } else if (!closing.value) {\n      closing.value = true;\n    } else {\n      drawEnd();\n      closing.value = false;\n      chartRef.value?.chart?.getZr().off('mousemove', mouseMove);\n      chartRef.value?.chart?.getZr().off('mousedown', mouseDown);\n    }\n  }\n\n  function drawStart() {\n    active.value = true;\n    chartRef.value?.setOption({\n      dataZoom: [{ disabled: true }],\n      graphic: [\n        {\n          type: 'rect',\n          shape: {\n            x: startPos.value.x,\n            width: 0,\n            y: startPos.value.y,\n            height: 0,\n          },\n          style: {\n            fill: color.value,\n            // color: color.value,\n            opacity: 0.1,\n          },\n        },\n        {\n          // Rect containing text ...\n          type: 'rect',\n          z: 5,\n          shape: {\n            x: startPos.value.x,\n            width: boxWidth,\n            y: startPos.value.y,\n            height: boxHeight,\n            r: 5,\n          },\n          style: {\n            fill: '#002fff',\n            // color: color.value,\n            opacity: 0.8,\n          },\n          textContent: {\n            z: 10,\n            style: {\n              text: '0 bars - 0%',\n              font: '14px sans-serif',\n              fill: 'white',\n            },\n          },\n          textConfig: {\n            position: 'inside',\n          },\n        },\n      ],\n    });\n  }\n\n  function drawEnd() {\n    active.value = false;\n    chartRef.value?.setOption({\n      dataZoom: [{ disabled: false }],\n      graphic: [{ $action: 'remove' }, { $action: 'remove' }],\n    });\n  }\n\n  function draw(x: number, y: number) {\n    const startValues = chartRef.value?.convertFromPixel({ seriesIndex: 0 }, [\n      startPos.value.x,\n      startPos.value.y,\n    ]) ?? [0, 0];\n    const endValues = chartRef.value?.convertFromPixel({ seriesIndex: 0 }, [x, y]) ?? [0, 0];\n    const startPrice = Number(startValues[1]);\n    const endPrice = Number(endValues[1]);\n    const startTime = roundTF(Number(startValues[0]));\n    const endTime = roundTF(Number(endValues[0]));\n    const timeDiff = Math.abs(startTime - endTime);\n    const xr = chartRef.value?.convertToPixel({ seriesIndex: 0 }, [endTime, 0])[0] ?? 0;\n    const timeElapsed = humanizeDuration(timeDiff, { units: ['d', 'h', 'm'] });\n    const pct = Math.abs(((startPrice - endPrice) / startPrice) * 100).toFixed(2);\n\n    chartRef.value?.setOption({\n      graphic: [\n        {\n          // Transparent rectangle ....\n          shape: {\n            width: xr > startPos.value.x ? -1 * (startPos.value.x - xr) : xr - startPos.value.x,\n            height: y > startPos.value.y ? -1 * (startPos.value.y - y) : y - startPos.value.y,\n          },\n        },\n        {\n          // Rect containing text ...\n          shape: {\n            x: startPos.value.x + (xr - startPos.value.x) / 2 - boxWidth / 2,\n            y: y > startPos.value.y ? y - (boxHeight + 5) : y + 9,\n          },\n          textContent: {\n            style: {\n              textAlign: x < startPos.value.x ? 'left' : 'right',\n              text: `${timeDiff / timeframe_ms.value} bars (${\n                startPrice < endPrice ? pct : '-' + pct\n              }%) \\n ${timeElapsed}`,\n            },\n          },\n        },\n      ],\n    });\n\n    canDraw.value = false;\n    setTimeout(() => {\n      canDraw.value = true;\n    }, 1000 / drawLimitPerSecond);\n  }\n\n  watch(\n    () => inputListener.value,\n    () => {\n      if (inputListener.value && !active.value) {\n        chartRef.value?.chart?.getZr().on('mousedown', mouseDown);\n      }\n    },\n  );\n}\n","export function heikinAshiDataset(columns: string[], data: Array<number[]>): number[][] {\n  const openIdx = columns.indexOf('open');\n  const closeIdx = columns.indexOf('close');\n  const highIdx = columns.indexOf('high');\n  const lowIdx = columns.indexOf('low');\n\n  let prevCandle: number[];\n  return data.map((original, idx) => {\n    // Prevent mutation of original data\n    const candle = original.slice();\n    const open = candle[openIdx] ?? 0;\n    const close = candle[closeIdx] ?? 0;\n    const high = candle[highIdx] ?? 0;\n    const low = candle[lowIdx] ?? 0;\n\n    const hopen =\n      idx === 0\n        ? (open + close) / 2\n        : ((prevCandle[openIdx] ?? 0) + (prevCandle[closeIdx] ?? 0)) / 2;\n    const hclose = (open + high + low + close) / 4;\n    const hhigh = Math.max(high, open, close);\n    const hlow = Math.min(low, open, close);\n\n    candle[openIdx] = hopen;\n    candle[closeIdx] = hclose;\n    candle[highIdx] = hhigh;\n    candle[lowIdx] = hlow;\n\n    prevCandle = candle.slice();\n\n    return candle;\n  });\n}\n","/**\n *  Split a trade pair into stake and quote currency\n * @param pair pair to split, either <stake>/<quote> or <stake>/<quote>:<settle>\n * @returns {baseCurrency, quoteCurrency}\n */\nexport function splitTradePair(pair: string): { baseCurrency: string; quoteCurrency: string } {\n  if (!pair) return { baseCurrency: '', quoteCurrency: '' };\n  const [baseCurrency, quoteCurrency] = pair.split('/');\n  if (quoteCurrency !== undefined && baseCurrency !== undefined) {\n    const quoteCurrencySplit = quoteCurrency.split(':');\n    return { baseCurrency: baseCurrency, quoteCurrency: quoteCurrencySplit[0] || quoteCurrency };\n  }\n  // In case only one asset is passed in (e.g. USDT) we invert the values, assuming this is the quote currency.\n  return { baseCurrency: quoteCurrency ?? '', quoteCurrency: baseCurrency ?? '' };\n}\n","import type { Order, PairHistory, Trade, BTOrder } from '@/types';\n\nimport type {\n  MarkAreaComponentOption,\n  MarkLineComponentOption,\n  ScatterSeriesOption,\n} from 'echarts';\n\nfunction buildTooltipCost(order: Order | BTOrder, quoteCurrency: string): string {\n  return `${order.ft_order_side === 'buy' ? '+' : '-'}${formatPriceCurrency(\n    'cost' in order ? order.cost : order.amount * order.safe_price,\n    quoteCurrency,\n  )}`;\n}\n\nfunction buildToolTip(\n  trade: Trade,\n  order: Order | BTOrder,\n  side: string,\n  quoteCurrency: string,\n): string {\n  let tooltip = `${trade.is_short ? 'Short' : 'Long'} ${side}\n  ${formatPercent(trade.profit_ratio)} ${\n    trade.profit_abs ? '(' + formatPriceCurrency(trade.profit_abs, quoteCurrency) + ')' : ''\n  }\n  ${buildTooltipCost(order, quoteCurrency)}\n  Enter-tag: ${trade.enter_tag ?? ''}\n  Order Price: ${formatPriceCurrency(order.safe_price, quoteCurrency)}`;\n  tooltip += `${'ft_order_tag' in order && order.ft_order_tag && trade.enter_tag != order.ft_order_tag ? '\\nOrder-Tag: ' + order.ft_order_tag : ''}`;\n  tooltip += `${trade.exit_reason ? '\\nExit-Tag: ' + trade.exit_reason : ''}`;\n  return tooltip;\n}\n\nfunction buildAdjustmentToolTip(\n  trade: Trade,\n  order: Order | BTOrder,\n  quoteCurrency: string,\n): string {\n  let tooltip = `${trade.is_short ? 'Short' : 'Long'} adjustment\n  ${buildTooltipCost(order, quoteCurrency)}\n  Enter-tag: ${trade.enter_tag ?? ''}`;\n  tooltip += `${'ft_order_tag' in order && order.ft_order_tag ? '\\nOrder-Tag: ' + order.ft_order_tag : ''}`;\n\n  return tooltip;\n}\n\nconst ADJUSTMENT_SYMBOL =\n  'path://m 52.444161,104.1909 8.386653,25.34314 8.386651,25.34313 -16.731501,0.0422 -16.731501,0.0422 8.344848,-25.38539 z m 0.08656,-48.368126 8.386652,25.343139 8.386652,25.343137 -16.731501,0.0422 -16.731502,0.0422 8.344848,-25.385389 z';\nconst OPEN_CLOSE_SYMBOL =\n  'path://m 102.20764,19.885384 h 24.1454 v 41.928829 h -24.1454 z m 12.17344,36.423813 8.38665,25.343139 8.38666,25.343134 -16.7315,0.0422 -16.731507,0.0422 8.344847,-25.385386 z';\n\nconst SHORT_COLOR = '#AD00FF';\n//const SHORT_ADJUST_COLOR = '#CE3BFF';\nconst LONG_COLOR = '#0066FF';\n//const LONG_ADJUST_COLOR = '#00A9FF';\n\n/** Return trade entries for charting */\nfunction getTradeEntries(dataset: PairHistory, trades: Trade[]) {\n  const tradeData: (number | string)[][] = [];\n  // Return schema:\n  // 0: Timeframe\n  // 1: rate\n  // 2: symbol\n  // 3: symbol rotate\n  // 4: color\n  // 5: label\n  // 6: tooltip\n  const stop_ts_adjusted = dataset.data_stop_ts + dataset.timeframe_ms;\n  for (const trade of trades) {\n    // const trade: Trade = trades[i];\n    const openTs = trade.open_fill_timestamp ?? trade.open_timestamp;\n    if (\n      // Trade is open or closed and within timerange\n      roundTimeframe(dataset.timeframe_ms ?? 0, trade.open_timestamp) <= stop_ts_adjusted ||\n      !trade.close_timestamp ||\n      (trade.close_timestamp && trade.close_timestamp >= dataset.data_start_ts)\n    ) {\n      if (trade.orders) {\n        for (const [j, order] of trade.orders.entries()) {\n          const orderTs =\n            order.order_filled_timestamp ??\n            ('order_timestamp' in order ? order.order_timestamp : trade.open_timestamp);\n          const { quoteCurrency } = splitTradePair(trade.quote_currency ?? trade.pair ?? '');\n          if (\n            orderTs &&\n            roundTimeframe(dataset.timeframe_ms ?? 0, orderTs) <= stop_ts_adjusted &&\n            orderTs > dataset.data_start_ts\n          ) {\n            // Trade entry\n            if (j === 0) {\n              tradeData.push([\n                roundTimeframe(dataset.timeframe_ms ?? 0, openTs),\n                order.safe_price,\n                OPEN_CLOSE_SYMBOL,\n                order.ft_order_side == 'sell' ? 180 : 0,\n                trade.is_short ? SHORT_COLOR : LONG_COLOR,\n                (trade.is_short ? 'Short' : 'Long') +\n                  (!order.order_filled_timestamp ? ' (open)' : ''),\n                buildToolTip(trade, order, 'entry', quoteCurrency),\n              ]);\n              // Trade exit\n            } else if (j === trade.orders.length - 1 && trade.close_timestamp) {\n              if (\n                roundTimeframe(dataset.timeframe_ms ?? 0, trade.close_timestamp) <=\n                  stop_ts_adjusted &&\n                trade.close_timestamp > dataset.data_start_ts &&\n                trade.is_open === false\n              ) {\n                tradeData.push([\n                  roundTimeframe(dataset.timeframe_ms ?? 0, trade.close_timestamp),\n                  order.safe_price,\n                  OPEN_CLOSE_SYMBOL,\n                  trade.is_short ? 0 : 180,\n                  trade.is_short ? SHORT_COLOR : LONG_COLOR,\n                  formatPercent(trade.profit_ratio, 2),\n                  buildToolTip(trade, order, 'exit', quoteCurrency),\n                ]);\n              }\n            }\n            // Position adjustment\n            else {\n              if (\n                order.ft_order_side !== 'stoploss' ||\n                ('filled' in order && (order.filled ?? 0) > 0)\n              ) {\n                // Don't show stoploss orders that haven't been filled\n                tradeData.push([\n                  roundTimeframe(dataset.timeframe_ms ?? 0, orderTs),\n                  order.safe_price,\n                  ADJUSTMENT_SYMBOL,\n                  order.ft_order_side == 'sell' ? 180 : 0,\n                  trade.is_short ? SHORT_COLOR : LONG_COLOR,\n                  '',\n                  buildAdjustmentToolTip(trade, order, quoteCurrency),\n                ]);\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n  return { tradeData };\n}\n\n/**\n *  Generate Series displaying trades\n *  This may include trades, orders, and eventually other things related to the trade.\n */\nexport function generateTradeSeries(\n  nameTrades: string,\n  theme: string,\n  dataset: PairHistory,\n  trades: Trade[],\n): ScatterSeriesOption {\n  const { tradeData } = getTradeEntries(dataset, trades);\n\n  const openTrade = trades.find((t) => t.is_open);\n\n  const tradesSeries: ScatterSeriesOption = {\n    name: nameTrades,\n    type: 'scatter',\n    xAxisIndex: 0,\n    yAxisIndex: 0,\n    encode: {\n      x: 0,\n      y: 1,\n      label: 5,\n      tooltip: 6,\n    },\n    label: {\n      show: true,\n      fontSize: 12,\n      backgroundColor: theme !== 'dark' ? '#fff' : '#000',\n      padding: 2,\n      color: theme === 'dark' ? '#fff' : '#000',\n      rotate: 75,\n      offset: [10, 0],\n      align: 'left',\n    },\n    itemStyle: {\n      // color: tradeSellColor,\n      color: (v) => (v.data ? v.data[4] : '#000'),\n      opacity: 0.9,\n    },\n    symbol: (v) => v[2],\n    symbolRotate: (v) => v[3],\n    symbolSize: 13,\n    data: tradeData,\n  };\n  // Show distance to stoploss\n  if (openTrade) {\n    // Ensure to import and \"use\" whatever feature in candleChart! (MarkLine, MarkArea, ...)\n    // Offset to avoid having the line at the very end of the chart\n    const offset = dataset.timeframe_ms * 10;\n\n    tradesSeries.markLine = {\n      symbol: 'none',\n      label: {\n        show: true,\n        position: 'middle',\n      },\n      data: [\n        [\n          {\n            name: 'Stoploss',\n            yAxis: openTrade.stop_loss_abs,\n            lineStyle: {\n              color: '#ff0000AA',\n              type: 'solid',\n            },\n            xAxis:\n              dataset.data_stop_ts - offset > openTrade.open_timestamp\n                ? openTrade.open_timestamp\n                : dataset.data_stop_ts - offset,\n          },\n          {\n            lineStyle: {\n              color: '#ff0000AA',\n              type: 'solid',\n            },\n            yAxis: openTrade.stop_loss_abs,\n            xAxis: openTrade.close_timestamp ?? dataset.data_stop_ts + dataset.timeframe_ms,\n          },\n        ],\n      ],\n    };\n  }\n  return tradesSeries;\n}\n\nexport function generateMarkArea(\n  dataset: PairHistory,\n  enabled: boolean,\n  markAreaZIndex?: number | undefined,\n): { markArea?: MarkAreaComponentOption; markLine?: MarkLineComponentOption } {\n  if (!dataset.annotations || !enabled) return {};\n\n  const markArea: MarkAreaComponentOption = {\n    label: {\n      position: 'insideTop',\n    },\n    z: markAreaZIndex ?? 1,\n    data: dataset.annotations\n      .filter((area) => area.type == 'area')\n      .map((area) => {\n        return [\n          {\n            z2: area.z_index ?? 1,\n            xAxis: area.start,\n            yAxis: area.y_start,\n            itemStyle: {\n              color: area.color,\n            },\n            label: {\n              formatter: area.label,\n            },\n          },\n          {\n            z2: area.z_index ?? 1,\n            xAxis: area.end,\n            yAxis: area.y_end,\n          },\n        ];\n      }),\n  };\n  const markLine: MarkLineComponentOption = {\n    label: {\n      position: 'middle',\n    },\n    symbol: ['none', 'none'],\n    z: markAreaZIndex ?? 1,\n    data: dataset.annotations\n      .filter((line) => line.type == 'line')\n      .map((line) => {\n        return [\n          {\n            name: line.label,\n            xAxis: line.start,\n            yAxis: line.y_start,\n            lineStyle: {\n              color: line.color,\n              width: line.width ?? 1,\n              type: line.line_style ?? 'solid',\n            },\n            z2: line.z_index ?? 1,\n          },\n          {\n            xAxis: line.end,\n            yAxis: line.y_end,\n            z2: line.z_index ?? 1,\n          },\n        ];\n      }),\n  };\n  return {\n    markArea,\n    markLine,\n  };\n}\n\nexport function generateMarkAreaSeries(\n  dataset: PairHistory,\n  enabled: boolean,\n  markAreaZIndex?: number | undefined,\n): ScatterSeriesOption | undefined {\n  if (!dataset.annotations || !enabled) {\n    return undefined;\n  }\n  // Invisible series added to chart to work around marklines bug\n  // TODO: https://github.com/apache/echarts/issues/21300\n  return {\n    // Invisible\n    type: 'scatter',\n    symbol: 'none',\n    xAxisIndex: 0,\n    ...generateMarkArea(dataset, enabled, markAreaZIndex),\n  };\n}\n","import type { IndicatorConfig } from '@/types';\nimport { ChartType } from '@/types';\nimport type { BarSeriesOption, LineSeriesOption, ScatterSeriesOption } from 'echarts';\n\nexport type SupportedSeriesTypes = LineSeriesOption | BarSeriesOption | ScatterSeriesOption;\n\nexport function generateCandleSeries(\n  colDate: number,\n  col: number,\n  key: string,\n  value: IndicatorConfig,\n  axis = 0,\n): SupportedSeriesTypes {\n  const sp: SupportedSeriesTypes = {\n    name: key,\n    type: value.type || 'line',\n    xAxisIndex: axis,\n    yAxisIndex: axis,\n    itemStyle: {\n      color: value.color || randomColor(),\n    },\n    encode: {\n      x: colDate,\n      y: col,\n    },\n    showSymbol: false,\n  };\n  if (value.type === ChartType.scatter) {\n    sp['symbolSize'] = value.scatterSymbolSize ?? 3;\n    sp['emphasis'] = {\n      disabled: true,\n    };\n  }\n  return sp;\n}\n\nexport function generateAreaCandleSeries(\n  colDate: number,\n  fillCol: number,\n  key: string,\n  value: IndicatorConfig,\n  axis = 0,\n): SupportedSeriesTypes {\n  const fillValue: IndicatorConfig = {\n    // color: value.color;\n    type: ChartType.line,\n  };\n  const areaSeries = generateCandleSeries(\n    colDate,\n    fillCol,\n    key,\n    fillValue,\n    axis,\n  ) as LineSeriesOption;\n\n  const areaOptions: LineSeriesOption = {\n    stack: key,\n    stackStrategy: 'all',\n    lineStyle: {\n      opacity: 0,\n    },\n    showSymbol: false,\n    areaStyle: {\n      color: value.color,\n      opacity: 0.1,\n    },\n    tooltip: {\n      show: false, // hide value on tooltip\n    },\n  };\n\n  Object.assign(areaSeries, areaOptions);\n\n  return areaSeries;\n}\n","<script setup lang=\"ts\">\nimport type { ChartSliderPosition, IndicatorConfig, PairHistory, PlotConfig, Trade } from '@/types';\nimport { ChartType } from '@/types';\n\nimport ECharts from 'vue-echarts';\n\nimport type { EChartsOption, ScatterSeriesOption } from 'echarts';\nimport { BarChart, CandlestickChart, LineChart, ScatterChart } from 'echarts/charts';\nimport {\n  AxisPointerComponent,\n  CalendarComponent,\n  DataZoomComponent,\n  DatasetComponent,\n  GridComponent,\n  LegendComponent,\n  TimelineComponent,\n  TitleComponent,\n  ToolboxComponent,\n  TooltipComponent,\n  VisualMapComponent,\n  VisualMapPiecewiseComponent,\n  MarkAreaComponent,\n  MarkLineComponent,\n  // MarkPointComponent,\n  GraphicComponent,\n} from 'echarts/components';\nimport { use } from 'echarts/core';\nimport { CanvasRenderer } from 'echarts/renderers';\n\nuse([\n  AxisPointerComponent,\n  CalendarComponent,\n  DatasetComponent,\n  DataZoomComponent,\n  GridComponent,\n  LegendComponent,\n  TimelineComponent,\n  TitleComponent,\n  ToolboxComponent,\n  TooltipComponent,\n  VisualMapComponent,\n  VisualMapPiecewiseComponent,\n  MarkAreaComponent,\n  MarkLineComponent,\n  // MarkPointComponent,\n\n  CandlestickChart,\n  BarChart,\n  LineChart,\n  ScatterChart,\n  CanvasRenderer,\n  GraphicComponent,\n]);\n\nconst props = defineProps<{\n  trades: Trade[];\n  dataset: PairHistory;\n  heikinAshi: boolean;\n  showMarkArea: boolean;\n  useUTC: boolean;\n  plotConfig: PlotConfig;\n  theme: 'dark' | 'light';\n  sliderPosition?: ChartSliderPosition;\n  colorUp: string;\n  colorDown: string;\n  labelSide: 'left' | 'right';\n  startCandleCount: number;\n}>();\n\nconst isLabelLeft = computed(() => props.labelSide === 'left');\n// Chart default options\nconst MARGINLEFT = isLabelLeft.value ? '5.5%' : '1%';\nconst MARGINRIGHT = isLabelLeft.value ? '1%' : '5.5%';\nconst NAMEGAP = 55;\nconst SUBPLOTHEIGHT = 8; // Value in %\n// minimal helpers for debugging\nconst showAxisLine = false;\n\n// Candle Colors\nconst upColor = props.colorUp;\nconst upBorderColor = props.colorUp;\nconst downColor = props.colorDown;\nconst downBorderColor = props.colorDown;\n\n// Buy / Sell Signal Colors\nconst buySignalColor = '#00ff26';\nconst shortEntrySignalColor = '#00ff26';\nconst sellSignalColor = '#faba25';\nconst shortexitSignalColor = '#faba25';\n\nconst candleChart = ref<InstanceType<typeof ECharts>>();\nconst chartOptions = ref<EChartsOption>({});\n\nconst strategy = computed(() => {\n  return props.dataset ? props.dataset.strategy : '';\n});\n\nconst pair = computed(() => {\n  return props.dataset ? props.dataset.pair : '';\n});\n\nconst timeframe = computed(() => {\n  return props.dataset ? props.dataset.timeframe : '';\n});\n\nconst hasData = computed(() => {\n  return props.dataset !== null && typeof props.dataset === 'object';\n});\n\nconst filteredTrades = computed(() => {\n  return props.trades.filter((item: Trade) => item.pair === pair.value);\n});\n\nconst chartTitle = computed(() => {\n  return `${strategy.value} - ${pair.value} - ${timeframe.value}`;\n});\n\nconst diffCols = computed(() => {\n  return getDiffColumnsFromPlotConfig(props.plotConfig);\n});\n\nusePercentageTool(\n  candleChart,\n  toRef(() => props.theme),\n  toRef(() => props.dataset.timeframe_ms),\n);\n\nfunction updateChart(initial = false) {\n  if (!hasData.value) {\n    return;\n  }\n  if (chartOptions.value?.title) {\n    chartOptions.value.title[0].text = chartTitle.value;\n  }\n  // Avoid mutation of dataset.columns array\n  const columns = props.dataset.columns.slice();\n\n  const colDate = columns.findIndex((el) => el === '__date_ts');\n  const colOpen = columns.findIndex((el) => el === 'open');\n  const colHigh = columns.findIndex((el) => el === 'high');\n  const colLow = columns.findIndex((el) => el === 'low');\n  const colClose = columns.findIndex((el) => el === 'close');\n  const colVolume = columns.findIndex((el) => el === 'volume');\n  const colEnterTag = columns.findIndex((el) => el === 'enter_tag');\n  const colExitTag = columns.findIndex((el) => el === 'exit_tag');\n\n  const colEntryData = columns.findIndex(\n    (el) => el === '_buy_signal_close' || el === '_enter_long_signal_close',\n  );\n  const colExitData = columns.findIndex(\n    (el) => el === '_sell_signal_close' || el === '_exit_long_signal_close',\n  );\n\n  const colShortEntryData = columns.findIndex((el) => el === '_enter_short_signal_close');\n  const colShortExitData = columns.findIndex((el) => el === '_exit_short_signal_close');\n\n  const subplotCount =\n    'subplots' in props.plotConfig ? Object.keys(props.plotConfig.subplots).length + 1 : 1;\n\n  if (Array.isArray(chartOptions.value?.dataZoom)) {\n    // Only set zoom once ...\n    if (initial) {\n      // Add 2 candles to the initial zoom to allow for a \"scroll past\" effect\n      const startingZoom = (1 - (props.startCandleCount + 2) / props.dataset.length) * 100;\n      chartOptions.value.dataZoom.forEach((el, i) => {\n        if (chartOptions.value && chartOptions.value.dataZoom) {\n          chartOptions.value.dataZoom[i].start = startingZoom;\n        }\n      });\n    } else {\n      // Remove start/end settings after chart initialization to avoid chart resetting\n      chartOptions.value.dataZoom.forEach((el, i) => {\n        if (chartOptions.value && chartOptions.value.dataZoom) {\n          delete chartOptions.value.dataZoom[i].start;\n          delete chartOptions.value.dataZoom[i].end;\n        }\n      });\n    }\n  }\n  let dataset = props.heikinAshi\n    ? heikinAshiDataset(columns, props.dataset.data)\n    : props.dataset.data.slice();\n\n  diffCols.value.forEach(([colFrom, colTo]) => {\n    if (colFrom && colTo) {\n      // Enhance dataset with diff columns for area plots\n      dataset = calculateDiff(columns, dataset, colFrom, colTo);\n    }\n  });\n  // Add new rows to end to allow slight \"scroll past\"\n  const scrollPastLength = 5;\n  const lastColDate = dataset[dataset.length - 1]?.[colDate];\n  if (lastColDate) {\n    const newArray = Array(scrollPastLength);\n    newArray[colDate] = lastColDate + props.dataset.timeframe_ms * scrollPastLength;\n    dataset.push(newArray);\n  }\n\n  const options: EChartsOption = {\n    dataset: {\n      source: dataset,\n    },\n    grid: [\n      {\n        left: MARGINLEFT,\n        right: MARGINRIGHT,\n        // Grid Layout from bottom to top\n        bottom: `${subplotCount * SUBPLOTHEIGHT + 2}%`,\n      },\n      {\n        // Volume\n        left: MARGINLEFT,\n        right: MARGINRIGHT,\n        // Grid Layout from bottom to top\n        bottom: `${subplotCount * SUBPLOTHEIGHT}%`,\n        height: `${SUBPLOTHEIGHT}%`,\n      },\n    ],\n\n    series: [\n      {\n        name: 'Candles',\n        type: 'candlestick',\n        barWidth: '80%',\n        itemStyle: {\n          color: upColor,\n          color0: downColor,\n          borderColor: upBorderColor,\n          borderColor0: downBorderColor,\n        },\n        encode: {\n          x: colDate,\n          // open, close, low, high\n          y: [colOpen, colClose, colLow, colHigh],\n        },\n      },\n      {\n        name: 'Volume',\n        type: 'bar',\n        xAxisIndex: 1,\n        yAxisIndex: 1,\n        itemStyle: {\n          color: '#777777',\n        },\n        large: true,\n        encode: {\n          x: colDate,\n          y: colVolume,\n        },\n      },\n    ],\n  };\n\n  if (Array.isArray(options.series)) {\n    const areaSeries = generateMarkAreaSeries(\n      props.dataset,\n      props.showMarkArea,\n      props.plotConfig.options?.markAreaZIndex,\n    );\n\n    if (areaSeries) {\n      options.series.push(areaSeries);\n    }\n    const signalConfigs = [\n      {\n        colData: colEntryData,\n        name: 'Entry',\n        symbol: 'triangle',\n        symbolSize: 10,\n        color: buySignalColor,\n        tooltipPrefix: 'Long entry',\n        colTooltip: colEnterTag,\n      },\n      {\n        colData: colExitData,\n        name: 'Exit',\n        symbol: 'diamond',\n        symbolSize: 8,\n        color: sellSignalColor,\n        tooltipPrefix: 'Long exit',\n        colTooltip: colExitTag,\n      },\n      {\n        colData: colShortEntryData,\n        name: 'Entry',\n        symbol: 'triangle',\n        symbolSize: 10,\n        symbolRotate: 180,\n        color: shortEntrySignalColor,\n        tooltipPrefix: 'Short entry',\n        colTooltip: colEnterTag,\n      },\n      {\n        colData: colShortExitData,\n        name: 'Exit',\n        symbol: 'pin',\n        symbolSize: 8,\n        color: shortexitSignalColor,\n        tooltipPrefix: 'Short exit',\n        colTooltip: colExitTag,\n      },\n    ];\n\n    for (const signal of signalConfigs) {\n      if (signal.colData >= 0) {\n        options.series.push({\n          name: signal.name,\n          type: 'scatter',\n          symbol: signal.symbol,\n          symbolSize: signal.symbolSize,\n          symbolRotate: signal.symbolRotate ?? 0,\n          xAxisIndex: 0,\n          yAxisIndex: 0,\n          itemStyle: {\n            color: signal.color,\n          },\n          tooltip: {\n            valueFormatter: (value) => {\n              if (Array.isArray(value)) {\n                if (value.length > 0 && value[0]) {\n                  // If tag column number get's too high, we get the full list as second argument (for no good reason)\n                  const tag = Array.isArray(value[1])\n                    ? value[1][signal.colTooltip]?.toString()\n                    : value[1]?.toString();\n                  const tagShort = tag.substring(0, 100);\n\n                  // Show both value and tag\n                  return `${signal.tooltipPrefix} ${value[0]} ${tagShort ? `(${tagShort})` : ''}`;\n                }\n                // fall back to empty output if tag ain't set.\n                return '';\n              }\n              // Fallback for single value\n              return value ? `${signal.tooltipPrefix} ${value}` : '';\n            },\n          },\n          encode: {\n            x: colDate,\n            y: signal.colData,\n            tooltip:\n              signal.colTooltip >= 0 ? [signal.colData, signal.colTooltip] : [signal.colData],\n          },\n        });\n      }\n    }\n  }\n\n  // Merge this into original data\n  Object.assign(chartOptions.value, options);\n\n  if ('main_plot' in props.plotConfig) {\n    Object.entries(props.plotConfig.main_plot).forEach(([key, value]) => {\n      const col = columns.findIndex((el) => el === key);\n      if (col > 0) {\n        if (!Array.isArray(chartOptions.value?.legend) && chartOptions.value?.legend?.data) {\n          chartOptions.value.legend.data.push(key);\n        }\n        if (Array.isArray(chartOptions.value?.series)) {\n          chartOptions.value?.series.push(generateCandleSeries(colDate, col, key, value));\n\n          if (value.fill_to) {\n            // Assign\n            const fillColKey = `${key}-${value.fill_to}`;\n            const fillCol = columns.findIndex((el) => el === fillColKey);\n            const fillValue: IndicatorConfig = {\n              color: value.color,\n              type: ChartType.line,\n            };\n            const areaSeries = generateAreaCandleSeries(colDate, fillCol, key, fillValue, 0);\n\n            const currentSeries = chartOptions.value.series[chartOptions.value.series.length - 1];\n            if (currentSeries) {\n              currentSeries['stack'] = key;\n            }\n            chartOptions.value.series.push(areaSeries);\n          }\n          chartOptions.value?.series.splice(chartOptions.value?.series.length - 1, 0);\n        }\n      } else {\n        console.log(`element ${key} for main plot not found in columns.`);\n      }\n    });\n  }\n\n  // START Subplots\n  if ('subplots' in props.plotConfig) {\n    let plotIndex = 2;\n    Object.entries(props.plotConfig.subplots).forEach(([key, value]) => {\n      // define yaxis\n\n      // Subplots are added from bottom to top - only the \"bottom-most\" plot stays at the bottom.\n      // const currGridIdx = totalSubplots - plotIndex > 1 ? totalSubplots - plotIndex : plotIndex;\n      const currGridIdx = plotIndex;\n      if (Array.isArray(chartOptions.value.yAxis) && chartOptions.value.yAxis.length <= plotIndex) {\n        chartOptions.value.yAxis.push({\n          scale: true,\n          gridIndex: currGridIdx,\n          name: key,\n          position: props.labelSide,\n          nameLocation: 'middle',\n          nameGap: NAMEGAP,\n          axisLabel: {\n            show: true,\n            hideOverlap: true,\n            overflow: 'truncate',\n          },\n          axisLine: { show: showAxisLine },\n          axisTick: { show: false },\n          splitLine: { show: false },\n        });\n      }\n      if (Array.isArray(chartOptions.value.xAxis) && chartOptions.value.xAxis.length <= plotIndex) {\n        chartOptions.value.xAxis.push({\n          type: 'time',\n          gridIndex: currGridIdx,\n          axisLine: { onZero: false },\n          axisTick: { show: false },\n          axisLabel: { show: false },\n          axisPointer: {\n            label: { show: false },\n          },\n          splitLine: { show: false },\n          splitNumber: 20,\n        });\n      }\n      if (Array.isArray(chartOptions.value.dataZoom)) {\n        chartOptions.value.dataZoom.forEach((el) =>\n          el.xAxisIndex && Array.isArray(el.xAxisIndex) ? el.xAxisIndex.push(plotIndex) : null,\n        );\n      }\n      if (chartOptions.value.grid && Array.isArray(chartOptions.value.grid)) {\n        chartOptions.value.grid.push({\n          left: MARGINLEFT,\n          right: MARGINRIGHT,\n          bottom: `${(subplotCount - plotIndex + 1) * SUBPLOTHEIGHT}%`,\n          height: `${SUBPLOTHEIGHT}%`,\n        });\n      }\n      Object.entries(value).forEach(([sk, sv]) => {\n        // entries per subplot\n        const col = columns.findIndex((el) => el === sk);\n        if (col > 0) {\n          if (!Array.isArray(chartOptions.value.legend) && chartOptions.value.legend?.data) {\n            chartOptions.value.legend.data.push(sk);\n          }\n          if (chartOptions.value.series && Array.isArray(chartOptions.value.series)) {\n            chartOptions.value.series.push(generateCandleSeries(colDate, col, sk, sv, plotIndex));\n            if (sv.fill_to) {\n              // Assign\n              const fillColKey = `${sk}-${sv.fill_to}`;\n              const fillCol = columns.findIndex((el) => el === fillColKey);\n              const fillValue: IndicatorConfig = {\n                color: sv.color,\n                type: ChartType.line,\n              };\n              const areaSeries = generateAreaCandleSeries(\n                colDate,\n                fillCol,\n                sk,\n                fillValue,\n                plotIndex,\n              );\n              const currentSeries = chartOptions.value.series[chartOptions.value.series.length - 1];\n              if (currentSeries) {\n                currentSeries['stack'] = sk;\n              }\n              chartOptions.value.series.push(areaSeries);\n            }\n            chartOptions.value?.series.splice(chartOptions.value?.series.length - 1, 0);\n          }\n        } else {\n          console.log(`element ${sk} was not found in the columns.`);\n        }\n      });\n\n      plotIndex += 1;\n    });\n  }\n  // END Subplots\n  // Last subplot should show xAxis labels\n  // if (options.xAxis && Array.isArray(options.xAxis)) {\n  //   options.xAxis[options.xAxis.length - 1].axisLabel.show = true;\n  //   options.xAxis[options.xAxis.length - 1].axisTick.show = true;\n  // }\n  if (Array.isArray(chartOptions.value.grid)) {\n    // Last subplot is bottom\n    const localGrid = chartOptions.value.grid[chartOptions.value.grid.length - 1];\n    if (localGrid) {\n      // Last subplot is bottom\n      localGrid.bottom = '50px';\n      delete localGrid.top;\n    }\n  }\n\n  const nameTrades = 'Trades';\n  if (!Array.isArray(chartOptions.value.legend) && chartOptions.value.legend?.data) {\n    // Insert trades into legend, after the default columns\n    chartOptions.value.legend.data.splice(4, 0, nameTrades);\n  }\n  const tradesSeries: ScatterSeriesOption = generateTradeSeries(\n    nameTrades,\n    props.theme,\n    props.dataset,\n    filteredTrades.value,\n  );\n  if (Array.isArray(chartOptions.value.series)) {\n    chartOptions.value.series.push(tradesSeries);\n  }\n\n  // console.log('chartOptions', chartOptions.value);\n  candleChart.value?.setOption(chartOptions.value, {\n    replaceMerge: ['series', 'grid', 'yAxis', 'xAxis', 'legend'],\n    notMerge: initial,\n  });\n}\n\nfunction initializeChartOptions() {\n  // Ensure we start empty.\n  candleChart.value?.setOption({}, { notMerge: true });\n\n  chartOptions.value = {\n    title: [\n      {\n        // text: this.chartTitle,\n        show: false,\n      },\n    ],\n    backgroundColor: 'rgba(0, 0, 0, 0)',\n    useUTC: props.useUTC,\n    animation: false,\n    legend: {\n      // Initial legend, further entries are pushed to the below list\n      data: ['Candles', 'Volume', 'Entry', 'Exit'],\n      right: '1%',\n      top: 0,\n      type: 'scroll',\n      pageTextStyle: {\n        color: props.theme === 'dark' ? '#dedede' : '#333',\n      },\n      pageIconColor: props.theme === 'dark' ? '#aaa' : '#2f4554',\n      pageIconInactiveColor: props.theme === 'dark' ? '#2f4554' : '#aaa',\n    },\n    tooltip: {\n      show: true,\n      trigger: 'axis',\n      renderMode: 'richText',\n      backgroundColor: 'rgba(80,80,80,0.7)',\n      borderWidth: 0,\n      textStyle: {\n        color: '#fff',\n      },\n      axisPointer: {\n        type: 'cross',\n        lineStyle: {\n          color: '#cccccc',\n          width: 1,\n          opacity: 1,\n        },\n      },\n      // positioning copied from https://echarts.apache.org/en/option.html#tooltip.position\n      position(pos, params, dom, rect, size) {\n        // tooltip will be fixed on the right if mouse hovering on the left,\n        // and on the left if hovering on the right.\n        const obj = { top: 60 };\n        const mouseIsLeft = pos[0] < size.viewSize[0] / 2;\n        obj[['left', 'right'][+mouseIsLeft]!] = mouseIsLeft ? 5 : 60;\n        return obj;\n      },\n    },\n    axisPointer: {\n      link: [{ xAxisIndex: 'all' }],\n      label: {\n        backgroundColor: '#777',\n      },\n    },\n    xAxis: [\n      {\n        type: 'time',\n        axisLine: { onZero: false },\n        axisTick: { show: true },\n        axisLabel: { show: true },\n        axisPointer: {\n          label: { show: false },\n        },\n        position: 'top',\n        splitLine: { show: false },\n        splitNumber: 20,\n        min: 'dataMin',\n        max: 'dataMax',\n      },\n      {\n        type: 'time',\n        gridIndex: 1,\n        axisLine: { onZero: false },\n        axisTick: { show: false },\n        axisLabel: { show: false },\n        axisPointer: {\n          label: { show: false },\n        },\n        splitLine: { show: false },\n        splitNumber: 20,\n        min: 'dataMin',\n        max: 'dataMax',\n      },\n    ],\n    yAxis: [\n      {\n        scale: true,\n        max: (value) => {\n          return formatDecimal(value.max + (value.max - value.min) * 0.02);\n        },\n        min: (value) => {\n          return formatDecimal(value.min - (value.max - value.min) * 0.04);\n        },\n        name: ' ', // Necessary to avoid layout shift\n        nameLocation: 'middle',\n        nameGap: NAMEGAP,\n        axisLine: { show: showAxisLine },\n        axisLabel: {\n          hideOverlap: true,\n          overflow: 'truncate',\n        },\n        position: props.labelSide,\n      },\n      {\n        scale: true,\n        gridIndex: 1,\n        splitNumber: 2,\n        name: 'volume',\n        nameLocation: 'middle',\n        position: props.labelSide,\n        nameGap: NAMEGAP,\n        axisLabel: { show: false },\n        axisLine: { show: showAxisLine },\n        axisTick: { show: false },\n        splitLine: { show: false },\n      },\n    ],\n    dataZoom: [\n      // Start values are recalculated once the data is known\n      {\n        type: 'inside',\n        xAxisIndex: [0, 1],\n        start: 80,\n        end: 100,\n      },\n      {\n        xAxisIndex: [0, 1],\n        bottom: 10,\n        start: 80,\n        end: 100,\n        ...dataZoomPartial,\n      },\n    ],\n    // visualMap: {\n    //   //  TODO: this would allow to colorize volume bars (if we'd want this)\n    //   //  Needs green / red indicator column in data.\n    //   show: true,\n    //   seriesIndex: 1,\n    //   dimension: 5,\n    //   pieces: [\n    //     {\n    //       max: 500000.0,\n    //       color: downColor,\n    //     },\n    //     {\n    //       min: 500000.0,\n    //       color: upColor,\n    //     },\n    //   ],\n    // },\n  };\n\n  console.log('Initialized');\n  updateChart(true);\n}\n\nfunction updateSliderPosition() {\n  if (!props.sliderPosition) return;\n\n  const start = props.sliderPosition.startValue - props.dataset.timeframe_ms * 40;\n  const end = props.sliderPosition.endValue\n    ? props.sliderPosition.endValue + props.dataset.timeframe_ms * 40\n    : props.sliderPosition.startValue + props.dataset.timeframe_ms * 80;\n  if (candleChart.value) {\n    candleChart.value.dispatchAction({\n      type: 'dataZoom',\n      dataZoomIndex: 0,\n      startValue: start,\n      endValue: end,\n    });\n  }\n}\n\n// const buyData = ref<number[][]>([]);\n// const sellData = ref<number[][]>([]);\n// createSignalData(colDate: number, colOpen: number, colBuy: number, colSell: number): void {\n// Calculate Buy and sell Series\n// if (!this.signalsCalculated) {\n//   // Generate Buy and sell array (using open rate to display marker)\n//   for (let i = 0, len = this.dataset.data.length; i < len; i += 1) {\n//     if (this.dataset.data[i][colBuy] === 1) {\n//       this.buyData.push([this.dataset.data[i][colDate], this.dataset.data[i][colOpen]]);\n//     }\n//     if (this.dataset.data[i][colSell] === 1) {\n//       this.sellData.push([this.dataset.data[i][colDate], this.dataset.data[i][colOpen]]);\n//     }\n//   }\n//   this.signalsCalculated = true;\n// }\n// }\n\nonMounted(() => {\n  initializeChartOptions();\n});\n\nwatch([() => props.useUTC, () => props.theme, () => props.plotConfig], () =>\n  initializeChartOptions(),\n);\n\nwatch([() => props.dataset, () => props.heikinAshi, () => props.showMarkArea], () => updateChart());\n\nwatch(\n  () => props.sliderPosition,\n  () => updateSliderPosition(),\n);\n</script>\n\n<template>\n  <div class=\"h-full w-full\">\n    <ECharts v-if=\"hasData\" ref=\"candleChart\" :theme=\"theme\" autoresize manual-update />\n  </div>\n</template>\n\n<style scoped lang=\"css\">\n.echarts {\n  width: 100%;\n  min-height: 200px;\n  /* TODO: height calculation is not working correctly - uses min-height for now */\n  /* height: 600px; */\n  height: 100%;\n}\n</style>\n","<script setup lang=\"ts\">\nimport type { ChartSliderPosition, PairHistory, Trade } from '@/types';\nimport { LoadingStatus } from '@/types';\n\nconst props = withDefaults(\n  defineProps<{\n    trades?: Trade[];\n    availablePairs: string[];\n    timeframe: string;\n    historicView?: boolean;\n    pair?: string;\n    sliderPosition?: ChartSliderPosition;\n    isSinglePairView?: boolean;\n  }>(),\n  {\n    trades: () => [],\n    historicView: false,\n    pair: '',\n    sliderPosition: undefined,\n    isSinglePairView: true,\n  },\n);\n\nconst emit = defineEmits<{\n  refreshData: [pair: string, columns: string[]];\n}>();\n\nconst settingsStore = useSettingsStore();\nconst colorStore = useColorStore();\nconst botStore = useBotStore();\nconst plotStore = usePlotConfigStore();\n\nconst dataset = computed((): PairHistory => {\n  if (props.historicView) {\n    return botStore.activeBot.history[`${props.pair}__${props.timeframe}`]?.data;\n  }\n  return botStore.activeBot.candleData[`${props.pair}__${props.timeframe}`]?.data;\n});\n\nconst datasetColumns = computed(() =>\n  dataset.value ? (dataset.value.all_columns ?? dataset.value.columns) : [],\n);\nconst datasetLoadedColumns = computed(() =>\n  dataset.value ? (dataset.value.columns ?? dataset.value.all_columns) : [],\n);\n\nconst hasDataset = computed(() => dataset.value && dataset.value.data.length > 0);\nconst isLoadingDataset = computed((): boolean => {\n  if (props.historicView) {\n    return botStore.activeBot.historyStatus === LoadingStatus.loading;\n  }\n\n  return botStore.activeBot.candleDataStatus === LoadingStatus.loading;\n});\nconst noDatasetText = computed((): string => {\n  const status = props.historicView\n    ? botStore.activeBot.historyStatus\n    : botStore.activeBot.candleDataStatus;\n\n  switch (status) {\n    case LoadingStatus.not_loaded:\n      return 'Not loaded yet.';\n    case LoadingStatus.loading:\n      return 'Loading...';\n    case LoadingStatus.success:\n      return 'No data available';\n    case LoadingStatus.error:\n      return 'Failed to load data';\n    default:\n      return 'Unknown';\n  }\n});\n\nfunction refresh() {\n  emit('refreshData', props.pair, plotStore.usedColumns);\n}\n\nfunction refreshIfNecessary() {\n  if (!hasDataset.value) {\n    refresh();\n  }\n}\n\nfunction assignFirstPair() {\n  const [firstPair] = props.availablePairs;\n  if (firstPair) {\n    //props.pair = firstPair;\n  }\n}\n\nwatch(\n  () => props.availablePairs,\n  () => {\n    if (!props.availablePairs.find((p) => p === props.pair)) {\n      assignFirstPair();\n      refresh();\n    }\n  },\n);\n\nwatch(\n  () => plotStore.plotConfig,\n  () => {\n    // Trigger reload if the used columns are not loaded yet but would be available.\n    const hasAllColumns = plotStore.usedColumns.some(\n      (c) => datasetColumns.value.includes(c) && !datasetLoadedColumns.value.includes(c),\n    );\n\n    if (settingsStore.useReducedPairCalls && hasAllColumns) {\n      refresh();\n    }\n  },\n);\n\nwatch(\n  () => props.timeframe,\n  () => {\n    refreshIfNecessary();\n  },\n);\n</script>\n\n<template>\n  <div\n    class=\"flex-fill w-full flex-col align-items-stretch flex\"\n    :class=\"{\n      'h-full': isSinglePairView,\n      'h-150 border border-r border-b border-surface-300 dark:border-surface-700':\n        !isSinglePairView,\n    }\"\n  >\n    <div class=\"flex me-0 w-full items-center justify-between\">\n      <div class=\"ms-1 md:ms-2 flex flex-wrap md:flex-nowrap items-center gap-1\">\n        <div class=\"flex flex-col md:flex-row md:gap-2\">\n          <div class=\"flex flex-row flex-wrap gap-2\">\n            <small v-if=\"dataset\" class=\"text-sm text-nowrap\" title=\"Long entry signals\"\n              >Long entries: {{ dataset.enter_long_signals || dataset.buy_signals }}</small\n            >\n            <small v-if=\"dataset\" class=\"text-sm text-nowrap\" title=\"Long exit signals\"\n              >Long exit: {{ dataset.exit_long_signals || dataset.sell_signals }}</small\n            >\n          </div>\n          <div class=\"flex flex-row flex-wrap gap-2\">\n            <small v-if=\"dataset && dataset.enter_short_signals\" class=\"text-sm text-nowrap\"\n              >Short entries: {{ dataset.enter_short_signals }}</small\n            >\n            <small v-if=\"dataset && dataset.exit_short_signals\" class=\"text-sm text-nowrap\"\n              >Short exits: {{ dataset.exit_short_signals }}</small\n            >\n          </div>\n        </div>\n      </div>\n      <div>\n        {{ pair || 'Pair' }}\n      </div>\n      <div v-if=\"isLoadingDataset\">\n        <ProgressSpinner class=\"w-4 h-4\" stroke-width=\"4\" small label=\"Spinning\" />\n      </div>\n      <div v-else class=\"w-4 h-4\"></div>\n    </div>\n    <div class=\"h-full flex\">\n      <div class=\"min-w-0 w-full flex-1\">\n        <CandleChart\n          v-if=\"hasDataset\"\n          :dataset=\"dataset\"\n          :trades=\"trades\"\n          :plot-config=\"plotStore.plotConfig\"\n          :heikin-ashi=\"settingsStore.useHeikinAshiCandles\"\n          :show-mark-area=\"settingsStore.showMarkArea\"\n          :use-u-t-c=\"settingsStore.timezone === 'UTC'\"\n          :theme=\"settingsStore.chartTheme\"\n          :slider-position=\"sliderPosition\"\n          :color-up=\"colorStore.colorUp\"\n          :color-down=\"colorStore.colorDown\"\n          :start-candle-count=\"settingsStore.chartDefaultCandleCount\"\n          :label-side=\"settingsStore.chartLabelSide\"\n        />\n        <div v-else class=\"m-auto\">\n          <ProgressSpinner v-if=\"isLoadingDataset\" class=\"w-5 h-5\" label=\"Spinning\" />\n          <div v-else class=\"text-lg\">\n            {{ noDatasetText }}\n          </div>\n          <p v-if=\"botStore.activeBot.historyTakesLonger\">\n            This is taking longer than expected ... Hold on ...\n          </p>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n","<script setup lang=\"ts\">\nimport type { ChartSliderPosition, PairHistory, Trade } from '@/types';\n\nconst props = withDefaults(\n  defineProps<{\n    trades?: Trade[];\n    availablePairs: string[];\n    timeframe: string;\n    historicView?: boolean;\n    /** Reload data on pair switch if in historic view */\n    reloadDataOnSwitch?: boolean;\n    strategy?: string;\n    sliderPosition?: ChartSliderPosition;\n  }>(),\n  {\n    trades: () => [],\n    historicView: false,\n    reloadDataOnSwitch: false,\n    strategy: '',\n    sliderPosition: undefined,\n  },\n);\n\nconst emit = defineEmits<{\n  refreshData: [pair: string, columns: string[]];\n}>();\n\nconst settingsStore = useSettingsStore();\nconst botStore = useBotStore();\nconst plotStore = usePlotConfigStore();\n\nconst dataset = computed((): PairHistory => {\n  const firstpair = botStore.activeBot.plotMultiPairs[0];\n  if (props.historicView) {\n    return botStore.activeBot.history[`${firstpair}__${props.timeframe}`]?.data;\n  }\n  return botStore.activeBot.candleData[`${firstpair}__${props.timeframe}`]?.data;\n});\n\nconst datasetColumns = computed(() =>\n  dataset.value ? (dataset.value.all_columns ?? dataset.value.columns) : [],\n);\n\nconst strategyName = computed(() => props.strategy || dataset.value?.strategy || '');\n\nconst showPlotConfigModal = ref(false);\nfunction showConfigurator() {\n  showPlotConfigModal.value = !showPlotConfigModal.value;\n}\n\nconst isSinglePairView = computed(() => botStore.activeBot.plotMultiPairs.length === 1);\n\nwatch(\n  () => botStore.activeBot.selectedPair,\n  () => {\n    botStore.activeBot.plotMultiPairs = [botStore.activeBot.selectedPair];\n  },\n);\n\nonMounted(() => {\n  if (botStore.activeBot.selectedPair) {\n    botStore.activeBot.plotMultiPairs = [botStore.activeBot.selectedPair];\n  } else if (props.availablePairs.length > 0) {\n    assignFirstPair();\n  }\n  plotStore.plotConfigChanged();\n});\n\nfunction refresh() {\n  for (const pair of botStore.activeBot.plotMultiPairs) {\n    emit('refreshData', pair, plotStore.usedColumns);\n  }\n}\n\nfunction refreshIfNecessary(newValue: string[], oldValue: string[] | undefined) {\n  for (const pair of newValue) {\n    if (oldValue?.includes(pair)) {\n      continue;\n    }\n    emit('refreshData', pair, plotStore.usedColumns);\n  }\n}\n\nfunction assignFirstPair() {\n  const [firstPair] = props.availablePairs;\n  if (firstPair) {\n    botStore.activeBot.plotMultiPairs = [firstPair];\n  }\n}\n\nwatch(\n  () => props.availablePairs,\n  () => {\n    if (\n      botStore.activeBot.plotMultiPairs.length === 0 ||\n      botStore.activeBot.plotMultiPairs.some((p) => !props.availablePairs.includes(p))\n    ) {\n      assignFirstPair();\n      refresh();\n    }\n  },\n);\n\nwatch(\n  () => botStore.activeBot.plotMultiPairs,\n  (newValue, oldValue) => {\n    if (newValue.length === 0) return;\n\n    if (!props.historicView || props.reloadDataOnSwitch) {\n      refreshIfNecessary(newValue, oldValue);\n    }\n  },\n  {\n    immediate: true,\n  },\n);\n\nwatch(\n  () => settingsStore.multiPairSelection,\n  () => {\n    if (\n      !settingsStore.multiPairSelection &&\n      botStore.activeBot.plotMultiPairs.length > 1 &&\n      botStore.activeBot.plotMultiPairs[0]\n    ) {\n      // Select only the first pair if switching to single pair mode\n      botStore.activeBot.plotMultiPairs = [botStore.activeBot.plotMultiPairs[0]];\n    }\n  },\n);\n\nconst singlePairSelection = computed({\n  get() {\n    return botStore.activeBot.plotMultiPairs[0] || '';\n  },\n  set(value: string) {\n    botStore.activeBot.plotMultiPairs = [value];\n  },\n});\n</script>\n\n<template>\n  <div class=\"flex h-full\">\n    <div class=\"flex-fill w-full flex-col align-items-stretch flex h-full\">\n      <div class=\"flex me-0 items-center md:gap-2\">\n        <span class=\"md:ms-2 text-nowrap\">{{ strategyName }} | {{ timeframe || '' }}</span>\n        <MultiSelect\n          v-if=\"settingsStore.multiPairSelection\"\n          v-model=\"botStore.activeBot.plotMultiPairs\"\n          class=\"w-80\"\n          :options=\"availablePairs\"\n          optionlabel=\"\"\n          placeholder=\"Select pairs to plot\"\n          size=\"small\"\n          filter\n        >\n        </MultiSelect>\n        <Select\n          v-else\n          v-model=\"singlePairSelection\"\n          class=\"w-80\"\n          :options=\"availablePairs\"\n          size=\"small\"\n          :clearable=\"false\"\n          @input=\"refresh\"\n        >\n        </Select>\n\n        <Button\n          title=\"Refresh chart\"\n          severity=\"secondary\"\n          :disabled=\"botStore.activeBot.plotMultiPairs.length == 0\"\n          size=\"small\"\n          @click=\"refresh\"\n        >\n          <i-mdi-refresh />\n        </Button>\n        <BaseCheckbox v-model=\"settingsStore.multiPairSelection\">\n          <span class=\"text-nowrap\">Multi pair</span>\n        </BaseCheckbox>\n        <div class=\"ms-auto flex items-center gap-2\">\n          <BaseCheckbox v-model=\"settingsStore.showMarkArea\">\n            <span class=\"text-nowrap\">Show Chart Areas</span>\n          </BaseCheckbox>\n          <BaseCheckbox v-model=\"settingsStore.useHeikinAshiCandles\">\n            <span class=\"text-nowrap\">Heikin Ashi</span>\n          </BaseCheckbox>\n\n          <PlotConfigSelect></PlotConfigSelect>\n\n          <div class=\"me-0 md:me-1\">\n            <Button\n              size=\"small\"\n              title=\"Plot configurator\"\n              severity=\"secondary\"\n              @click=\"showConfigurator\"\n            >\n              <template #icon>\n                <i-mdi-cog width=\"12\" height=\"12\" />\n              </template>\n            </Button>\n          </div>\n        </div>\n      </div>\n      <div\n        v-if=\"botStore.activeBot.plotMultiPairs?.length > 0\"\n        :class=\"{\n          'min-w-0 w-full h-full ': isSinglePairView,\n          'grid grid-cols-1 lg:grid-cols-2': !isSinglePairView,\n        }\"\n      >\n        <SingleCandleChartContainer\n          v-for=\"pair in botStore.activeBot.plotMultiPairs\"\n          :key=\"pair\"\n          :available-pairs=\"availablePairs\"\n          :pair=\"pair\"\n          :historic-view=\"botStore.activeBot.isWebserverMode\"\n          :timeframe=\"timeframe\"\n          :trades=\"props.trades\"\n          :slider-position=\"props.sliderPosition\"\n          :is-single-pair-view=\"isSinglePairView\"\n          @refresh-data=\"refresh()\"\n        >\n        </SingleCandleChartContainer>\n      </div>\n      <div v-else class=\"flex flex-col items-center justify-center h-full w-full\">\n        <span class=\"text-2xl font-semibold\">No pair selected</span>\n      </div>\n    </div>\n    <Dialog\n      id=\"plotConfiguratorModal\"\n      v-model:visible=\"showPlotConfigModal\"\n      header=\"Plot Configurator\"\n      ok-only\n      hide-backdrop\n    >\n      <PlotConfigurator :is-visible=\"showPlotConfigModal\" :columns=\"datasetColumns\" />\n    </Dialog>\n  </div>\n</template>\n"],"names":["style","classes","_ref","instance","props","TextareaStyle","BaseStyle","script$1","BaseInput","_typeof","o","_defineProperty","e","r","t","_toPropertyKey","i","_toPrimitive","script","_this","currentHeight","currentHeightValue","initialScrollHeight","needsExpanding","needsShrinking","event","mergeProps","cn","_hoisted_1","render","_ctx","_cache","$props","$setup","$data","$options","openBlock","createElementBlock","__props","emit","__emit","selAvailableIndicator","ref","emitIndicator","abort","onMounted","watch","newValue","_openBlock","_createElementBlock","_createElementVNode","_hoisted_2","_hoisted_3","_toDisplayString","_createVNode","_component_Select","_unref","$event","_component_Button","_component_i_mdi_close","_ref2","ColorPickerStyle","BaseEditableHolder","ZIndex","rect","top","left","saturation","brightness","value","hsbValue","hsb","rgb","hex","len","hexValue","min","max","delta","h","s","v","t1","t2","t3","key","el","relativePosition","absolutePosition","_this$formField$onBlu","_this$formField","addClass","removeClass","_this2","ConnectedOverlayScrollHandler","_this3","isTouchDevice","OverlayEventBus","Portal","ownKeys","_objectSpread","_component_Portal","resolveComponent","createCommentVNode","createVNode","withCtx","Transition","createElementVNode","randomColor","selColor_","selColor","computed","val","graphType","ChartType","availableGraphTypes","cancelled","fillTo","scatterSymbolSize","newColor","combinedIndicator","firstIndicator","xx","watchDebounced","_component_InputGroup","_component_InputGroupAddon","_component_ColorPicker","_component_InputText","_component_i_mdi_dice_multiple","_createBlock","_component_PlotIndicatorSelect","_hoisted_4","_component_InputNumber","_option","index","getItemOptions","ListboxStyle","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","a","_arrayLikeToArray","n","fn","option","resolveFieldData","itemOptions","optionGroup","focus","firstFocusableEl","getFirstFocusableElement","isElement","relatedTarget","metaKey","isPrintableCharacter","item","selected","valueChanged","metaSelection","start","end","rangeStart","rangeEnd","optionIndex","pressedInInputText","target","_this$getOptionLabel","isNotEmpty","value1","value2","equals","_this4","optionValue","_this5","_this6","findLastIndex","_this7","matchedOptionIndex","_this8","_this9","_loop","_ret","_this0","_this1","_this10","_this11","firstCheckUp","selectedIndex","_char","_this12","_this13","_this14","id","element","findSingle","contentRef","FilterService","_this15","filteredOptions","optionGroupChildren","filteredChildren","_this16","Ripple","InputText","VirtualScroller","InputIcon","IconField","SearchIcon","CheckIcon","BlankIcon","_hoisted_5","_hoisted_6","_component_SearchIcon","_component_InputIcon","_component_IconField","_component_CheckIcon","_component_BlankIcon","_component_VirtualScroller","_directive_ripple","resolveDirective","renderSlot","normalizeClass","createBlock","normalizeProps","toDisplayString","createSlots","styleClass","items","contentStyle","itemSize","Fragment","renderList","createTextVNode","withDirectives","options","isMergeableObject","isNonNullObject","isSpecial","stringValue","isReactElement","canUseSymbol","REACT_ELEMENT_TYPE","emptyTarget","cloneUnlessOtherwiseSpecified","deepmerge","defaultArrayMerge","source","getMergeFunction","customMerge","getEnumerableOwnPropertySymbols","symbol","getKeys","propertyIsOnObject","object","property","propertyIsUnsafe","mergeObject","destination","sourceIsArray","targetIsArray","sourceAndTargetTypesMatch","array","prev","next","deepmerge_1","cjs","plotTemplates","replaceTemplateColumns","template","nameMap","newTemplate","deepClone","newMainPlot","newKey","newSubplots","subplotKey","newSubplot","usePlotTemplates","getTemplateContent","templateName","applyPlotTemplate","currentConfig","deepMerge","visible","_useModel","plotTemplateNames","plotStore","usePlotConfigStore","fromTemplateApply","selTemplateName","indicatorMap","clickStartUseTemplate","showIndicatorMapping","plotConfigColumns","acc","indicator","_Fragment","_component_ListBox","_component_i_mdi_check","_component_EditValue","botStore","useBotStore","plotConfigNameLoc","selIndicatorName","addNewIndicator","showConfig","selSubPlot","tempPlotConfig","tempPlotConfigValid","isMainPlot","currentPlotConfig","subplots","usedColumns","usedCols","selSubPlot_","col","addIndicator","newIndicator","name","selIndicator","currentIndicator","plotConfigJson","removeIndicator","clickAddNewIndicator","addSubplot","newSubplotName","deleteSubplot","subplotName","renameSubplot","oldName","newName","oldSubPlot","loadPlotConfig","existingConf","loadConfigFromString","loadPlotConfigFromStrategy","showAlert","strategyPlotConfig","savePlotConfig","addNewIndicatorSelected","fromPlotTemplateVisible","showTagsInTooltips","markAreaZIndex","_component_PlotConfigSelect","_component_Divider","_component_BaseCheckbox","_component_PlotFromTemplate","_component_PlotIndicator","_component_Textarea","calculateDiff","columns","data","colFrom","colTo","fromIdx","toIdx","hasBothColumns","original","candle","diff","getDiffColumnsFromPlotConfig","plotConfig","result","ROUND_UP","ROUND_DOWN","ROUND_CLOSER","roundTimeframe","timeframeMs","timestamp","direction","offset","up","usePercentageTool","chartRef","theme","timeframe_ms","inputListener","useKeyModifier","color","startPos","drawLimitPerSecond","canDraw","active","closing","boxHeight","boxWidth","roundTF","mouseMove","draw","mouseDown","drawEnd","startValues","startnew","drawStart","x","y","endValues","startPrice","endPrice","startTime","endTime","timeDiff","xr","timeElapsed","humanizeDuration","pct","heikinAshiDataset","openIdx","closeIdx","highIdx","lowIdx","prevCandle","idx","open","close","high","low","hopen","hclose","hhigh","hlow","splitTradePair","pair","baseCurrency","quoteCurrency","quoteCurrencySplit","buildTooltipCost","order","formatPriceCurrency","buildToolTip","trade","side","tooltip","formatPercent","buildAdjustmentToolTip","ADJUSTMENT_SYMBOL","OPEN_CLOSE_SYMBOL","SHORT_COLOR","LONG_COLOR","getTradeEntries","dataset","trades","tradeData","stop_ts_adjusted","openTs","j","orderTs","generateTradeSeries","nameTrades","openTrade","tradesSeries","generateMarkArea","enabled","markArea","area","markLine","line","generateMarkAreaSeries","generateCandleSeries","colDate","axis","sp","generateAreaCandleSeries","fillCol","fillValue","areaSeries","areaOptions","NAMEGAP","SUBPLOTHEIGHT","showAxisLine","buySignalColor","shortEntrySignalColor","sellSignalColor","shortexitSignalColor","use","AxisPointerComponent","CalendarComponent","DatasetComponent","DataZoomComponent","GridComponent","LegendComponent","TimelineComponent","TitleComponent","ToolboxComponent","TooltipComponent","VisualMapComponent","VisualMapPiecewiseComponent","MarkAreaComponent","MarkLineComponent","CandlestickChart","BarChart","LineChart","ScatterChart","CanvasRenderer","GraphicComponent","isLabelLeft","MARGINLEFT","MARGINRIGHT","upColor","upBorderColor","downColor","downBorderColor","candleChart","chartOptions","strategy","timeframe","hasData","filteredTrades","chartTitle","diffCols","toRef","updateChart","initial","colOpen","colHigh","colLow","colClose","colVolume","colEnterTag","colExitTag","colEntryData","colExitData","colShortEntryData","colShortExitData","subplotCount","startingZoom","scrollPastLength","lastColDate","newArray","signalConfigs","signal","tagShort","fillColKey","currentSeries","plotIndex","currGridIdx","sk","sv","localGrid","initializeChartOptions","pos","params","dom","size","obj","mouseIsLeft","formatDecimal","dataZoomPartial","updateSliderPosition","ECharts","settingsStore","useSettingsStore","colorStore","useColorStore","datasetColumns","datasetLoadedColumns","hasDataset","isLoadingDataset","LoadingStatus","noDatasetText","refresh","refreshIfNecessary","assignFirstPair","firstPair","hasAllColumns","c","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_component_ProgressSpinner","_hoisted_11","_hoisted_12","_hoisted_13","_component_CandleChart","_hoisted_14","_hoisted_15","firstpair","strategyName","showPlotConfigModal","showConfigurator","isSinglePairView","oldValue","singlePairSelection","_component_MultiSelect","_component_i_mdi_refresh","_component_i_mdi_cog","_normalizeClass","_component_SingleCandleChartContainer","_component_Dialog","_component_PlotConfigurator"],"mappings":"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","x_google_ignoreList":[0,1,2,4,5,6,9,10,11,12]}