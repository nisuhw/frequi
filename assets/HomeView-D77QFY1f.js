import{d as S,u as T,r as h,o as E,c as f,a as p,w as L,b as s,e as l,s as A,f as m,i as C,g as V,h as y,_ as F,m as D,j as w,t as O,k as q,l as z,n as M,p as U,q as k,F as j,v as H,x as R,y as $,z as J,A as W,B as G,C as K}from"./index-BoH2X4lE.js";import{_ as P}from"./check-BvUZzYk1.js";import{u as Q,_ as X}from"./useSortable--OsEPDiX.js";import{_ as Y}from"./content-copy-BFTpfONv.js";const Z={class:"flex gap-1"},ee=S({__name:"BotRename",props:{bot:{type:Object,required:!0}},emits:["cancelled","saved"],setup(x,{emit:e}){const a=x,d=e,u=T(),c=h("");E(()=>{c.value=a.bot.botName});const g=()=>{u.updateBot(a.bot.botId,{botName:c.value}),d("saved")};return(B,_)=>{const t=A,r=P,o=V,v=F;return p(),f("form",{class:"flex w-full gap-2",onSubmit:L(g,["prevent"])},[s(t,{modelValue:m(c),"onUpdate:modelValue":_[0]||(_[0]=i=>C(c)?c.value=i:null),size:"small",class:"w-full",placeholder:"Bot name",autofocus:""},null,8,["modelValue"]),l("div",Z,[s(o,{type:"submit",size:"small",severity:"secondary",title:"Save",class:"w-8 h-8 p-0!"},{default:y(()=>[s(r)]),_:1}),s(o,{size:"small",severity:"secondary",title:"Cancel",class:"w-8 h-8 p-0!",onClick:_[1]||(_[1]=i=>B.$emit("cancelled"))},{default:y(()=>[s(v)]),_:1})])],32)}}}),te={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function oe(x,e){return p(),f("svg",te,e[0]||(e[0]=[l("path",{fill:"currentColor",d:"M12 1L8 5h3v9h2V5h3m2 18H6a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h3v2H6v12h12V9h-3V7h3a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2"},null,-1)]))}const ne=D({name:"mdi-export-variant",render:oe}),se={class:"flex flex-col gap-4"},le={class:"flex flex-col gap-2"},ae={class:"flex justify-end gap-2"},re=S({__name:"ExportModal",props:{buttonText:{default:"Open Text Area"},dialogTitle:{default:"Text Area Dialog"}},setup(x,{expose:e}){const a=x,d=h(!1),u=h(""),c=M();function g(){const r=localStorage.getItem("ftAuthLoginInfo");if(r)try{const o=JSON.parse(r),v=Object.values(o).map(i=>({botName:i.botName,url:i.apiUrl,username:i.username,accessToken:i.accessToken,refreshToken:i.refreshToken}));u.value=btoa(JSON.stringify(v))}catch(o){console.error("Error parsing auth info:",o),u.value=""}else u.value="";d.value=!0}function B(){d.value=!1}async function _(){try{await navigator.clipboard.writeText(u.value),c.add({summary:"Success",detail:"Content copied to clipboard",severity:"success",life:3e3})}catch(r){console.error("Failed to copy text to clipboard:",r),c.add({summary:"Error",detail:"Failed to copy content to clipboard",severity:"error",life:3e3})}}function t(r){r.target.select()}return e({openDialog:g}),(r,o)=>{const v=ne,i=V,n=z,b=Y,N=q;return p(),f("div",null,[s(i,{severity:"secondary",onClick:g},{default:y(()=>[s(v,{class:"me-1"}),w(O(a.buttonText),1)]),_:1}),s(N,{visible:m(d),"onUpdate:visible":o[1]||(o[1]=I=>C(d)?d.value=I:null),header:a.dialogTitle,"dismissable-mask":!0,class:"w-[600px]"},{default:y(()=>[l("div",se,[l("div",le,[o[2]||(o[2]=l("label",{for:"textArea",class:"font-medium"},"Exported JSON in Base64:",-1)),s(n,{id:"textArea",modelValue:m(u),"onUpdate:modelValue":o[0]||(o[0]=I=>C(u)?u.value=I:null),rows:"8",class:"w-full",placeholder:"No bot found...",readonly:"",style:{resize:"none","overflow-y":"auto"},onFocus:t},null,8,["modelValue"])]),l("div",ae,[s(i,{severity:"secondary",onClick:_},{default:y(()=>[s(b,{class:"me-1"}),o[3]||(o[3]=w("Copy "))]),_:1,__:[3]}),s(i,{severity:"primary",onClick:B},{default:y(()=>o[4]||(o[4]=[w("Close")])),_:1,__:[4]})])])]),_:1},8,["visible","header"])])}}}),ie={key:0,class:"w-full mx-2"},de={key:0,class:"font-bold text-2xl mb-2"},ce=["active","title","onClick"],ue={key:1,class:"mt-2 flex gap-2 justify-center"},pe=S({__name:"BotList",props:{small:{type:Boolean}},setup(x){const e=T(),a=h([]),d=h(),u=h(null),c=U(()=>e.availableBotsSorted);Q(u,c,{handle:".handle",onUpdate:t=>{const r=c.value[t.oldIndex].botId,o=c.value[t.newIndex].botId;e.updateBot(r,{sortId:t.newIndex}),e.updateBot(o,{sortId:t.oldIndex})}});const g=t=>{a.value.includes(t)||a.value.push(t)},B=t=>{const r={...e.botStores[t].getLoginInfo(),botId:t};d.value?.openLoginModal(r)},_=t=>{a.value.includes(t)&&a.value.splice(a.value.indexOf(t),1)};return(t,r)=>{const o=X,v=ee,i=J;return m(e).botCount>0?(p(),f("div",ie,[t.small?k("",!0):(p(),f("h3",de,"Available bots")),l("ul",{ref_key:"sortContainer",ref:u,class:"flex flex-col divide-y border-x border-surface-500 rounded-sm border-y divide-solid divide-surface-500"},[(p(!0),f(j,null,H(m(c),n=>(p(),f("li",{key:n.botId,active:n.botId===m(e).selectedBot,button:"",title:`${n.botId} - ${n.botName} - ${n.botUrl} - ${m(e).botStores[n.botId].isBotLoggedIn?"":"Login info expired!"}`,class:R(["flex items-center p-2",{"bg-primary-100 dark:bg-primary-800 underline font-semibold":n.botId===m(e).selectedBot}]),onClick:b=>m(e).selectBot(n.botId)},[t.small?k("",!0):(p(),$(o,{key:0,class:"handle cursor-pointer me-2 fs-4"})),m(a).includes(n.botId)?(p(),$(v,{key:1,bot:n,onSaved:b=>_(n.botId),onCancelled:b=>_(n.botId)},null,8,["bot","onSaved","onCancelled"])):(p(),$(i,{key:2,bot:n,"no-buttons":t.small,onEdit:b=>g(n.botId),onEditLogin:b=>B(n.botId)},null,8,["bot","no-buttons","onEdit","onEditLogin"]))],10,ce))),128))],512),t.small?k("",!0):(p(),f("div",ue,[s(W,{ref_key:"loginModal",ref:d,"login-text":"Add new bot"},null,512),s(re,{"button-text":"Export","dialog-title":"Export Data"})]))])):k("",!0)}}}),me={},_e={class:"mt-5"},fe={class:"flex justify-center"};function ve(x,e){const a=pe,d=K;return p(),f("div",_e,[l("div",fe,[s(a,{class:"max-w-xl"})]),s(d),e[0]||(e[0]=l("div",{title:"Freqtrade logo",class:"logo-svg my-5 mx-auto dark:bg-white bg-black sm:w-[250px] sm:h-[250px] w-[150px] h-[150px] transition-all duration-300"},null,-1)),e[1]||(e[1]=l("h1",{class:"font-bold text-2xl sm:text-4xl mb-4 transition-all"},"Welcome to the Freqtrade UI",-1)),e[2]||(e[2]=l("div",null,"This page allows you to control your trading bot.",-1)),s(d),e[3]||(e[3]=l("p",{class:"mb-2"},[w(" If you need any help, please refer to the "),l("a",{class:"text-primary underline cursor-pointer",href:"https://www.freqtrade.io/en/latest/",target:"_blank"}," Freqtrade Documentation "),w(" . ")],-1)),e[4]||(e[4]=l("p",{class:"mb-5"},[w("Have fun - "),l("i",null,"wishes you the Freqtrade team")],-1))])}const he=G(me,[["render",ve],["__scopeId","data-v-4307fab4"]]);export{he as default};
//# sourceMappingURL=HomeView-D77QFY1f.js.map
